<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CloudNet Overview</title>
    <link rel="shortcut icon" href="/assets/img/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <style>
      h1 {
        text-align: center;
      }
      .container {
        width: 80%;
        margin: 0 auto;
      }
      .status,
      .server-list {
        margin-bottom: 30px;
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }
      table,
      th,
      td {
        border: 1px solid #ddd;
      }
      th,
      td {
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f4f4f4;
      }
    </style>
  </head>
  <body>
    <%- include('../../partials/header'); %>
    <main>
      <div class="container">
        <h1>CloudNet Overview</h1>

        <!-- CloudNet Status -->
        <div class="status">
          <h2>General Status</h2>
          <p><strong>CloudNet Version:</strong> <%= status.version %></p>
          <p><strong>Servers Running:</strong> <%= status.serversRunning %></p>
          <p>
            <strong>Total Memory Usage:</strong> <%= status.totalMemoryUsage %>
            MB
          </p>
          <p>
            <strong>Total Disk Space Usage:</strong> <%= status.totalDiskUsage
            %> GB
          </p>
        </div>

        <!-- Servers List -->
        <div class="server-list">
          <h2>Active Servers</h2>
          <% if (servers.length > 0) { %>
          <table>
            <thead>
              <tr>
                <th>Server ID</th>
                <th>Name</th>
                <th>Status</th>
                <th>Memory Usage (MB)</th>
                <th>Disk Usage (GB)</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <% servers.forEach(server => { %>
              <tr>
                <td><%= server.id %></td>
                <td><%= server.name %></td>
                <td><%= server.status %></td>
                <td><%= server.memoryUsage %></td>
                <td><%= server.diskUsage %></td>
                <td>
                  <a href="/dashboard/cloudnet/servers/<%= server.id %>"
                    >Details</a
                  >
                  |
                  <a href="/api/cloudnet/servers/<%= server.id %>/stop">Stop</a>
                  |
                  <a href="/api/cloudnet/servers/<%= server.id %>/delete"
                    >Delete</a
                  >
                </td>
              </tr>
              <% }) %>
            </tbody>
          </table>
          <% } else { %>
          <p>No active servers available.</p>
          <% } %>
        </div>
      </div>
    </main>
    <%- include('../../partials/footer'); %>
  </body>
</html>
