var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Pl=h((eR,Tl)=>{var er=1e3,tr=er*60,rr=tr*60,Ct=rr*24,w1=Ct*7,E1=Ct*365.25;Tl.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return S1(t);if(r==="number"&&isFinite(t))return e.long?O1(t):x1(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function S1(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*E1;case"weeks":case"week":case"w":return r*w1;case"days":case"day":case"d":return r*Ct;case"hours":case"hour":case"hrs":case"hr":case"h":return r*rr;case"minutes":case"minute":case"mins":case"min":case"m":return r*tr;case"seconds":case"second":case"secs":case"sec":case"s":return r*er;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function x1(t){var e=Math.abs(t);return e>=Ct?Math.round(t/Ct)+"d":e>=rr?Math.round(t/rr)+"h":e>=tr?Math.round(t/tr)+"m":e>=er?Math.round(t/er)+"s":t+"ms"}function O1(t){var e=Math.abs(t);return e>=Ct?Fn(t,e,Ct,"day"):e>=rr?Fn(t,e,rr,"hour"):e>=tr?Fn(t,e,tr,"minute"):e>=er?Fn(t,e,er,"second"):t+" ms"}function Fn(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Is=h((tR,Al)=>{function M1(t){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Pl(),r.destroy=p,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let d=0;for(let v=0;v<c.length;v++)d=(d<<5)-d+c.charCodeAt(v),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(c){let d,v=null,m,w;function q(...O){if(!q.enabled)return;let A=q,L=Number(new Date),I=L-(d||L);A.diff=I,A.prev=d,A.curr=L,d=L,O[0]=r.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let G=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(H,C)=>{if(H==="%%")return"%";G++;let $=r.formatters[C];if(typeof $=="function"){let U=O[G];H=$.call(A,U),O.splice(G,1),G--}return H}),r.formatArgs.call(A,O),(A.log||r.log).apply(A,O)}return q.namespace=c,q.useColors=r.useColors(),q.color=r.selectColor(c),q.extend=n,q.destroy=r.destroy,Object.defineProperty(q,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(m!==r.namespaces&&(m=r.namespaces,w=r.enabled(c)),w),set:O=>{v=O}}),typeof r.init=="function"&&r.init(q),q}function n(c,d){let v=r(this.namespace+(typeof d>"u"?":":d)+c);return v.log=this.log,v}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let d,v=(typeof c=="string"?c:"").split(/[\s,]+/),m=v.length;for(d=0;d<m;d++)v[d]&&(c=v[d].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function s(){let c=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),c}function o(c){if(c[c.length-1]==="*")return!0;let d,v;for(d=0,v=r.skips.length;d<v;d++)if(r.skips[d].test(c))return!1;for(d=0,v=r.names.length;d<v;d++)if(r.names[d].test(c))return!0;return!1}function a(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function l(c){return c instanceof Error?c.stack||c.message:c}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Al.exports=M1});var Il=h((Fe,kn)=>{Fe.formatArgs=R1;Fe.save=C1;Fe.load=T1;Fe.useColors=q1;Fe.storage=P1();Fe.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Fe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function q1(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function R1(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+kn.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Fe.log=console.debug||console.log||(()=>{});function C1(t){try{t?Fe.storage.setItem("debug",t):Fe.storage.removeItem("debug")}catch{}}function T1(){let t;try{t=Fe.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function P1(){try{return localStorage}catch{}}kn.exports=Is()(Fe);var{formatters:A1}=kn.exports;A1.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Nl=h((rR,Ll)=>{"use strict";Ll.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var js=h((nR,Fl)=>{"use strict";var I1=require("os"),jl=require("tty"),Ue=Nl(),{env:pe}=process,dt;Ue("no-color")||Ue("no-colors")||Ue("color=false")||Ue("color=never")?dt=0:(Ue("color")||Ue("colors")||Ue("color=true")||Ue("color=always"))&&(dt=1);"FORCE_COLOR"in pe&&(pe.FORCE_COLOR==="true"?dt=1:pe.FORCE_COLOR==="false"?dt=0:dt=pe.FORCE_COLOR.length===0?1:Math.min(parseInt(pe.FORCE_COLOR,10),3));function Ls(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Ns(t,e){if(dt===0)return 0;if(Ue("color=16m")||Ue("color=full")||Ue("color=truecolor"))return 3;if(Ue("color=256"))return 2;if(t&&!e&&dt===void 0)return 0;let r=dt||0;if(pe.TERM==="dumb")return r;if(process.platform==="win32"){let n=I1.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in pe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in pe)||pe.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in pe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(pe.TEAMCITY_VERSION)?1:0;if(pe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in pe){let n=parseInt((pe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(pe.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(pe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(pe.TERM)||"COLORTERM"in pe?1:r}function L1(t){let e=Ns(t,t&&t.isTTY);return Ls(e)}Fl.exports={supportsColor:L1,stdout:Ls(Ns(!0,jl.isatty(1))),stderr:Ls(Ns(!0,jl.isatty(2)))}});var $l=h((me,Dn)=>{var N1=require("tty"),$n=require("util");me.init=H1;me.log=$1;me.formatArgs=F1;me.save=D1;me.load=U1;me.useColors=j1;me.destroy=$n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");me.colors=[6,2,3,4,5,1];try{let t=js();t&&(t.stderr||t).level>=2&&(me.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}me.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function j1(){return"colors"in me.inspectOpts?!!me.inspectOpts.colors:N1.isatty(process.stderr.fd)}function F1(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+Dn.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=k1()+e+" "+t[0]}function k1(){return me.inspectOpts.hideDate?"":new Date().toISOString()+" "}function $1(...t){return process.stderr.write($n.formatWithOptions(me.inspectOpts,...t)+`
`)}function D1(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function U1(){return process.env.DEBUG}function H1(t){t.inspectOpts={};let e=Object.keys(me.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=me.inspectOpts[e[r]]}Dn.exports=Is()(me);var{formatters:kl}=Dn.exports;kl.o=function(t){return this.inspectOpts.colors=this.useColors,$n.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};kl.O=function(t){return this.inspectOpts.colors=this.useColors,$n.inspect(t,this.inspectOpts)}});var oe=h((iR,Fs)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Fs.exports=Il():Fs.exports=$l()});var Se=h(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.ServiceManager=nr.Service=void 0;var ks=new Map,$s=class{};nr.Service=$s;var Ds=class{static get(e){return ks.get(e)}static set(e,r){return ks.set(e,r)}static reset(e){return ks.delete(e)}};nr.ServiceManager=Ds});var Dl=h(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});var Us=class{constructor(){this.commonStrings={true:!0,false:!1,undefined:void 0,null:null,NaN:NaN}}process(e,r,n){typeof r!="object"&&(n[e]=this._cast(r))}traverse(e,r){for(let n in e)r.apply(this,[n,e[n],e]),e[n]!==null&&typeof e[n]=="object"&&this.traverse(e[n],r)}autocast(e){return typeof e=="object"?(this.traverse(e,this.process),e):this._cast(e)}_cast(e){let r;if(e instanceof Date||typeof e=="boolean")return e;if(!isNaN(e))return Number(e);for(r in this.commonStrings)if(e===r)return this.commonStrings[r];return e}};Hs.default=Us});var Tt=h(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});var G1=oe(),kr=(0,G1.default)("axm:configuration"),Ul=Se(),z1=Dl(),ir=require("path"),Gs=require("fs"),zs=class t{static configureModule(e){Ul.ServiceManager.get("transport")&&Ul.ServiceManager.get("transport").setOptions(e)}static findPackageJson(){try{require.main=t.getMain()}catch{}if(!require.main||!require.main.paths)return;let e=ir.resolve(ir.dirname(require.main.filename),"package.json");try{Gs.statSync(e)}catch{try{e=ir.resolve(ir.dirname(require.main.filename),"..","package.json"),Gs.statSync(e)}catch{kr("Cannot find package.json");try{e=ir.resolve(ir.dirname(require.main.filename),"..","..","package.json"),Gs.statSync(e)}catch{return kr("Cannot find package.json"),null}}return e}return e}static init(e,r){let n=t.findPackageJson(),i;e.module_conf||(e.module_conf={}),e.apm={type:"node",version:null};try{let s=__dirname.replace(/\\/g,"/").indexOf("/build/")>=0?"../../":"../",o=require(s+"package.json");e.apm.version=o.version||null}catch(s){kr("Failed to fetch current apm version: ",s.message)}if(e.isModule===!0)try{i=require(n||""),e.module_version=i.version,e.module_name=i.name,e.description=i.description,i.config&&(e=Object.assign(e,i.config),e.module_conf=i.config)}catch(s){throw new Error(s)}else{e.module_name=process.env.name||"outside-pm2";try{i=require(n||""),e.module_version=i.version,i.config&&(e=Object.assign(e,i.config),e.module_conf=i.config)}catch(s){kr(s.message)}}try{if(process.env[e.module_name]){let s=new z1.default().autocast(JSON.parse(process.env[e.module_name]||""));e=Object.assign(e,s),delete s.probes,e.module_conf=JSON.parse(JSON.stringify(Object.assign(e.module_conf,s))),Object.keys(e.module_conf).forEach(function(o){(o==="password"||o==="passwd")&&e.module_conf[o].length>=1&&(e.module_conf[o]="Password hidden")})}}catch(s){kr(s)}return r===!0||t.configureModule(e),e}static getMain(){return require.main||{filename:"./somefile.js"}}};Bs.default=zs});var Vs=h((Hl,Gl)=>{(function(t){var e=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(f){return Object.prototype.toString.call(f)==="[object Array]"},n=10,i=typeof process=="object"&&typeof process.nextTick=="function",s=typeof Symbol=="function",o=typeof Reflect=="object",a=typeof setImmediate=="function",l=a?setImmediate:setTimeout,p=s?o&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(u){var f=Object.getOwnPropertyNames(u);return f.push.apply(f,Object.getOwnPropertySymbols(u)),f}:Object.keys;function c(){this._events={},this._conf&&d.call(this,this._conf)}function d(u){u&&(this._conf=u,u.delimiter&&(this.delimiter=u.delimiter),u.maxListeners!==t&&(this._maxListeners=u.maxListeners),u.wildcard&&(this.wildcard=u.wildcard),u.newListener&&(this._newListener=u.newListener),u.removeListener&&(this._removeListener=u.removeListener),u.verboseMemoryLeak&&(this.verboseMemoryLeak=u.verboseMemoryLeak),u.ignoreErrors&&(this.ignoreErrors=u.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function v(u,f){var y="(node) warning: possible EventEmitter memory leak detected. "+u+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(y+=" Event name: "+f+"."),typeof process<"u"&&process.emitWarning){var g=new Error(y);g.name="MaxListenersExceededWarning",g.emitter=this,g.count=u,process.emitWarning(g)}else console.error(y),console.trace&&console.trace()}var m=function(u,f,y){var g=arguments.length;switch(g){case 0:return[];case 1:return[u];case 2:return[u,f];case 3:return[u,f,y];default:for(var _=new Array(g);g--;)_[g]=arguments[g];return _}};function w(u,f){for(var y={},g,_=u.length,b=f?f.length:0,S=0;S<_;S++)g=u[S],y[g]=S<b?f[S]:t;return y}function q(u,f,y){this._emitter=u,this._target=f,this._listeners={},this._listenersCount=0;var g,_;if((y.on||y.off)&&(g=y.on,_=y.off),f.addEventListener?(g=f.addEventListener,_=f.removeEventListener):f.addListener?(g=f.addListener,_=f.removeListener):f.on&&(g=f.on,_=f.off),!g&&!_)throw Error("target does not implement any known event API");if(typeof g!="function")throw TypeError("on method must be a function");if(typeof _!="function")throw TypeError("off method must be a function");this._on=g,this._off=_;var b=u._observers;b?b.push(this):u._observers=[this]}Object.assign(q.prototype,{subscribe:function(u,f,y){var g=this,_=this._target,b=this._emitter,S=this._listeners,R=function(){var x=m.apply(null,arguments),M={data:x,name:f,original:u};if(y){var N=y.call(_,M);N!==!1&&b.emit.apply(b,[M.name].concat(x));return}b.emit.apply(b,[f].concat(x))};if(S[u])throw Error("Event '"+u+"' is already listening");this._listenersCount++,b._newListener&&b._removeListener&&!g._onNewListener?(this._onNewListener=function(x){x===f&&S[u]===null&&(S[u]=R,g._on.call(_,u,R))},b.on("newListener",this._onNewListener),this._onRemoveListener=function(x){x===f&&!b.hasListeners(x)&&S[u]&&(S[u]=null,g._off.call(_,u,R))},S[u]=null,b.on("removeListener",this._onRemoveListener)):(S[u]=R,g._on.call(_,u,R))},unsubscribe:function(u){var f=this,y=this._listeners,g=this._emitter,_,b,S=this._off,R=this._target,x;if(u&&typeof u!="string")throw TypeError("event must be a string");function M(){f._onNewListener&&(g.off("newListener",f._onNewListener),g.off("removeListener",f._onRemoveListener),f._onNewListener=null,f._onRemoveListener=null);var N=H.call(g,f);g._observers.splice(N,1)}if(u){if(_=y[u],!_)return;S.call(R,u,_),delete y[u],--this._listenersCount||M()}else{for(b=p(y),x=b.length;x-- >0;)u=b[x],S.call(R,u,y[u]);this._listeners={},this._listenersCount=0,M()}}});function O(u,f,y,g){var _=Object.assign({},f);if(!u)return _;if(typeof u!="object")throw TypeError("options must be an object");var b=Object.keys(u),S=b.length,R,x,M;function N(Y){throw Error('Invalid "'+R+'" option value'+(Y?". Reason: "+Y:""))}for(var J=0;J<S;J++){if(R=b[J],!g&&!e.call(f,R))throw Error('Unknown "'+R+'" option');x=u[R],x!==t&&(M=y[R],_[R]=M?M(x,N):x)}return _}function A(u,f){return(typeof u!="function"||!u.hasOwnProperty("prototype"))&&f("value must be a constructor"),u}function L(u){var f="value must be type of "+u.join("|"),y=u.length,g=u[0],_=u[1];return y===1?function(b,S){if(typeof b===g)return b;S(f)}:y===2?function(b,S){var R=typeof b;if(R===g||R===_)return b;S(f)}:function(b,S){for(var R=typeof b,x=y;x-- >0;)if(R===u[x])return b;S(f)}}var I=L(["function"]),G=L(["object","function"]);function V(u,f,y){var g,_,b=0,S,R=new u(function(x,M,N){y=O(y,{timeout:0,overload:!1},{timeout:function(re,he){return re*=1,(typeof re!="number"||re<0||!Number.isFinite(re))&&he("timeout must be a positive number"),re}}),g=!y.overload&&typeof u.prototype.cancel=="function"&&typeof N=="function";function J(){_&&(_=null),b&&(clearTimeout(b),b=0)}var Y=function(re){J(),x(re)},K=function(re){J(),M(re)};g?f(Y,K,N):(_=[function(re){K(re||Error("canceled"))}],f(Y,K,function(re){if(S)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof re!="function")throw TypeError("onCancel callback must be a function");_.push(re)}),S=!0),y.timeout>0&&(b=setTimeout(function(){var re=Error("timeout");re.code="ETIMEDOUT",b=0,R.cancel(re),M(re)},y.timeout))});return g||(R.cancel=function(x){if(_){for(var M=_.length,N=1;N<M;N++)_[N](x);_[0](x),_=null}}),R}function H(u){var f=this._observers;if(!f)return-1;for(var y=f.length,g=0;g<y;g++)if(f[g]._target===u)return g;return-1}function C(u,f,y,g,_){if(!y)return null;if(g===0){var b=typeof f;if(b==="string"){var S,R,x=0,M=0,N=this.delimiter,J=N.length;if((R=f.indexOf(N))!==-1){S=new Array(5);do S[x++]=f.slice(M,R),M=R+J;while((R=f.indexOf(N,M))!==-1);S[x++]=f.slice(M),f=S,_=x}else f=[f],_=1}else b==="object"?_=f.length:(f=[f],_=1)}var Y=null,K,re,he,ft,ht,Rt=f[g],tt=f[g+1],Ee,de;if(g===_)y._listeners&&(typeof y._listeners=="function"?(u&&u.push(y._listeners),Y=[y]):(u&&u.push.apply(u,y._listeners),Y=[y]));else if(Rt==="*"){for(Ee=p(y),R=Ee.length;R-- >0;)K=Ee[R],K!=="_listeners"&&(de=C(u,f,y[K],g+1,_),de&&(Y?Y.push.apply(Y,de):Y=de));return Y}else if(Rt==="**"){for(ht=g+1===_||g+2===_&&tt==="*",ht&&y._listeners&&(Y=C(u,f,y,_,_)),Ee=p(y),R=Ee.length;R-- >0;)K=Ee[R],K!=="_listeners"&&(K==="*"||K==="**"?(y[K]._listeners&&!ht&&(de=C(u,f,y[K],_,_),de&&(Y?Y.push.apply(Y,de):Y=de)),de=C(u,f,y[K],g,_)):K===tt?de=C(u,f,y[K],g+2,_):de=C(u,f,y[K],g,_),de&&(Y?Y.push.apply(Y,de):Y=de));return Y}else y[Rt]&&(Y=C(u,f,y[Rt],g+1,_));if(re=y["*"],re&&C(u,f,re,g+1,_),he=y["**"],he)if(g<_)for(he._listeners&&C(u,f,he,_,_),Ee=p(he),R=Ee.length;R-- >0;)K=Ee[R],K!=="_listeners"&&(K===tt?C(u,f,he[K],g+2,_):K===Rt?C(u,f,he[K],g+1,_):(ft={},ft[K]=he[K],C(u,f,{"**":ft},g+1,_)));else he._listeners?C(u,f,he,_,_):he["*"]&&he["*"]._listeners&&C(u,f,he["*"],_,_);return Y}function $(u,f,y){var g=0,_=0,b,S=this.delimiter,R=S.length,x;if(typeof u=="string")if((b=u.indexOf(S))!==-1){x=new Array(5);do x[g++]=u.slice(_,b),_=b+R;while((b=u.indexOf(S,_))!==-1);x[g++]=u.slice(_)}else x=[u],g=1;else x=u,g=u.length;if(g>1){for(b=0;b+1<g;b++)if(x[b]==="**"&&x[b+1]==="**")return}var M=this.listenerTree,N;for(b=0;b<g;b++)if(N=x[b],M=M[N]||(M[N]={}),b===g-1)return M._listeners?(typeof M._listeners=="function"&&(M._listeners=[M._listeners]),y?M._listeners.unshift(f):M._listeners.push(f),!M._listeners.warned&&this._maxListeners>0&&M._listeners.length>this._maxListeners&&(M._listeners.warned=!0,v.call(this,M._listeners.length,N))):M._listeners=f,!0;return!0}function U(u,f,y,g){for(var _=p(u),b=_.length,S,R,x,M=u._listeners,N;b-- >0;)R=_[b],S=u[R],R==="_listeners"?x=y:x=y?y.concat(R):[R],N=g||typeof R=="symbol",M&&f.push(N?x:x.join(this.delimiter)),typeof S=="object"&&U.call(this,S,f,x,N);return f}function ee(u){for(var f=p(u),y=f.length,g,_,b;y-- >0;)_=f[y],g=u[_],g&&(b=!0,_!=="_listeners"&&!ee(g)&&delete u[_]);return b}function P(u,f,y){this.emitter=u,this.event=f,this.listener=y}P.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function D(u,f,y){if(y===!0)_=!0;else if(y===!1)g=!0;else{if(!y||typeof y!="object")throw TypeError("options should be an object or true");var g=y.async,_=y.promisify,b=y.nextTick,S=y.objectify}if(g||b||_){var R=f,x=f._origin||f;if(b&&!i)throw Error("process.nextTick is not supported");_===t&&(_=f.constructor.name==="AsyncFunction"),f=function(){var M=arguments,N=this,J=this.event;return _?b?Promise.resolve():new Promise(function(Y){l(Y)}).then(function(){return N.event=J,R.apply(N,M)}):(b?process.nextTick:l)(function(){N.event=J,R.apply(N,M)})},f._async=!0,f._origin=x}return[f,S?new P(this,u,f):this]}function T(u){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,d.call(this,u)}T.EventEmitter2=T,T.prototype.listenTo=function(u,f,y){if(typeof u!="object")throw TypeError("target musts be an object");var g=this;y=O(y,{on:t,off:t,reducers:t},{on:I,off:I,reducers:G});function _(b){if(typeof b!="object")throw TypeError("events must be an object");var S=y.reducers,R=H.call(g,u),x;R===-1?x=new q(g,u,y):x=g._observers[R];for(var M=p(b),N=M.length,J,Y=typeof S=="function",K=0;K<N;K++)J=M[K],x.subscribe(J,b[J]||J,Y?S:S&&S[J])}return r(f)?_(w(f)):_(typeof f=="string"?w(f.split(/\s+/)):f),this},T.prototype.stopListeningTo=function(u,f){var y=this._observers;if(!y)return!1;var g=y.length,_,b=!1;if(u&&typeof u!="object")throw TypeError("target should be an object");for(;g-- >0;)_=y[g],(!u||_._target===u)&&(_.unsubscribe(f),b=!0);return b},T.prototype.delimiter=".",T.prototype.setMaxListeners=function(u){u!==t&&(this._maxListeners=u,this._conf||(this._conf={}),this._conf.maxListeners=u)},T.prototype.getMaxListeners=function(){return this._maxListeners},T.prototype.event="",T.prototype.once=function(u,f,y){return this._once(u,f,!1,y)},T.prototype.prependOnceListener=function(u,f,y){return this._once(u,f,!0,y)},T.prototype._once=function(u,f,y,g){return this._many(u,1,f,y,g)},T.prototype.many=function(u,f,y,g){return this._many(u,f,y,!1,g)},T.prototype.prependMany=function(u,f,y,g){return this._many(u,f,y,!0,g)},T.prototype._many=function(u,f,y,g,_){var b=this;if(typeof y!="function")throw new Error("many only accepts instances of Function");function S(){return--f===0&&b.off(u,S),y.apply(this,arguments)}return S._origin=y,this._on(u,S,g,_)},T.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||c.call(this);var u=arguments[0],f,y=this.wildcard,g,_,b,S,R;if(u==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(y&&(f=u,u!=="newListener"&&u!=="removeListener"&&typeof u=="object")){if(_=u.length,s){for(b=0;b<_;b++)if(typeof u[b]=="symbol"){R=!0;break}}R||(u=u.join(this.delimiter))}var x=arguments.length,M;if(this._all&&this._all.length)for(M=this._all.slice(),b=0,_=M.length;b<_;b++)switch(this.event=u,x){case 1:M[b].call(this,u);break;case 2:M[b].call(this,u,arguments[1]);break;case 3:M[b].call(this,u,arguments[1],arguments[2]);break;default:M[b].apply(this,arguments)}if(y)M=[],C.call(this,M,f,this.listenerTree,0,_);else if(M=this._events[u],typeof M=="function"){switch(this.event=u,x){case 1:M.call(this);break;case 2:M.call(this,arguments[1]);break;case 3:M.call(this,arguments[1],arguments[2]);break;default:for(g=new Array(x-1),S=1;S<x;S++)g[S-1]=arguments[S];M.apply(this,g)}return!0}else M&&(M=M.slice());if(M&&M.length){if(x>3)for(g=new Array(x-1),S=1;S<x;S++)g[S-1]=arguments[S];for(b=0,_=M.length;b<_;b++)switch(this.event=u,x){case 1:M[b].call(this);break;case 2:M[b].call(this,arguments[1]);break;case 3:M[b].call(this,arguments[1],arguments[2]);break;default:M[b].apply(this,g)}return!0}else if(!this.ignoreErrors&&!this._all&&u==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},T.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||c.call(this);var u=arguments[0],f=this.wildcard,y,g,_,b,S,R;if(u==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(f&&(y=u,u!=="newListener"&&u!=="removeListener"&&typeof u=="object")){if(b=u.length,s){for(S=0;S<b;S++)if(typeof u[S]=="symbol"){g=!0;break}}g||(u=u.join(this.delimiter))}var x=[],M=arguments.length,N;if(this._all)for(S=0,b=this._all.length;S<b;S++)switch(this.event=u,M){case 1:x.push(this._all[S].call(this,u));break;case 2:x.push(this._all[S].call(this,u,arguments[1]));break;case 3:x.push(this._all[S].call(this,u,arguments[1],arguments[2]));break;default:x.push(this._all[S].apply(this,arguments))}if(f?(N=[],C.call(this,N,y,this.listenerTree,0)):N=this._events[u],typeof N=="function")switch(this.event=u,M){case 1:x.push(N.call(this));break;case 2:x.push(N.call(this,arguments[1]));break;case 3:x.push(N.call(this,arguments[1],arguments[2]));break;default:for(_=new Array(M-1),R=1;R<M;R++)_[R-1]=arguments[R];x.push(N.apply(this,_))}else if(N&&N.length){if(N=N.slice(),M>3)for(_=new Array(M-1),R=1;R<M;R++)_[R-1]=arguments[R];for(S=0,b=N.length;S<b;S++)switch(this.event=u,M){case 1:x.push(N[S].call(this));break;case 2:x.push(N[S].call(this,arguments[1]));break;case 3:x.push(N[S].call(this,arguments[1],arguments[2]));break;default:x.push(N[S].apply(this,_))}}else if(!this.ignoreErrors&&!this._all&&u==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(x)},T.prototype.on=function(u,f,y){return this._on(u,f,!1,y)},T.prototype.prependListener=function(u,f,y){return this._on(u,f,!0,y)},T.prototype.onAny=function(u){return this._onAny(u,!1)},T.prototype.prependAny=function(u){return this._onAny(u,!0)},T.prototype.addListener=T.prototype.on,T.prototype._onAny=function(u,f){if(typeof u!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),f?this._all.unshift(u):this._all.push(u),this},T.prototype._on=function(u,f,y,g){if(typeof u=="function")return this._onAny(u,f),this;if(typeof f!="function")throw new Error("on only accepts instances of Function");this._events||c.call(this);var _=this,b;return g!==t&&(b=D.call(this,u,f,g),f=b[0],_=b[1]),this._newListener&&this.emit("newListener",u,f),this.wildcard?($.call(this,u,f,y),_):(this._events[u]?(typeof this._events[u]=="function"&&(this._events[u]=[this._events[u]]),y?this._events[u].unshift(f):this._events[u].push(f),!this._events[u].warned&&this._maxListeners>0&&this._events[u].length>this._maxListeners&&(this._events[u].warned=!0,v.call(this,this._events[u].length,u))):this._events[u]=f,_)},T.prototype.off=function(u,f){if(typeof f!="function")throw new Error("removeListener only takes instances of Function");var y,g=[];if(this.wildcard){var _=typeof u=="string"?u.split(this.delimiter):u.slice();if(g=C.call(this,null,_,this.listenerTree,0),!g)return this}else{if(!this._events[u])return this;y=this._events[u],g.push({_listeners:y})}for(var b=0;b<g.length;b++){var S=g[b];if(y=S._listeners,r(y)){for(var R=-1,x=0,M=y.length;x<M;x++)if(y[x]===f||y[x].listener&&y[x].listener===f||y[x]._origin&&y[x]._origin===f){R=x;break}if(R<0)continue;return this.wildcard?S._listeners.splice(R,1):this._events[u].splice(R,1),y.length===0&&(this.wildcard?delete S._listeners:delete this._events[u]),this._removeListener&&this.emit("removeListener",u,f),this}else(y===f||y.listener&&y.listener===f||y._origin&&y._origin===f)&&(this.wildcard?delete S._listeners:delete this._events[u],this._removeListener&&this.emit("removeListener",u,f))}return this.listenerTree&&ee(this.listenerTree),this},T.prototype.offAny=function(u){var f=0,y=0,g;if(u&&this._all&&this._all.length>0){for(g=this._all,f=0,y=g.length;f<y;f++)if(u===g[f])return g.splice(f,1),this._removeListener&&this.emit("removeListenerAny",u),this}else{if(g=this._all,this._removeListener)for(f=0,y=g.length;f<y;f++)this.emit("removeListenerAny",g[f]);this._all=[]}return this},T.prototype.removeListener=T.prototype.off,T.prototype.removeAllListeners=function(u){if(u===t)return!this._events||c.call(this),this;if(this.wildcard){var f=C.call(this,null,u,this.listenerTree,0),y,g;if(!f)return this;for(g=0;g<f.length;g++)y=f[g],y._listeners=null;this.listenerTree&&ee(this.listenerTree)}else this._events&&(this._events[u]=null);return this},T.prototype.listeners=function(u){var f=this._events,y,g,_,b,S;if(u===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!f)return[];for(y=p(f),b=y.length,_=[];b-- >0;)g=f[y[b]],typeof g=="function"?_.push(g):_.push.apply(_,g);return _}else{if(this.wildcard){if(S=this.listenerTree,!S)return[];var R=[],x=typeof u=="string"?u.split(this.delimiter):u.slice();return C.call(this,R,x,S,0),R}return f?(g=f[u],g?typeof g=="function"?[g]:g:[]):[]}},T.prototype.eventNames=function(u){var f=this._events;return this.wildcard?U.call(this,this.listenerTree,[],null,u):f?p(f):[]},T.prototype.listenerCount=function(u){return this.listeners(u).length},T.prototype.hasListeners=function(u){if(this.wildcard){var f=[],y=typeof u=="string"?u.split(this.delimiter):u.slice();return C.call(this,f,y,this.listenerTree,0),f.length>0}var g=this._events,_=this._all;return!!(_&&_.length||g&&(u===t?p(g).length:g[u]))},T.prototype.listenersAny=function(){return this._all?this._all:[]},T.prototype.waitFor=function(u,f){var y=this,g=typeof f;return g==="number"?f={timeout:f}:g==="function"&&(f={filter:f}),f=O(f,{timeout:0,filter:t,handleError:!1,Promise,overload:!1},{filter:I,Promise:A}),V(f.Promise,function(_,b,S){function R(){var x=f.filter;if(!(x&&!x.apply(y,arguments)))if(y.off(u,R),f.handleError){var M=arguments[0];M?b(M):_(m.apply(null,arguments).slice(1))}else _(m.apply(null,arguments))}S(function(){y.off(u,R)}),y._on(u,R,!1)},{timeout:f.timeout,overload:f.overload})};function z(u,f,y){y=O(y,{Promise,timeout:0,overload:!1},{Promise:A});var g=y.Promise;return V(g,function(_,b,S){var R;if(typeof u.addEventListener=="function"){R=function(){_(m.apply(null,arguments))},S(function(){u.removeEventListener(f,R)}),u.addEventListener(f,R,{once:!0});return}var x=function(){M&&u.removeListener("error",M),_(m.apply(null,arguments))},M;f!=="error"&&(M=function(N){u.removeListener(f,x),b(N)},u.once("error",M)),S(function(){M&&u.removeListener("error",M),u.removeListener(f,x)}),u.once(f,x)},{timeout:y.timeout,overload:y.overload})}var te=T.prototype;if(Object.defineProperties(T,{defaultMaxListeners:{get:function(){return te._maxListeners},set:function(u){if(typeof u!="number"||u<0||Number.isNaN(u))throw TypeError("n must be a non-negative number");te._maxListeners=u},enumerable:!0},once:{value:z,writable:!0,configurable:!0}}),Object.defineProperties(te,{_maxListeners:{value:n,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return T});else if(typeof Hl=="object")Gl.exports=T;else{var E=new Function("","return this")();E.EventEmitter2=T}})()});var zl=h(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.IPCTransport=void 0;var B1=oe(),V1=Vs(),Ws=require("cluster"),Ys=class extends V1.EventEmitter2{constructor(){super(...arguments),this.initiated=!1,this.logger=B1("axm:transport:ipc")}init(e){return this.logger("Init new transport service"),this.initiated===!0?(console.error("Trying to re-init the transport, please avoid"),this):(this.initiated=!0,this.logger("Agent launched"),this.onMessage=r=>{this.logger("Received reverse message from IPC"),this.emit("data",r)},process.on("message",this.onMessage),Ws.isWorker===!1&&this.autoExitHook(),this)}autoExitHook(){this.autoExitHandle=setInterval(()=>{let e=Ws.isWorker?Ws.worker.process:process;if(e._getActiveHandles().length===3){let r=e._getActiveHandles().map(n=>n.constructor.name);r.includes("Pipe")===!0&&r.includes("Socket")===!0&&(process.removeListener("message",this.onMessage),setTimeout(i=>{this.logger("Still alive, listen back to IPC"),process.on("message",this.onMessage)},200).unref())}},3e3),this.autoExitHandle.unref()}setMetrics(e){let r=e.reduce((n,i)=>(typeof i.name!="string"||(n[i.name]={historic:i.historic,unit:i.unit,type:i.id,value:i.value}),n),{});this.send("axm:monitor",r)}addAction(e){this.logger(`Add action: ${e.name}:${e.type}`),this.send("axm:action",{action_name:e.name,action_type:e.type,arity:e.arity,opts:e.opts})}setOptions(e){return this.logger(`Set options: [${Object.keys(e).join(",")}]`),this.send("axm:option:configuration",e)}send(e,r){if(typeof process.send!="function")return-1;if(process.connected===!1)return console.error("Process disconnected from parent! (not connected)"),process.exit(1);try{process.send({type:e,data:r})}catch(n){return this.logger("Process disconnected from parent !"),this.logger(n),process.exit(1)}}destroy(){this.onMessage!==void 0&&process.removeListener("message",this.onMessage),this.autoExitHandle!==void 0&&clearInterval(this.autoExitHandle),this.logger("destroy")}};Un.IPCTransport=Ys});var Bl=h(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.createTransport=sr.TransportConfig=void 0;var W1=zl(),Ks=class{};sr.TransportConfig=Ks;function Y1(t,e){let r=new W1.IPCTransport;return r.init(e),r}sr.createTransport=Y1});var Js=h((cR,Gn)=>{var Vl,Wl,Yl,Kl,Xl,Jl,Zl,Ql,ec,Hn,Xs,tc,or,rc,nc,ic,sc,oc,ac;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Gn=="object"&&typeof Gn.exports=="object"?t(r(e,r(Gn.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,o){return n[s]=i?i(s,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};Vl=function(r,n){e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},Wl=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Yl=function(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)n.indexOf(s[o])<0&&(i[s[o]]=r[s[o]]);return i},Kl=function(r,n,i,s){var o=arguments.length,a=o<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,n,i,s);else for(var p=r.length-1;p>=0;p--)(l=r[p])&&(a=(o<3?l(a):o>3?l(n,i,a):l(n,i))||a);return o>3&&a&&Object.defineProperty(n,i,a),a},Xl=function(r,n){return function(i,s){n(i,s,r)}},Jl=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},Zl=function(r,n,i,s){return new(i||(i=Promise))(function(o,a){function l(d){try{c(s.next(d))}catch(v){a(v)}}function p(d){try{c(s.throw(d))}catch(v){a(v)}}function c(d){d.done?o(d.value):new i(function(v){v(d.value)}).then(l,p)}c((s=s.apply(r,n||[])).next())})},Ql=function(r,n){var i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,o,a,l;return l={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function p(d){return function(v){return c([d,v])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,o&&(a=d[0]&2?o.return:d[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,d[1])).done)return a;switch(o=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,o=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){i.label=d[1];break}if(d[0]===6&&i.label<a[1]){i.label=a[1],a=d;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(d);break}a[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(r,i)}catch(v){d=[6,v],o=0}finally{s=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},ec=function(r,n){for(var i in r)n.hasOwnProperty(i)||(n[i]=r[i])},Hn=function(r){var n=typeof Symbol=="function"&&r[Symbol.iterator],i=0;return n?n.call(r):{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}}},Xs=function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var s=i.call(r),o,a=[],l;try{for(;(n===void 0||n-- >0)&&!(o=s.next()).done;)a.push(o.value)}catch(p){l={error:p}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(l)throw l.error}}return a},tc=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Xs(arguments[n]));return r},or=function(r){return this instanceof or?(this.v=r,this):new or(r)},rc=function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,n||[]),o,a=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(w){s[w]&&(o[w]=function(q){return new Promise(function(O,A){a.push([w,q,O,A])>1||p(w,q)})})}function p(w,q){try{c(s[w](q))}catch(O){m(a[0][3],O)}}function c(w){w.value instanceof or?Promise.resolve(w.value.v).then(d,v):m(a[0][2],w)}function d(w){p("next",w)}function v(w){p("throw",w)}function m(w,q){w(q),a.shift(),a.length&&p(a[0][0],a[0][1])}},nc=function(r){var n,i;return n={},s("next"),s("throw",function(o){throw o}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(o,a){n[o]=r[o]?function(l){return(i=!i)?{value:or(r[o](l)),done:o==="return"}:a?a(l):l}:a}},ic=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof Hn=="function"?Hn(r):r[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(a){i[a]=r[a]&&function(l){return new Promise(function(p,c){l=r[a](l),o(p,c,l.done,l.value)})}}function o(a,l,p,c){Promise.resolve(c).then(function(d){a({value:d,done:p})},l)}},sc=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},oc=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},ac=function(r){return r&&r.__esModule?r:{default:r}},t("__extends",Vl),t("__assign",Wl),t("__rest",Yl),t("__decorate",Kl),t("__param",Xl),t("__metadata",Jl),t("__awaiter",Zl),t("__generator",Ql),t("__exportStar",ec),t("__values",Hn),t("__read",Xs),t("__spread",tc),t("__await",or),t("__asyncGenerator",rc),t("__asyncDelegator",nc),t("__asyncValues",ic),t("__makeTemplateObject",sc),t("__importStar",oc),t("__importDefault",ac)})});var $r=h((fR,uc)=>{var K1="2.0.0",X1=Number.MAX_SAFE_INTEGER||9007199254740991,J1=16,Z1=250,Q1=["major","premajor","minor","preminor","patch","prepatch","prerelease"];uc.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:J1,MAX_SAFE_BUILD_LENGTH:Z1,MAX_SAFE_INTEGER:X1,RELEASE_TYPES:Q1,SEMVER_SPEC_VERSION:K1,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Dr=h((hR,lc)=>{var ey=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};lc.exports=ey});var ar=h((rt,cc)=>{var{MAX_SAFE_COMPONENT_LENGTH:Zs,MAX_SAFE_BUILD_LENGTH:ty,MAX_LENGTH:ry}=$r(),ny=Dr();rt=cc.exports={};var iy=rt.re=[],sy=rt.safeRe=[],j=rt.src=[],F=rt.t={},oy=0,Qs="[a-zA-Z0-9-]",ay=[["\\s",1],["\\d",ry],[Qs,ty]],uy=t=>{for(let[e,r]of ay)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},B=(t,e,r)=>{let n=uy(e),i=oy++;ny(t,i,e),F[t]=i,j[i]=e,iy[i]=new RegExp(e,r?"g":void 0),sy[i]=new RegExp(n,r?"g":void 0)};B("NUMERICIDENTIFIER","0|[1-9]\\d*");B("NUMERICIDENTIFIERLOOSE","\\d+");B("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Qs}*`);B("MAINVERSION",`(${j[F.NUMERICIDENTIFIER]})\\.(${j[F.NUMERICIDENTIFIER]})\\.(${j[F.NUMERICIDENTIFIER]})`);B("MAINVERSIONLOOSE",`(${j[F.NUMERICIDENTIFIERLOOSE]})\\.(${j[F.NUMERICIDENTIFIERLOOSE]})\\.(${j[F.NUMERICIDENTIFIERLOOSE]})`);B("PRERELEASEIDENTIFIER",`(?:${j[F.NUMERICIDENTIFIER]}|${j[F.NONNUMERICIDENTIFIER]})`);B("PRERELEASEIDENTIFIERLOOSE",`(?:${j[F.NUMERICIDENTIFIERLOOSE]}|${j[F.NONNUMERICIDENTIFIER]})`);B("PRERELEASE",`(?:-(${j[F.PRERELEASEIDENTIFIER]}(?:\\.${j[F.PRERELEASEIDENTIFIER]})*))`);B("PRERELEASELOOSE",`(?:-?(${j[F.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${j[F.PRERELEASEIDENTIFIERLOOSE]})*))`);B("BUILDIDENTIFIER",`${Qs}+`);B("BUILD",`(?:\\+(${j[F.BUILDIDENTIFIER]}(?:\\.${j[F.BUILDIDENTIFIER]})*))`);B("FULLPLAIN",`v?${j[F.MAINVERSION]}${j[F.PRERELEASE]}?${j[F.BUILD]}?`);B("FULL",`^${j[F.FULLPLAIN]}$`);B("LOOSEPLAIN",`[v=\\s]*${j[F.MAINVERSIONLOOSE]}${j[F.PRERELEASELOOSE]}?${j[F.BUILD]}?`);B("LOOSE",`^${j[F.LOOSEPLAIN]}$`);B("GTLT","((?:<|>)?=?)");B("XRANGEIDENTIFIERLOOSE",`${j[F.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);B("XRANGEIDENTIFIER",`${j[F.NUMERICIDENTIFIER]}|x|X|\\*`);B("XRANGEPLAIN",`[v=\\s]*(${j[F.XRANGEIDENTIFIER]})(?:\\.(${j[F.XRANGEIDENTIFIER]})(?:\\.(${j[F.XRANGEIDENTIFIER]})(?:${j[F.PRERELEASE]})?${j[F.BUILD]}?)?)?`);B("XRANGEPLAINLOOSE",`[v=\\s]*(${j[F.XRANGEIDENTIFIERLOOSE]})(?:\\.(${j[F.XRANGEIDENTIFIERLOOSE]})(?:\\.(${j[F.XRANGEIDENTIFIERLOOSE]})(?:${j[F.PRERELEASELOOSE]})?${j[F.BUILD]}?)?)?`);B("XRANGE",`^${j[F.GTLT]}\\s*${j[F.XRANGEPLAIN]}$`);B("XRANGELOOSE",`^${j[F.GTLT]}\\s*${j[F.XRANGEPLAINLOOSE]}$`);B("COERCE",`(^|[^\\d])(\\d{1,${Zs}})(?:\\.(\\d{1,${Zs}}))?(?:\\.(\\d{1,${Zs}}))?(?:$|[^\\d])`);B("COERCERTL",j[F.COERCE],!0);B("LONETILDE","(?:~>?)");B("TILDETRIM",`(\\s*)${j[F.LONETILDE]}\\s+`,!0);rt.tildeTrimReplace="$1~";B("TILDE",`^${j[F.LONETILDE]}${j[F.XRANGEPLAIN]}$`);B("TILDELOOSE",`^${j[F.LONETILDE]}${j[F.XRANGEPLAINLOOSE]}$`);B("LONECARET","(?:\\^)");B("CARETTRIM",`(\\s*)${j[F.LONECARET]}\\s+`,!0);rt.caretTrimReplace="$1^";B("CARET",`^${j[F.LONECARET]}${j[F.XRANGEPLAIN]}$`);B("CARETLOOSE",`^${j[F.LONECARET]}${j[F.XRANGEPLAINLOOSE]}$`);B("COMPARATORLOOSE",`^${j[F.GTLT]}\\s*(${j[F.LOOSEPLAIN]})$|^$`);B("COMPARATOR",`^${j[F.GTLT]}\\s*(${j[F.FULLPLAIN]})$|^$`);B("COMPARATORTRIM",`(\\s*)${j[F.GTLT]}\\s*(${j[F.LOOSEPLAIN]}|${j[F.XRANGEPLAIN]})`,!0);rt.comparatorTrimReplace="$1$2$3";B("HYPHENRANGE",`^\\s*(${j[F.XRANGEPLAIN]})\\s+-\\s+(${j[F.XRANGEPLAIN]})\\s*$`);B("HYPHENRANGELOOSE",`^\\s*(${j[F.XRANGEPLAINLOOSE]})\\s+-\\s+(${j[F.XRANGEPLAINLOOSE]})\\s*$`);B("STAR","(<|>)?=?\\s*\\*");B("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");B("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var zn=h((dR,fc)=>{var ly=Object.freeze({loose:!0}),cy=Object.freeze({}),fy=t=>t?typeof t!="object"?ly:t:cy;fc.exports=fy});var eo=h((pR,pc)=>{var hc=/^[0-9]+$/,dc=(t,e)=>{let r=hc.test(t),n=hc.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},hy=(t,e)=>dc(e,t);pc.exports={compareIdentifiers:dc,rcompareIdentifiers:hy}});var xe=h((mR,yc)=>{var Bn=Dr(),{MAX_LENGTH:mc,MAX_SAFE_INTEGER:Vn}=$r(),{safeRe:gc,t:vc}=ar(),dy=zn(),{compareIdentifiers:ur}=eo(),to=class t{constructor(e,r){if(r=dy(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>mc)throw new TypeError(`version is longer than ${mc} characters`);Bn("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?gc[vc.LOOSE]:gc[vc.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Vn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Vn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Vn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Vn)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Bn("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),ur(this.major,e.major)||ur(this.minor,e.minor)||ur(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Bn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ur(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Bn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ur(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),ur(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};yc.exports=to});var Pt=h((gR,bc)=>{var _c=xe(),py=(t,e,r=!1)=>{if(t instanceof _c)return t;try{return new _c(t,e)}catch(n){if(!r)return null;throw n}};bc.exports=py});var Ec=h((vR,wc)=>{var my=Pt(),gy=(t,e)=>{let r=my(t,e);return r?r.version:null};wc.exports=gy});var xc=h((yR,Sc)=>{var vy=Pt(),yy=(t,e)=>{let r=vy(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Sc.exports=yy});var qc=h((_R,Mc)=>{var Oc=xe(),_y=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Oc(t instanceof Oc?t.version:t,r).inc(e,n,i).version}catch{return null}};Mc.exports=_y});var Tc=h((bR,Cc)=>{var Rc=Pt(),by=(t,e)=>{let r=Rc(t,null,!0),n=Rc(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let c=l?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"};Cc.exports=by});var Ac=h((wR,Pc)=>{var wy=xe(),Ey=(t,e)=>new wy(t,e).major;Pc.exports=Ey});var Lc=h((ER,Ic)=>{var Sy=xe(),xy=(t,e)=>new Sy(t,e).minor;Ic.exports=xy});var jc=h((SR,Nc)=>{var Oy=xe(),My=(t,e)=>new Oy(t,e).patch;Nc.exports=My});var kc=h((xR,Fc)=>{var qy=Pt(),Ry=(t,e)=>{let r=qy(t,e);return r&&r.prerelease.length?r.prerelease:null};Fc.exports=Ry});var He=h((OR,Dc)=>{var $c=xe(),Cy=(t,e,r)=>new $c(t,r).compare(new $c(e,r));Dc.exports=Cy});var Hc=h((MR,Uc)=>{var Ty=He(),Py=(t,e,r)=>Ty(e,t,r);Uc.exports=Py});var zc=h((qR,Gc)=>{var Ay=He(),Iy=(t,e)=>Ay(t,e,!0);Gc.exports=Iy});var Wn=h((RR,Vc)=>{var Bc=xe(),Ly=(t,e,r)=>{let n=new Bc(t,r),i=new Bc(e,r);return n.compare(i)||n.compareBuild(i)};Vc.exports=Ly});var Yc=h((CR,Wc)=>{var Ny=Wn(),jy=(t,e)=>t.sort((r,n)=>Ny(r,n,e));Wc.exports=jy});var Xc=h((TR,Kc)=>{var Fy=Wn(),ky=(t,e)=>t.sort((r,n)=>Fy(n,r,e));Kc.exports=ky});var Ur=h((PR,Jc)=>{var $y=He(),Dy=(t,e,r)=>$y(t,e,r)>0;Jc.exports=Dy});var Yn=h((AR,Zc)=>{var Uy=He(),Hy=(t,e,r)=>Uy(t,e,r)<0;Zc.exports=Hy});var ro=h((IR,Qc)=>{var Gy=He(),zy=(t,e,r)=>Gy(t,e,r)===0;Qc.exports=zy});var no=h((LR,ef)=>{var By=He(),Vy=(t,e,r)=>By(t,e,r)!==0;ef.exports=Vy});var Kn=h((NR,tf)=>{var Wy=He(),Yy=(t,e,r)=>Wy(t,e,r)>=0;tf.exports=Yy});var Xn=h((jR,rf)=>{var Ky=He(),Xy=(t,e,r)=>Ky(t,e,r)<=0;rf.exports=Xy});var io=h((FR,nf)=>{var Jy=ro(),Zy=no(),Qy=Ur(),e_=Kn(),t_=Yn(),r_=Xn(),n_=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Jy(t,r,n);case"!=":return Zy(t,r,n);case">":return Qy(t,r,n);case">=":return e_(t,r,n);case"<":return t_(t,r,n);case"<=":return r_(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};nf.exports=n_});var of=h((kR,sf)=>{var i_=xe(),s_=Pt(),{safeRe:Jn,t:Zn}=ar(),o_=(t,e)=>{if(t instanceof i_)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Jn[Zn.COERCE]);else{let n;for(;(n=Jn[Zn.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Jn[Zn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Jn[Zn.COERCERTL].lastIndex=-1}return r===null?null:s_(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};sf.exports=o_});var uf=h(($R,af)=>{"use strict";af.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var cf=h((DR,lf)=>{"use strict";lf.exports=Q;Q.Node=At;Q.create=Q;function Q(t){var e=this;if(e instanceof Q||(e=new Q),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Q.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Q.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Q.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Q.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)u_(this,arguments[t]);return this.length};Q.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)l_(this,arguments[t]);return this.length};Q.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Q.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Q.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Q.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Q.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Q.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Q.prototype.map=function(t,e){e=e||this;for(var r=new Q,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Q.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Q,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Q.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Q.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Q.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Q.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Q.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Q;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Q.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Q;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Q.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=a_(this,i,r[n]);return s};Q.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function a_(t,e,r){var n=e===t.head?new At(r,null,e,t):new At(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function u_(t,e){t.tail=new At(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function l_(t,e){t.head=new At(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function At(t,e,r,n){if(!(this instanceof At))return new At(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{uf()(Q)}catch{}});var mf=h((UR,pf)=>{"use strict";var c_=cf(),It=Symbol("max"),it=Symbol("length"),lr=Symbol("lengthCalculator"),Gr=Symbol("allowStale"),Lt=Symbol("maxAge"),nt=Symbol("dispose"),ff=Symbol("noDisposeOnSet"),ge=Symbol("lruList"),Ve=Symbol("cache"),df=Symbol("updateAgeOnGet"),so=()=>1,ao=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[It]=e.max||1/0,n=e.length||so;if(this[lr]=typeof n!="function"?so:n,this[Gr]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Lt]=e.maxAge||0,this[nt]=e.dispose,this[ff]=e.noDisposeOnSet||!1,this[df]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[It]=e||1/0,Hr(this)}get max(){return this[It]}set allowStale(e){this[Gr]=!!e}get allowStale(){return this[Gr]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Lt]=e,Hr(this)}get maxAge(){return this[Lt]}set lengthCalculator(e){typeof e!="function"&&(e=so),e!==this[lr]&&(this[lr]=e,this[it]=0,this[ge].forEach(r=>{r.length=this[lr](r.value,r.key),this[it]+=r.length})),Hr(this)}get lengthCalculator(){return this[lr]}get length(){return this[it]}get itemCount(){return this[ge].length}rforEach(e,r){r=r||this;for(let n=this[ge].tail;n!==null;){let i=n.prev;hf(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ge].head;n!==null;){let i=n.next;hf(this,e,n,r),n=i}}keys(){return this[ge].toArray().map(e=>e.key)}values(){return this[ge].toArray().map(e=>e.value)}reset(){this[nt]&&this[ge]&&this[ge].length&&this[ge].forEach(e=>this[nt](e.key,e.value)),this[Ve]=new Map,this[ge]=new c_,this[it]=0}dump(){return this[ge].map(e=>Qn(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ge]}set(e,r,n){if(n=n||this[Lt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[lr](r,e);if(this[Ve].has(e)){if(s>this[It])return cr(this,this[Ve].get(e)),!1;let l=this[Ve].get(e).value;return this[nt]&&(this[ff]||this[nt](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[it]+=s-l.length,l.length=s,this.get(e),Hr(this),!0}let o=new uo(e,r,s,i,n);return o.length>this[It]?(this[nt]&&this[nt](e,r),!1):(this[it]+=o.length,this[ge].unshift(o),this[Ve].set(e,this[ge].head),Hr(this),!0)}has(e){if(!this[Ve].has(e))return!1;let r=this[Ve].get(e).value;return!Qn(this,r)}get(e){return oo(this,e,!0)}peek(e){return oo(this,e,!1)}pop(){let e=this[ge].tail;return e?(cr(this,e),e.value):null}del(e){cr(this,this[Ve].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Ve].forEach((e,r)=>oo(this,r,!1))}},oo=(t,e,r)=>{let n=t[Ve].get(e);if(n){let i=n.value;if(Qn(t,i)){if(cr(t,n),!t[Gr])return}else r&&(t[df]&&(n.value.now=Date.now()),t[ge].unshiftNode(n));return i.value}},Qn=(t,e)=>{if(!e||!e.maxAge&&!t[Lt])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Lt]&&r>t[Lt]},Hr=t=>{if(t[it]>t[It])for(let e=t[ge].tail;t[it]>t[It]&&e!==null;){let r=e.prev;cr(t,e),e=r}},cr=(t,e)=>{if(e){let r=e.value;t[nt]&&t[nt](r.key,r.value),t[it]-=r.length,t[Ve].delete(r.key),t[ge].removeNode(e)}},uo=class{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},hf=(t,e,r,n)=>{let i=r.value;Qn(t,i)&&(cr(t,r),t[Gr]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};pf.exports=ao});var Ge=h((HR,_f)=>{var lo=class t{constructor(e,r){if(r=h_(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof co)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!vf(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&__(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&v_)|(this.options.loose&&y_))+":"+e,i=gf.get(n);if(i)return i;let s=this.options.loose,o=s?Ie[Me.HYPHENRANGELOOSE]:Ie[Me.HYPHENRANGE];e=e.replace(o,C_(this.options.includePrerelease)),ie("hyphen replace",e),e=e.replace(Ie[Me.COMPARATORTRIM],p_),ie("comparator trim",e),e=e.replace(Ie[Me.TILDETRIM],m_),ie("tilde trim",e),e=e.replace(Ie[Me.CARETTRIM],g_),ie("caret trim",e);let a=e.split(" ").map(d=>b_(d,this.options)).join(" ").split(/\s+/).map(d=>R_(d,this.options));s&&(a=a.filter(d=>(ie("loose invalid filter",d,this.options),!!d.match(Ie[Me.COMPARATORLOOSE])))),ie("range list",a);let l=new Map,p=a.map(d=>new co(d,this.options));for(let d of p){if(vf(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let c=[...l.values()];return gf.set(n,c),c}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>yf(n,r)&&e.set.some(i=>yf(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new d_(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(T_(this.set[r],e,this.options))return!0;return!1}};_f.exports=lo;var f_=mf(),gf=new f_({max:1e3}),h_=zn(),co=zr(),ie=Dr(),d_=xe(),{safeRe:Ie,t:Me,comparatorTrimReplace:p_,tildeTrimReplace:m_,caretTrimReplace:g_}=ar(),{FLAG_INCLUDE_PRERELEASE:v_,FLAG_LOOSE:y_}=$r(),vf=t=>t.value==="<0.0.0-0",__=t=>t.value==="",yf=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},b_=(t,e)=>(ie("comp",t,e),t=S_(t,e),ie("caret",t),t=w_(t,e),ie("tildes",t),t=O_(t,e),ie("xrange",t),t=q_(t,e),ie("stars",t),t),qe=t=>!t||t.toLowerCase()==="x"||t==="*",w_=(t,e)=>t.trim().split(/\s+/).map(r=>E_(r,e)).join(" "),E_=(t,e)=>{let r=e.loose?Ie[Me.TILDELOOSE]:Ie[Me.TILDE];return t.replace(r,(n,i,s,o,a)=>{ie("tilde",t,n,i,s,o,a);let l;return qe(i)?l="":qe(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:qe(o)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(ie("replaceTilde pr",a),l=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,ie("tilde return",l),l})},S_=(t,e)=>t.trim().split(/\s+/).map(r=>x_(r,e)).join(" "),x_=(t,e)=>{ie("caret",t,e);let r=e.loose?Ie[Me.CARETLOOSE]:Ie[Me.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,l)=>{ie("caret",t,i,s,o,a,l);let p;return qe(s)?p="":qe(o)?p=`>=${s}.0.0${n} <${+s+1}.0.0-0`:qe(a)?s==="0"?p=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:p=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:l?(ie("replaceCaret pr",l),s==="0"?o==="0"?p=`>=${s}.${o}.${a}-${l} <${s}.${o}.${+a+1}-0`:p=`>=${s}.${o}.${a}-${l} <${s}.${+o+1}.0-0`:p=`>=${s}.${o}.${a}-${l} <${+s+1}.0.0-0`):(ie("no pr"),s==="0"?o==="0"?p=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:p=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:p=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),ie("caret return",p),p})},O_=(t,e)=>(ie("replaceXRanges",t,e),t.split(/\s+/).map(r=>M_(r,e)).join(" ")),M_=(t,e)=>{t=t.trim();let r=e.loose?Ie[Me.XRANGELOOSE]:Ie[Me.XRANGE];return t.replace(r,(n,i,s,o,a,l)=>{ie("xRange",t,n,i,s,o,a,l);let p=qe(s),c=p||qe(o),d=c||qe(a),v=d;return i==="="&&v&&(i=""),l=e.includePrerelease?"-0":"",p?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&v?(c&&(o=0),a=0,i===">"?(i=">=",c?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",c?s=+s+1:o=+o+1),i==="<"&&(l="-0"),n=`${i+s}.${o}.${a}${l}`):c?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),ie("xRange return",n),n})},q_=(t,e)=>(ie("replaceStars",t,e),t.trim().replace(Ie[Me.STAR],"")),R_=(t,e)=>(ie("replaceGTE0",t,e),t.trim().replace(Ie[e.includePrerelease?Me.GTE0PRE:Me.GTE0],"")),C_=t=>(e,r,n,i,s,o,a,l,p,c,d,v,m)=>(qe(n)?r="":qe(i)?r=`>=${n}.0.0${t?"-0":""}`:qe(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,qe(p)?l="":qe(c)?l=`<${+p+1}.0.0-0`:qe(d)?l=`<${p}.${+c+1}.0-0`:v?l=`<=${p}.${c}.${d}-${v}`:t?l=`<${p}.${c}.${+d+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),T_=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(ie(t[n].semver),t[n].semver!==co.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var zr=h((GR,Of)=>{var Br=Symbol("SemVer ANY"),po=class t{static get ANY(){return Br}constructor(e,r){if(r=bf(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),ho("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Br?this.value="":this.value=this.operator+this.semver.version,ho("comp",this)}parse(e){let r=this.options.loose?wf[Ef.COMPARATORLOOSE]:wf[Ef.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Sf(n[2],this.options.loose):this.semver=Br}toString(){return this.value}test(e){if(ho("Comparator.test",e,this.options.loose),this.semver===Br||e===Br)return!0;if(typeof e=="string")try{e=new Sf(e,this.options)}catch{return!1}return fo(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new xf(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new xf(this.value,r).test(e.semver):(r=bf(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||fo(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||fo(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Of.exports=po;var bf=zn(),{safeRe:wf,t:Ef}=ar(),fo=io(),ho=Dr(),Sf=xe(),xf=Ge()});var Vr=h((zR,Mf)=>{var P_=Ge(),A_=(t,e,r)=>{try{e=new P_(e,r)}catch{return!1}return e.test(t)};Mf.exports=A_});var Rf=h((BR,qf)=>{var I_=Ge(),L_=(t,e)=>new I_(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));qf.exports=L_});var Tf=h((VR,Cf)=>{var N_=xe(),j_=Ge(),F_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new j_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new N_(n,r))}),n};Cf.exports=F_});var Af=h((WR,Pf)=>{var k_=xe(),$_=Ge(),D_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new $_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new k_(n,r))}),n};Pf.exports=D_});var Nf=h((YR,Lf)=>{var mo=xe(),U_=Ge(),If=Ur(),H_=(t,e)=>{t=new U_(t,e);let r=new mo("0.0.0");if(t.test(r)||(r=new mo("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new mo(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||If(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||If(r,s))&&(r=s)}return r&&t.test(r)?r:null};Lf.exports=H_});var Ff=h((KR,jf)=>{var G_=Ge(),z_=(t,e)=>{try{return new G_(t,e).range||"*"}catch{return null}};jf.exports=z_});var ei=h((XR,Uf)=>{var B_=xe(),Df=zr(),{ANY:V_}=Df,W_=Ge(),Y_=Vr(),kf=Ur(),$f=Yn(),K_=Xn(),X_=Kn(),J_=(t,e,r,n)=>{t=new B_(t,n),e=new W_(e,n);let i,s,o,a,l;switch(r){case">":i=kf,s=K_,o=$f,a=">",l=">=";break;case"<":i=$f,s=X_,o=kf,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Y_(t,e,n))return!1;for(let p=0;p<e.set.length;++p){let c=e.set[p],d=null,v=null;if(c.forEach(m=>{m.semver===V_&&(m=new Df(">=0.0.0")),d=d||m,v=v||m,i(m.semver,d.semver,n)?d=m:o(m.semver,v.semver,n)&&(v=m)}),d.operator===a||d.operator===l||(!v.operator||v.operator===a)&&s(t,v.semver))return!1;if(v.operator===l&&o(t,v.semver))return!1}return!0};Uf.exports=J_});var Gf=h((JR,Hf)=>{var Z_=ei(),Q_=(t,e,r)=>Z_(t,e,">",r);Hf.exports=Q_});var Bf=h((ZR,zf)=>{var eb=ei(),tb=(t,e,r)=>eb(t,e,"<",r);zf.exports=tb});var Yf=h((QR,Wf)=>{var Vf=Ge(),rb=(t,e,r)=>(t=new Vf(t,r),e=new Vf(e,r),t.intersects(e,r));Wf.exports=rb});var Xf=h((e3,Kf)=>{var nb=Vr(),ib=He();Kf.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((c,d)=>ib(c,d,r));for(let c of o)nb(c,e,r)?(s=c,i||(i=c)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[c,d]of n)c===d?a.push(c):!d&&c===o[0]?a.push("*"):d?c===o[0]?a.push(`<=${d}`):a.push(`${c} - ${d}`):a.push(`>=${c}`);let l=a.join(" || "),p=typeof e.raw=="string"?e.raw:String(e);return l.length<p.length?l:e}});var rh=h((t3,th)=>{var Jf=Ge(),vo=zr(),{ANY:go}=vo,Wr=Vr(),yo=He(),sb=(t,e,r={})=>{if(t===e)return!0;t=new Jf(t,r),e=new Jf(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=ab(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},ob=[new vo(">=0.0.0-0")],Zf=[new vo(">=0.0.0")],ab=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===go){if(e.length===1&&e[0].semver===go)return!0;r.includePrerelease?t=ob:t=Zf}if(e.length===1&&e[0].semver===go){if(r.includePrerelease)return!0;e=Zf}let n=new Set,i,s;for(let m of t)m.operator===">"||m.operator===">="?i=Qf(i,m,r):m.operator==="<"||m.operator==="<="?s=eh(s,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(i&&s){if(o=yo(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let m of n){if(i&&!Wr(m,String(i),r)||s&&!Wr(m,String(s),r))return null;for(let w of e)if(!Wr(m,String(w),r))return!1;return!0}let a,l,p,c,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,v=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let m of e){if(c=c||m.operator===">"||m.operator===">=",p=p||m.operator==="<"||m.operator==="<=",i){if(v&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===v.major&&m.semver.minor===v.minor&&m.semver.patch===v.patch&&(v=!1),m.operator===">"||m.operator===">="){if(a=Qf(i,m,r),a===m&&a!==i)return!1}else if(i.operator===">="&&!Wr(i.semver,String(m),r))return!1}if(s){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(l=eh(s,m,r),l===m&&l!==s)return!1}else if(s.operator==="<="&&!Wr(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&o!==0)return!1}return!(i&&p&&!s&&o!==0||s&&c&&!i&&o!==0||v||d)},Qf=(t,e,r)=>{if(!t)return e;let n=yo(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},eh=(t,e,r)=>{if(!t)return e;let n=yo(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};th.exports=sb});var ti=h((r3,sh)=>{var _o=ar(),nh=$r(),ub=xe(),ih=eo(),lb=Pt(),cb=Ec(),fb=xc(),hb=qc(),db=Tc(),pb=Ac(),mb=Lc(),gb=jc(),vb=kc(),yb=He(),_b=Hc(),bb=zc(),wb=Wn(),Eb=Yc(),Sb=Xc(),xb=Ur(),Ob=Yn(),Mb=ro(),qb=no(),Rb=Kn(),Cb=Xn(),Tb=io(),Pb=of(),Ab=zr(),Ib=Ge(),Lb=Vr(),Nb=Rf(),jb=Tf(),Fb=Af(),kb=Nf(),$b=Ff(),Db=ei(),Ub=Gf(),Hb=Bf(),Gb=Yf(),zb=Xf(),Bb=rh();sh.exports={parse:lb,valid:cb,clean:fb,inc:hb,diff:db,major:pb,minor:mb,patch:gb,prerelease:vb,compare:yb,rcompare:_b,compareLoose:bb,compareBuild:wb,sort:Eb,rsort:Sb,gt:xb,lt:Ob,eq:Mb,neq:qb,gte:Rb,lte:Cb,cmp:Tb,coerce:Pb,Comparator:Ab,Range:Ib,satisfies:Lb,toComparators:Nb,maxSatisfying:jb,minSatisfying:Fb,minVersion:kb,validRange:$b,outside:Db,gtr:Ub,ltr:Hb,intersects:Gb,simplifyRange:zb,subset:Bb,SemVer:ub,re:_o.re,src:_o.src,tokens:_o.t,SEMVER_SPEC_VERSION:nh.SEMVER_SPEC_VERSION,RELEASE_TYPES:nh.RELEASE_TYPES,compareIdentifiers:ih.compareIdentifiers,rcompareIdentifiers:ih.rcompareIdentifiers}});var oh=h(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.StackTraceParser=fr.Cache=void 0;var bo=class{constructor(e){this.cache={},this.ttlCache={},this.onMiss=e.miss,this.tllTime=e.ttl||-1,e.ttl&&(this.worker=setInterval(this.workerFn.bind(this),1e3),this.worker.unref())}workerFn(){let e=Object.keys(this.ttlCache);for(let r=0;r<e.length;r++){let n=e[r],i=this.ttlCache[n];Date.now()>i&&(delete this.cache[n],delete this.ttlCache[n])}}get(e){if(!e)return null;let r=this.cache[e];return r||(r=this.onMiss(e),r&&this.set(e,r),r)}set(e,r){return!e||!r?!1:(this.cache[e]=r,this.tllTime>0&&(this.ttlCache[e]=Date.now()+this.tllTime),!0)}reset(){this.cache={},this.ttlCache={}}};fr.Cache=bo;var wo=class{constructor(e){this.contextSize=3,this.cache=e.cache,this.contextSize=e.contextSize}isAbsolute(e){if(process.platform==="win32"){let n=/^([a-zA-Z]:|[\\/]{2}[^\\/]+[\\/]+[^\\/]+)?([\\/])?([\s\S]*?)$/.exec(e);if(n===null)return e.charAt(0)==="/";let i=n[1]||"",s=!!(i&&i.charAt(1)!==":");return!!(n[2]||s)}else return e.charAt(0)==="/"}parse(e){if(e.length===0)return null;let r=e.find(l=>(this.isAbsolute(l.file_name)||l.file_name[0]==="."?"user":"core")!=="core"&&l.file_name.indexOf("node_modules")<0&&l.file_name.indexOf("@pm2/io")<0);if(r===void 0)return null;let n=this.cache.get(r.file_name),i=[];if(n===null||n.length===0)return null;let s=r.line_number-this.contextSize-1,o=s>0?s:0;n.slice(o,r.line_number-1).forEach(function(l){i.push(l.replace(/\t/g,"  "))}),n[r.line_number-1]&&i.push(n[r.line_number-1].replace(/\t/g,"  ").replace("  ",">>"));let a=r.line_number+this.contextSize;return n.slice(r.line_number,a).forEach(function(l){i.push(l.replace(/\t/g,"  "))}),{context:i.join(`
`),callsite:[r.file_name,r.line_number].join(":")}}retrieveContext(e){if(e.stack===void 0)return null;let r=/(\/[^\\\n]*)/g,n,i=[];for(;n=r.exec(e.stack);)i.push(n[1]);let s=i.map(o=>{o[o.length-1]===")"&&(o=o.substr(0,o.length-1));let a=o.split(":");return{file_name:a[0],line_number:parseInt(a[1],10)}});return this.parse(s)}};fr.StackTraceParser=wo});var uh=h(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.NotifyFeature=pt.ErrorContext=pt.NotifyOptions=void 0;var Vb=Js(),Eo=Tt(),st=Se(),Wb=oe(),Yb=ti(),ah=oh(),Kb=require("fs"),Xb=require("path"),So=class{};pt.NotifyOptions=So;var xo=class{};pt.ErrorContext=xo;var Jb={catchExceptions:!0},Oo=class{constructor(){this.logger=(0,Wb.default)("axm:features:notify")}init(e){if(e===void 0&&(e=Jb),this.logger("init"),this.transport=st.ServiceManager.get("transport"),this.transport===void 0)return this.logger("Failed to load transporter service");Eo.default.configureModule({error:!0}),e.catchExceptions!==!1&&(this.logger("Registering hook to catch unhandled exception/rejection"),this.cache=new ah.Cache({miss:r=>{try{return Kb.readFileSync(Xb.resolve(r)).toString().split(/\r?\n/)}catch(n){return this.logger("Error while trying to get file from FS : %s",n.message||n),null}},ttl:30*60}),this.stackParser=new ah.StackTraceParser({cache:this.cache,contextSize:5}),this.catchAll())}destroy(){process.removeListener("uncaughtException",this.onUncaughtException),process.removeListener("unhandledRejection",this.onUnhandledRejection),this.logger("destroy")}getSafeError(e){if(e instanceof Error)return e;let r;try{r=`Non-error value: ${JSON.stringify(e)}`}catch(n){try{r=`Unserializable non-error value: ${String(n)}`}catch{r="Unserializable non-error value that cannot be converted to a string"}}return r.length>1e3&&(r=r.substr(0,1e3)+"..."),new Error(r)}notifyError(e,r){if(typeof r!="object"&&(r={}),this.transport===void 0)return this.logger("Tried to send error without having transporter available");let n=this.getSafeError(e),i=null;e instanceof Error&&(i=this.stackParser.retrieveContext(e));let s=Object.assign({message:n.message,stack:n.stack,name:n.name,metadata:r},i===null?{}:i);return this.transport.send("process:exception",s)}onUncaughtException(e){Yb.satisfies(process.version,"< 6")?console.error(e.stack):console.error(e);let r=this.getSafeError(e),n=null;e instanceof Error&&(n=this.stackParser.retrieveContext(e));let i=Object.assign({message:r.message,stack:r.stack,name:r.name},n===null?{}:n);st.ServiceManager.get("transport")&&st.ServiceManager.get("transport").send("process:exception",i),process.listeners("uncaughtException").length===1&&process.exit(1)}onUnhandledRejection(e){if(e===void 0)return;console.error(e);let r=this.getSafeError(e),n=null;e instanceof Error&&(n=this.stackParser.retrieveContext(e));let i=Object.assign({message:r.message,stack:r.stack,name:r.name},n===null?{}:n);st.ServiceManager.get("transport")&&st.ServiceManager.get("transport").send("process:exception",i)}catchAll(){if(process.env.exec_mode==="cluster_mode")return!1;process.on("uncaughtException",this.onUncaughtException.bind(this)),process.on("unhandledRejection",this.onUnhandledRejection.bind(this))}expressErrorHandler(){let e=this;return Eo.default.configureModule({error:!0}),function(n,i,s,o){let a=e.getSafeError(n),l={message:a.message,stack:a.stack,name:a.name,metadata:{http:{url:i.url,params:i.params,method:i.method,query:i.query,body:i.body,path:i.path,route:i.route&&i.route.path?i.route.path:void 0},custom:{user:typeof i.user=="object"?i.user.id:void 0}}};return st.ServiceManager.get("transport")&&st.ServiceManager.get("transport").send("process:exception",l),o(n)}}koaErrorHandler(){let e=this;return Eo.default.configureModule({error:!0}),function(r,n){return Vb.__awaiter(this,void 0,void 0,function*(){try{yield n()}catch(i){let s=e.getSafeError(i),o={message:s.message,stack:s.stack,name:s.name,metadata:{http:{url:r.request.url,params:r.params,method:r.request.method,query:r.request.query,body:r.request.body,path:r.request.path,route:r._matchedRoute},custom:{user:typeof r.user=="object"?r.user.id:void 0}}};throw st.ServiceManager.get("transport")&&st.ServiceManager.get("transport").send("process:exception",o),i}})}}};pt.NotifyFeature=Oo});var Co=h(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var Mo=require("fs"),Zb=oe(),Qb=require("path"),Yr=Zb("axm:utils:module"),qo=class t{static loadModule(e,r){let n;try{return r?n=require(e).apply(this,r):n=require(e),Yr(`Succesfully required module at path ${e}`),n}catch(i){return Yr(`Failed to load module at path ${e}: ${i.message}`),i}}static detectModule(e){let r=["./node_modules","/node_modules"];if(!require.main)return null;let i=(typeof require.main.paths>"u"?r:require.main.paths).slice();return t._lookForModule(i,e)}static _lookForModule(e,r){let n=Mo.constants||Mo;for(let i of e){let s=Qb.join(i,r);Yr(`Looking for module ${r} in ${s}`);try{return Mo.accessSync(s,n.R_OK),Yr(`Found module ${r} in path ${s}`),s}catch{Yr(`module ${r} not found in path ${s}`);continue}}return null}};Ro.default=qo});var Ao=h(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var ew=Se(),To=class{static generateUUID(){return Math.random().toString(36).substr(2,16)}static getValueFromDump(e,r){r||(r="handles");let n=ew.ServiceManager.get("eventLoopService").inspector.dump();return n[r].hasOwnProperty(e)?n[r][e].length:0}};Po.default=To});var hh=h(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var lh=Co(),ch=Tt(),fh=Se(),tw=Ao(),rw=oe(),Io=class{},Lo=class{constructor(){this.profiler=null,this.modules=["v8-profiler-node8","v8-profiler"],this.currentProfile=null,this.logger=rw("axm:features:profiling:addon")}init(){for(let e of this.modules){if(lh.default.detectModule(e)===null)continue;let n=lh.default.loadModule(e);if(!(n instanceof Error)){this.profiler=n;break}}if(this.profiler===null)return ch.default.configureModule({heapdump:!1,"feature.profiler.heap_snapshot":!1,"feature.profiler.heap_sampling":!1,"feature.profiler.cpu_js":!1}),this.logger("Failed to require the profiler via addon, disabling profiling ...");if(this.logger("init"),this.actionService=fh.ServiceManager.get("actions"),this.actionService===void 0)return this.logger("Fail to get action service");if(this.transport=fh.ServiceManager.get("transport"),this.transport===void 0)return this.logger("Fail to get transport service");ch.default.configureModule({heapdump:!0,"feature.profiler.heapsnapshot":!0,"feature.profiler.heapsampling":!1,"feature.profiler.cpu_js":!0}),this.register()}register(){if(this.actionService===void 0)return this.logger("Fail to get action service");this.logger("register"),this.actionService.registerAction("km:heapdump",this.onHeapdump.bind(this)),this.actionService.registerAction("km:cpu:profiling:start",this.onCPUProfileStart.bind(this)),this.actionService.registerAction("km:cpu:profiling:stop",this.onCPUProfileStop.bind(this))}destroy(){this.logger("Addon Profiler destroyed !"),this.profiler!==null&&this.profiler.deleteAllProfiles()}onCPUProfileStart(e,r){if(typeof r!="function"&&(r=e,e={}),(typeof e!="object"||e===null)&&(e={}),this.currentProfile!==null)return r({err:"A profiling is already running",success:!1});if(this.currentProfile=new Io,this.currentProfile.uuid=tw.default.generateUUID(),this.currentProfile.startTime=Date.now(),this.currentProfile.initiated=typeof e.initiated=="string"?e.initiated:"manual",r({success:!0,uuid:this.currentProfile.uuid}),this.profiler.startProfiling(),isNaN(parseInt(e.timeout,10)))return;let n=parseInt(e.timeout,10);setTimeout(i=>{this.onCPUProfileStop(s=>{})},n)}onCPUProfileStop(e){if(this.currentProfile===null)return e({err:"No profiling are already running",success:!1});if(this.transport===void 0)return e({err:"No profiling are already running",success:!1});let r=this.profiler.stopProfiling(),n=JSON.stringify(r);e({success:!0,uuid:this.currentProfile.uuid}),this.transport.send("profilings",{uuid:this.currentProfile.uuid,duration:Date.now()-this.currentProfile.startTime,at:this.currentProfile.startTime,data:n,dump_file_size:n.length,success:!0,initiated:this.currentProfile.initiated,type:"cpuprofile",cpuprofile:!0}),this.currentProfile=null}onHeapdump(e,r){typeof r!="function"&&(r=e,e={}),(typeof e!="object"||e===null)&&(e={}),r({success:!0}),setTimeout(()=>{let n=Date.now();this.takeSnapshot().then(i=>this.transport.send("profilings",{data:i,at:n,initiated:typeof e.initiated=="string"?e.initiated:"manual",duration:Date.now()-n,type:"heapdump"})).catch(i=>r({success:i.message,err:i}))},200)}takeSnapshot(){return new Promise((e,r)=>{let n=this.profiler.takeSnapshot();n.export((i,s)=>{i?r(i):e(s),n.delete()})})}};No.default=Lo});var gh=h(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var nw=Js(),dh=Tt(),jo=Se(),ph=Ao(),iw=oe(),mh=ti(),ri=class{},Fo=class{constructor(){this.profiler=void 0,this.currentProfile=null,this.logger=iw("axm:features:profiling:inspector"),this.isNode11=mh.satisfies(mh.clean(process.version),">11.x")}init(){if(this.profiler=jo.ServiceManager.get("inspector"),this.profiler===void 0)return dh.default.configureModule({heapdump:!1,"feature.profiler.heap_snapshot":!1,"feature.profiler.heap_sampling":!1,"feature.profiler.cpu_js":!1}),console.error("Failed to require the profiler via inspector, disabling profiling ...");if(this.profiler.getSession().post("Profiler.enable"),this.profiler.getSession().post("HeapProfiler.enable"),this.logger("init"),this.actionService=jo.ServiceManager.get("actions"),this.actionService===void 0)return this.logger("Fail to get action service");if(this.transport=jo.ServiceManager.get("transport"),this.transport===void 0)return this.logger("Fail to get transport service");dh.default.configureModule({heapdump:!0,"feature.profiler.heapsnapshot":!this.isNode11,"feature.profiler.heapsampling":!0,"feature.profiler.cpu_js":!0}),this.register()}register(){if(this.actionService===void 0)return this.logger("Fail to get action service");this.logger("register"),this.actionService.registerAction("km:heapdump",this.onHeapdump.bind(this)),this.actionService.registerAction("km:cpu:profiling:start",this.onCPUProfileStart.bind(this)),this.actionService.registerAction("km:cpu:profiling:stop",this.onCPUProfileStop.bind(this)),this.actionService.registerAction("km:heap:sampling:start",this.onHeapProfileStart.bind(this)),this.actionService.registerAction("km:heap:sampling:stop",this.onHeapProfileStop.bind(this))}destroy(){this.logger("Inspector Profiler destroyed !"),this.profiler!==void 0&&(this.profiler.getSession().post("Profiler.disable"),this.profiler.getSession().post("HeapProfiler.disable"))}onHeapProfileStart(e,r){if(typeof r!="function"&&(r=e,e={}),(typeof e!="object"||e===null)&&(e={}),this.profiler===void 0)return r({err:"Profiler not available",success:!1});if(this.currentProfile!==null)return r({err:"A profiling is already running",success:!1});if(this.currentProfile=new ri,this.currentProfile.uuid=ph.default.generateUUID(),this.currentProfile.startTime=Date.now(),this.currentProfile.initiated=typeof e.initiated=="string"?e.initiated:"manual",r({success:!0,uuid:this.currentProfile.uuid}),this.profiler.getSession().post("HeapProfiler.startSampling",{samplingInterval:typeof e.samplingInterval=="number"?e.samplingInterval:16384}),isNaN(parseInt(e.timeout,10)))return;let i=parseInt(e.timeout,10);setTimeout(s=>{this.onHeapProfileStop(o=>{})},i)}onHeapProfileStop(e){if(this.currentProfile===null)return e({err:"No profiling are already running",success:!1});if(this.profiler===void 0)return e({err:"Profiler not available",success:!1});e({success:!0,uuid:this.currentProfile.uuid}),this.profiler.getSession().post("HeapProfiler.stopSampling",(r,{profile:n})=>{if(this.currentProfile===null||this.transport===void 0)return;let i=JSON.stringify(n);this.transport.send("profilings",{uuid:this.currentProfile.uuid,duration:Date.now()-this.currentProfile.startTime,at:this.currentProfile.startTime,data:i,success:!0,initiated:this.currentProfile.initiated,type:"heapprofile",heapprofile:!0}),this.currentProfile=null})}onCPUProfileStart(e,r){if(typeof r!="function"&&(r=e,e={}),(typeof e!="object"||e===null)&&(e={}),this.profiler===void 0)return r({err:"Profiler not available",success:!1});if(this.currentProfile!==null)return r({err:"A profiling is already running",success:!1});if(this.currentProfile=new ri,this.currentProfile.uuid=ph.default.generateUUID(),this.currentProfile.startTime=Date.now(),this.currentProfile.initiated=typeof e.initiated=="string"?e.initiated:"manual",r({success:!0,uuid:this.currentProfile.uuid}),process.hasOwnProperty("_startProfilerIdleNotifier")===!0&&process._startProfilerIdleNotifier(),this.profiler.getSession().post("Profiler.start"),isNaN(parseInt(e.timeout,10)))return;let n=parseInt(e.timeout,10);setTimeout(i=>{this.onCPUProfileStop(s=>{})},n)}onCPUProfileStop(e){if(this.currentProfile===null)return e({err:"No profiling are already running",success:!1});if(this.profiler===void 0)return e({err:"Profiler not available",success:!1});e({success:!0,uuid:this.currentProfile.uuid}),process.hasOwnProperty("_stopProfilerIdleNotifier")===!0&&process._stopProfilerIdleNotifier(),this.profiler.getSession().post("Profiler.stop",(r,n)=>{if(this.currentProfile===null||this.transport===void 0)return;let i=n.profile,s=JSON.stringify(i);this.transport.send("profilings",{uuid:this.currentProfile.uuid,duration:Date.now()-this.currentProfile.startTime,at:this.currentProfile.startTime,data:s,success:!0,initiated:this.currentProfile.initiated,type:"cpuprofile",cpuprofile:!0}),this.currentProfile=null})}onHeapdump(e,r){if(typeof r!="function"&&(r=e,e={}),(typeof e!="object"||e===null)&&(e={}),this.profiler===void 0)return r({err:"Profiler not available",success:!1});r({success:!0}),setTimeout(()=>{let n=Date.now();this.takeSnapshot().then(i=>this.transport.send("profilings",{data:i,at:n,initiated:typeof e.initiated=="string"?e.initiated:"manual",duration:Date.now()-n,type:"heapdump"})).catch(i=>r({success:i.message,err:i}))},200)}takeSnapshot(){return new Promise((e,r)=>nw.__awaiter(this,void 0,void 0,function*(){if(this.profiler===void 0)return r(new Error("Profiler not available"));let n=[],i=s=>{let o=s.params;n.push(o.chunk)};return this.profiler.getSession().on("HeapProfiler.addHeapSnapshotChunk",i),yield this.profiler.getSession().post("HeapProfiler.takeHeapSnapshot",{reportProgress:!1}),this.profiler.getSession().removeListener("HeapProfiler.addHeapSnapshotChunk",i),e(n.join(""))}))}};ko.default=Fo});var ni=h(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.canUseInspector=void 0;var vh=ti();Kr.default={METRIC_INTERVAL:990};function sw(){let t=vh.satisfies(process.version,">= 10.1.0"),e=vh.satisfies(process.version,">= 8.0.0"),r=process.env.FORCE_INSPECTOR==="1"||process.env.FORCE_INSPECTOR==="true"||process.env.NODE_ENV==="production";return t||e&&r}Kr.canUseInspector=sw});var _h=h(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.ProfilingFeature=hr.ProfilingConfig=void 0;var ow=hh(),aw=gh(),uw=ni(),lw=oe(),$o=class{};hr.ProfilingConfig=$o;var yh={cpuJS:!0,heapSnapshot:!0,heapSampling:!0,implementation:"both"},cw={cpuJS:!1,heapSnapshot:!1,heapSampling:!1,implementation:"none"},Do=class{constructor(){this.logger=lw("axm:features:profiling")}init(e){switch(e===!0?e=yh:e===!1?e=cw:e===void 0&&(e=yh),process.env.PM2_PROFILING_FORCE_FALLBACK==="true"&&(e.implementation="addon"),(e.implementation===void 0||e.implementation==="both")&&(e.implementation=(0,uw.canUseInspector)()===!0?"inspector":"addon"),e.implementation){case"inspector":{this.logger("using inspector implementation"),this.profiler=new aw.default;break}case"addon":{this.logger("using addon implementation"),this.profiler=new ow.default;break}default:return this.logger(`Invalid profiler implementation choosen: ${e.implementation}`)}this.logger("init"),this.profiler.init()}destroy(){this.logger("destroy"),this.profiler!==void 0&&this.profiler.destroy()}};hr.ProfilingFeature=Do});var bh=h(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.EventsFeature=void 0;var fw=Se(),hw=oe(),Uo=class{constructor(){this.logger=hw("axm:features:events")}init(){this.transport=fw.ServiceManager.get("transport"),this.logger("init")}emit(e,r){if(typeof e!="string")return console.error("event name must be a string"),console.trace();if(typeof r!="object")return console.error("event data must be an object"),console.trace();if(r instanceof Array)return console.error("event data cannot be an array"),console.trace();let n={};try{n=JSON.parse(JSON.stringify(r))}catch(i){return console.log("Failed to serialize the event data",i.message)}if(n.__name=e,this.transport===void 0)return this.logger("Failed to send event as transporter isnt available");this.transport.send("human:event",n)}destroy(){this.logger("destroy")}};ii.EventsFeature=Uo});var si=h(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var Eh=1,Sh=1e3*Eh,xh=60*Sh,wh=60*xh;Ho.default={NANOSECONDS:1/(1e3*1e3),MICROSECONDS:1/1e3,MILLISECONDS:Eh,SECONDS:Sh,MINUTES:xh,HOURS:wh,DAYS:24*wh}});var Mh=h(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var Oh=si(),Go=class{constructor(e,r){this._count=0,this._rate=0,this.TICK_INTERVAL=5*Oh.default.SECONDS,this._timePeriod=e||1*Oh.default.MINUTES,this._tickInterval=r||this.TICK_INTERVAL,this._alpha=1-Math.exp(-this._tickInterval/this._timePeriod)}update(e){this._count+=e}tick(){let e=this._count/this._tickInterval;this._count=0,this._rate+=this._alpha*(e-this._rate)}rate(e){return(this._rate||0)*e}};zo.default=Go});var Yo=h(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var dw=Mh(),Bo=si(),Vo=class{constructor(e){this.used=!1,this.mark=function(n=1){this.used=!0,this._rate.update(n)},this.val=function(){return Math.round(this._rate.rate(this._samples*Bo.default.SECONDS)*100)/100};let r=this;typeof e!="object"&&(e={}),this._samples=e.samples||e.seconds||1,this._timeframe=e.timeframe||60,this._tickInterval=e.tickInterval||5*Bo.default.SECONDS,this._rate=new dw.default(this._timeframe*Bo.default.SECONDS,this._tickInterval),!(e.debug&&e.debug===!0)&&(this._interval=setInterval(function(){r._rate.tick()},this._tickInterval),this._interval.unref())}isUsed(){return this.used}};Wo.default=Vo});var qh=h(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var Ko=class{constructor(e){this.used=!1,e=e||{},this._count=e.count||0}val(){return this._count}inc(e){this.used=!0,this._count+=e||1}dec(e){this.used=!0,this._count-=e||1}reset(e){this._count=e||0}isUsed(){return this.used}};Xo.default=Ko});var Rh=h(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var Jo=class t{constructor(e){e=e||{},this._elements=e.elements||[],this._score=e.score||this._score}add(){for(let e=0;e<arguments.length;e++){let r=arguments[e];this._elements.push(r),this._bubble(this._elements.length-1)}}first(){return this._elements[0]}removeFirst(){let e=this._elements[0],r=this._elements.pop();return this._elements.length>0&&(this._elements[0]=r,this._sink(0)),e}clone(){return new t({elements:this.toArray(),score:this._score})}toSortedArray(){let e=[],r=this.clone();for(;;){let n=r.removeFirst();if(n===void 0)break;e.push(n)}return e}toArray(){return[].concat(this._elements)}size(){return this._elements.length}_bubble(e){let r=this._elements[e],n=this._score(r);for(;e>0;){let i=this._parentIndex(e),s=this._elements[i],o=this._score(s);if(n<=o)break;this._elements[i]=r,this._elements[e]=s,e=i}}_sink(e){let r=this._elements[e],n=this._score(r),i=this._elements.length;for(;;){let s,o,a=null,l=this._childIndexes(e);for(let p=0;p<l.length;p++){let c=l[p];if(c>=i)break;let d=this._elements[c],v=this._score(d);v>n&&(o===void 0||o<v)&&(s=c,o=v,a=d)}if(s===void 0)break;this._elements[s]=r,this._elements[e]=a,e=s}}_parentIndex(e){return Math.floor((e-1)/2)}_childIndexes(e){return[2*e+1,2*e+2]}_score(e){return e.valueOf()}};Zo.default=Jo});var Ch=h(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var pw=Rh(),mw=si(),Qo=class{constructor(e){this.RESCALE_INTERVAL=1*mw.default.HOURS,this.ALPHA=.015,this.SIZE=1028,e=e||{},this._elements=new pw.default({score:function(r){return-r.priority}}),this._rescaleInterval=e.rescaleInterval||this.RESCALE_INTERVAL,this._alpha=e.alpha||this.ALPHA,this._size=e.size||this.SIZE,this._random=e.random||this._random,this._landmark=null,this._nextRescale=null,this._mean=null}update(e,r){let n=Date.now();this._landmark||(this._landmark=n,this._nextRescale=this._landmark+this._rescaleInterval),r=r||n;let i=this._elements.size()+1,s={priority:this._priority(r-this._landmark),value:e};i<=this._size?this._elements.add(s):s.priority>this._elements.first().priority&&(this._elements.removeFirst(),this._elements.add(s)),n>=this._nextRescale&&this._rescale(n)}toSortedArray(){return this._elements.toSortedArray().map(function(e){return e.value})}toArray(){return this._elements.toArray().map(function(e){return e.value})}_weight(e){return Math.exp(this._alpha*(e/1e3))}_priority(e){return this._weight(e)/this._random()}_random(){return Math.random()}_rescale(e){e=e||Date.now();let r=this,n=this._landmark;this._landmark=e||Date.now(),this._nextRescale=e+this._rescaleInterval;let i=r._priority(-(r._landmark-n));this._elements.toArray().forEach(function(s){s.priority*=i})}avg(e){let r=0;return this._elements.toArray().forEach(function(n){r+=n.value}),r/this._elements.size()}};ea.default=Qo});var Xr=h(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var gw=Ch(),ta=class{constructor(e){this._sample=new gw.default,this._count=0,this._sum=0,this._varianceM=0,this._varianceS=0,this._ema=0,this.used=!1,e=e||{},this._measurement=e.measurement,this._callFn=null;let r={min:this.getMin,max:this.getMax,sum:this.getSum,count:this.getCount,variance:this._calculateVariance,mean:this._calculateMean,ema:this.getEma()};r.hasOwnProperty(this._measurement)?this._callFn=r[this._measurement]:this._callFn=function(){let n=this.percentiles([.5,.75,.95,.99,.999]);return{median:n[.5],p75:n[.75],p95:n[.95],p99:n[.99],p999:n[.999]}[this._measurement]}}update(e){this.used=!0,this._count++,this._sum+=e,this._sample.update(e),this._updateMin(e),this._updateMax(e),this._updateVariance(e),this._updateEma(e)}percentiles(e){let r=this._sample.toArray().sort(function(i,s){return i===s?0:i-s}),n={};for(let i=0;i<e.length;i++){let s=e[i];if(!r.length){n[s]=null;continue}let o=s*(r.length+1);if(o<1)n[s]=r[0];else if(o>=r.length)n[s]=r[r.length-1];else{let a=r[Math.floor(o)-1],l=r[Math.ceil(o)-1];n[s]=a+(o-Math.floor(o))*(l-a)}}return n}val(){return typeof this._callFn=="function"?this._callFn():this._callFn}getMin(){return this._min}getMax(){return this._max}getSum(){return this._sum}getCount(){return this._count}getEma(){return this._ema}fullResults(){let e=this.percentiles([.5,.75,.95,.99,.999]);return{min:this._min,max:this._max,sum:this._sum,variance:this._calculateVariance(),mean:this._calculateMean(),count:this._count,median:e[.5],p75:e[.75],p95:e[.95],p99:e[.99],p999:e[.999],ema:this._ema}}_updateMin(e){(this._min===void 0||e<this._min)&&(this._min=e)}_updateMax(e){(this._max===void 0||e>this._max)&&(this._max=e)}_updateVariance(e){if(this._count===1)return this._varianceM=e;let r=this._varianceM;this._varianceM+=(e-r)/this._count,this._varianceS+=(e-r)*(e-this._varianceM)}_updateEma(e){if(this._count<=1)return this._ema=this._calculateMean();let r=2/(1+this._count);this._ema=e*r+this._ema*(1-r)}_calculateMean(){return this._count===0?0:this._sum/this._count}_calculateVariance(){return this._count<=1?null:this._varianceS/(this._count-1)}isUsed(){return this.used}};ra.default=ta});var Th=h(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var na=class{constructor(){this.value=0,this.used=!1}val(){return this.value}set(e){this.used=!0,this.value=e}isUsed(){return this.used}};ia.default=na});var dr=h(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.MetricService=Le.HistogramOptions=Le.MetricBulk=Le.Metric=Le.MetricMeasurements=Le.MetricType=void 0;var vw=Yo(),yw=qh(),_w=Xr(),bw=Se(),ww=ni(),Ew=oe(),Sw=Th(),Nt;(function(t){t.meter="meter",t.histogram="histogram",t.counter="counter",t.gauge="gauge",t.metric="metric"})(Nt||(Le.MetricType=Nt={}));var sa;(function(t){t.min="min",t.max="max",t.sum="sum",t.count="count",t.variance="variance",t.mean="mean",t.stddev="stddev",t.median="median",t.p75="p75",t.p95="p95",t.p99="p99",t.p999="p999"})(sa||(Le.MetricMeasurements=sa={}));var Jr=class{};Le.Metric=Jr;var oa=class extends Jr{};Le.MetricBulk=oa;var aa=class extends Jr{};Le.HistogramOptions=aa;var ua=class{constructor(){this.metrics=new Map,this.timer=null,this.transport=null,this.logger=Ew("axm:services:metrics")}init(){if(this.transport=bw.ServiceManager.get("transport"),this.transport===null)return this.logger("Failed to init metrics service cause no transporter");this.logger("init"),this.timer=setInterval(()=>{if(this.transport===null)return this.logger("Abort metrics update since transport is not available");this.logger("refreshing metrics value");for(let r of this.metrics.values())r.value=r.handler();this.logger("sending update metrics value to transporter");let e=Array.from(this.metrics.values()).filter(r=>{if(r==null||r.value===void 0||r.value===null)return!1;let n=typeof r.value=="number",i=typeof r.value=="string",s=typeof r.value=="boolean",o=!isNaN(r.value);return i||s||n&&o});this.transport.setMetrics(e)},ww.default.METRIC_INTERVAL),this.timer.unref()}registerMetric(e){if(typeof e.name!="string")return console.error(`Invalid metric name declared: ${e.name}`),console.trace();if(typeof e.type!="string")return console.error(`Invalid metric type declared: ${e.type}`),console.trace();if(typeof e.handler!="function")return console.error(`Invalid metric handler declared: ${e.handler}`),console.trace();typeof e.historic!="boolean"&&(e.historic=!0),this.logger(`Registering new metric: ${e.name}`),this.metrics.set(e.name,e)}meter(e){let r={name:e.name,type:Nt.meter,id:e.id,historic:e.historic,implementation:new vw.default(e),unit:e.unit,handler:function(){return this.implementation.isUsed()?this.implementation.val():NaN}};return this.registerMetric(r),r.implementation}counter(e){let r={name:e.name,type:Nt.counter,id:e.id,historic:e.historic,implementation:new yw.default(e),unit:e.unit,handler:function(){return this.implementation.isUsed()?this.implementation.val():NaN}};return this.registerMetric(r),r.implementation}histogram(e){(e.measurement===void 0||e.measurement===null)&&(e.measurement=sa.mean);let r={name:e.name,type:Nt.histogram,id:e.id,historic:e.historic,implementation:new _w.default(e),unit:e.unit,handler:function(){return this.implementation.isUsed()?Math.round(this.implementation.val()*100)/100:NaN}};return this.registerMetric(r),r.implementation}metric(e){let r;return typeof e.value=="function"?r={name:e.name,type:Nt.gauge,id:e.id,implementation:void 0,historic:e.historic,unit:e.unit,handler:e.value}:r={name:e.name,type:Nt.gauge,id:e.id,historic:e.historic,implementation:new Sw.default,unit:e.unit,handler:function(){return this.implementation.isUsed()?this.implementation.val():NaN}},this.registerMetric(r),r.implementation}deleteMetric(e){return this.metrics.delete(e)}destroy(){this.timer!==null&&clearInterval(this.timer),this.metrics.clear()}};Le.MetricService=ua});var Lh=h(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.EventLoopMetricOption=void 0;var Ph=dr(),Ah=Se(),xw=oe(),Ow=Xr(),la=class{};Zr.EventLoopMetricOption=la;var Ih={eventLoopActive:!0,eventLoopDelay:!0},ca=class{constructor(){this.logger=xw("axm:features:metrics:eventloop"),this.delayLoopInterval=1e3}init(e){if(e===!1)return;if(e===void 0&&(e=Ih),e===!0&&(e=Ih),this.metricService=Ah.ServiceManager.get("metrics"),this.metricService===void 0)return this.logger("Failed to load metric service");if(this.logger("init"),typeof process._getActiveRequests=="function"&&e.eventLoopActive===!0){let s=this.metricService.metric({name:"Active requests",id:"internal/libuv/requests",historic:!0});this.requestTimer=setInterval(o=>{s.set(process._getActiveRequests().length)},1e3),this.requestTimer.unref()}if(typeof process._getActiveHandles=="function"&&e.eventLoopActive===!0){let s=this.metricService.metric({name:"Active handles",id:"internal/libuv/handles",historic:!0});this.handleTimer=setInterval(o=>{s.set(process._getActiveHandles().length)},1e3),this.handleTimer.unref()}if(e.eventLoopDelay===!1)return;let r=new Ow.default,n={name:"Event Loop Latency",id:"internal/libuv/latency/p50",type:Ph.MetricType.histogram,historic:!0,implementation:r,handler:function(){let s=this.implementation.percentiles([.5]);return s[.5]===null?null:s[.5].toFixed(2)},unit:"ms"},i={name:"Event Loop Latency p95",id:"internal/libuv/latency/p95",type:Ph.MetricType.histogram,historic:!0,implementation:r,handler:function(){let s=this.implementation.percentiles([.95]);return s[.95]===null?null:s[.95].toFixed(2)},unit:"ms"};if(this.metricService.registerMetric(n),this.metricService.registerMetric(i),this.runtimeStatsService=Ah.ServiceManager.get("runtimeStats"),this.runtimeStatsService===void 0){this.logger("runtimeStats module not found, fallbacking into pure js method");let s=process.hrtime();this.delayTimer=setInterval(()=>{let o=process.hrtime(),a=(o[0]-s[0])*1e3+(o[1]-s[1])/1e6-this.delayLoopInterval;s=o,r.update(a)},this.delayLoopInterval),this.delayTimer.unref()}else this.logger("using runtimeStats module as data source for event loop latency"),this.handle=s=>{typeof s!="object"||!Array.isArray(s.ticks)||s.ticks.forEach(o=>{r.update(o)})},this.runtimeStatsService.on("data",this.handle)}destroy(){this.requestTimer!==void 0&&clearInterval(this.requestTimer),this.handleTimer!==void 0&&clearInterval(this.handleTimer),this.delayTimer!==void 0&&clearInterval(this.delayTimer),this.runtimeStatsService!==void 0&&this.runtimeStatsService.removeListener("data",this.handle),this.logger("destroy")}};Zr.default=ca});var ha=h((E3,Fh)=>{"use strict";function fa(t){return typeof t=="function"}var Re=console.error.bind(console);function Qr(t,e,r){var n=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:n,writable:!0,value:r})}function en(t){t&&t.logger&&(fa(t.logger)?Re=t.logger:Re("new logger isn't a function, not replacing"))}function Nh(t,e,r){if(!t||!t[e]){Re("no original function "+e+" to wrap");return}if(!r){Re("no wrapper function"),Re(new Error().stack);return}if(!fa(t[e])||!fa(r)){Re("original object and wrapper must be functions");return}var n=t[e],i=r(n,e);return Qr(i,"__original",n),Qr(i,"__unwrap",function(){t[e]===i&&Qr(t,e,n)}),Qr(i,"__wrapped",!0),Qr(t,e,i),i}function Mw(t,e,r){if(t)Array.isArray(t)||(t=[t]);else{Re("must provide one or more modules to patch"),Re(new Error().stack);return}if(!(e&&Array.isArray(e))){Re("must provide one or more functions to wrap on modules");return}t.forEach(function(n){e.forEach(function(i){Nh(n,i,r)})})}function jh(t,e){if(!t||!t[e]){Re("no function to unwrap."),Re(new Error().stack);return}if(!t[e].__unwrap)Re("no original to unwrap to -- has "+e+" already been unwrapped?");else return t[e].__unwrap()}function qw(t,e){if(t)Array.isArray(t)||(t=[t]);else{Re("must provide one or more modules to patch"),Re(new Error().stack);return}if(!(e&&Array.isArray(e))){Re("must provide one or more functions to unwrap on modules");return}t.forEach(function(r){e.forEach(function(n){jh(r,n)})})}en.wrap=Nh;en.massWrap=Mw;en.unwrap=jh;en.massUnwrap=qw;Fh.exports=en});var Dh=h(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.NetworkTrafficConfig=void 0;var oi=require("net"),kh=dr(),Rw=oe(),$h=Yo(),ai=ha(),Cw=Se(),da=class{};tn.NetworkTrafficConfig=da;var Tw={upload:!1,download:!1},Pw={upload:!0,download:!0},pa=class{constructor(){this.logger=Rw("axm:features:metrics:network")}init(e){if(e!==!1){if(e===!0&&(e=Pw),e===void 0&&(e=Tw),this.metricService=Cw.ServiceManager.get("metrics"),this.metricService===void 0)return this.logger("Failed to load metric service");e.download===!0&&this.catchDownload(),e.upload===!0&&this.catchUpload(),this.logger("init")}}destroy(){this.timer!==void 0&&clearTimeout(this.timer),this.socketProto!==void 0&&this.socketProto!==null&&(ai.unwrap(this.socketProto,"read"),ai.unwrap(this.socketProto,"write")),this.logger("destroy")}catchDownload(){if(this.metricService===void 0)return this.logger("Failed to load metric service");let e=new $h.default({});this.metricService.registerMetric({name:"Network In",id:"internal/network/in",historic:!0,type:kh.MetricType.meter,implementation:e,unit:"kb/s",handler:function(){return Math.floor(this.implementation.val()/1024*1e3)/1e3}}),setTimeout(()=>{let r=oi.Socket.prototype.read;if(r&&r.__wrapped===!0)return this.logger("Already patched socket read, canceling");ai.wrap(oi.Socket.prototype,"read",function(i){return function(){return this.on("data",s=>{typeof s.length=="number"&&e.mark(s.length)}),i.apply(this,arguments)}})},500)}catchUpload(){if(this.metricService===void 0)return this.logger("Failed to load metric service");let e=new $h.default;this.metricService.registerMetric({name:"Network Out",id:"internal/network/out",type:kh.MetricType.meter,historic:!0,implementation:e,unit:"kb/s",handler:function(){return Math.floor(this.implementation.val()/1024*1e3)/1e3}}),setTimeout(()=>{let r=oi.Socket.prototype.write;if(r&&r.__wrapped===!0)return this.logger("Already patched socket write, canceling");ai.wrap(oi.Socket.prototype,"write",function(i){return function(s){return typeof s.length=="number"&&e.mark(s.length),i.apply(this,arguments)}})},500)}};tn.default=pa});var ma=h((x3,Uh)=>{"use strict";var Aw=require("os");Uh.exports=Aw.homedir||function(){var e=process.env.HOME,r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null}});var ga=h((O3,Hh)=>{Hh.exports=function(){var t=Error.prepareStackTrace;Error.prepareStackTrace=function(r,n){return n};var e=new Error().stack;return Error.prepareStackTrace=t,e[2].getFileName()}});var Gh=h((M3,rn)=>{"use strict";var Iw=process.platform==="win32",Lw=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,va={};function Nw(t){return Lw.exec(t).slice(1)}va.parse=function(t){if(typeof t!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=Nw(t);if(!e||e.length!==5)throw new TypeError("Invalid path '"+t+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var jw=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,ya={};function Fw(t){return jw.exec(t).slice(1)}ya.parse=function(t){if(typeof t!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=Fw(t);if(!e||e.length!==5)throw new TypeError("Invalid path '"+t+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};Iw?rn.exports=va.parse:rn.exports=ya.parse;rn.exports.posix=ya.parse;rn.exports.win32=va.parse});var _a=h((q3,Wh)=>{var Vh=require("path"),zh=Vh.parse||Gh(),Bh=function(e,r){var n="/";/^([A-Za-z]:)/.test(e)?n="":/^\\\\/.test(e)&&(n="\\\\");for(var i=[e],s=zh(e);s.dir!==i[i.length-1];)i.push(s.dir),s=zh(s.dir);return i.reduce(function(o,a){return o.concat(r.map(function(l){return Vh.resolve(n,a,l)}))},[])};Wh.exports=function(e,r,n){var i=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(n,e,function(){return Bh(e,i)},r);var s=Bh(e,i);return r&&r.paths?s.concat(r.paths):s}});var ba=h((R3,Yh)=>{Yh.exports=function(t,e){return e||{}}});var Jh=h((C3,Xh)=>{"use strict";var kw="Function.prototype.bind called on incompatible ",$w=Object.prototype.toString,Dw=Math.max,Uw="[object Function]",Kh=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},Hw=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},Gw=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};Xh.exports=function(e){var r=this;if(typeof r!="function"||$w.apply(r)!==Uw)throw new TypeError(kw+r);for(var n=Hw(arguments,1),i,s=function(){if(this instanceof i){var c=r.apply(this,Kh(n,arguments));return Object(c)===c?c:this}return r.apply(e,Kh(n,arguments))},o=Dw(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+Gw(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var p=function(){};p.prototype=r.prototype,i.prototype=new p,p.prototype=null}return i}});var Qh=h((T3,Zh)=>{"use strict";var zw=Jh();Zh.exports=Function.prototype.bind||zw});var td=h((P3,ed)=>{"use strict";var Bw=Function.prototype.call,Vw=Object.prototype.hasOwnProperty,Ww=Qh();ed.exports=Ww.call(Bw,Vw)});var rd=h((A3,Yw)=>{Yw.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3","node:test/mock_loader":">= 22.3","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var nn=h((I3,sd)=>{"use strict";var Kw=td();function Xw(t,e){for(var r=t.split("."),n=e.split(" "),i=n.length>1?n[0]:"=",s=(n.length>1?n[1]:n[0]).split("."),o=0;o<3;++o){var a=parseInt(r[o]||0,10),l=parseInt(s[o]||0,10);if(a!==l)return i==="<"?a<l:i===">="?a>=l:!1}return i===">="}function nd(t,e){var r=e.split(/ ?&& ?/);if(r.length===0)return!1;for(var n=0;n<r.length;++n)if(!Xw(t,r[n]))return!1;return!0}function Jw(t,e){if(typeof e=="boolean")return e;var r=typeof t>"u"?process.versions&&process.versions.node:t;if(typeof r!="string")throw new TypeError(typeof t>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var n=0;n<e.length;++n)if(nd(r,e[n]))return!0;return!1}return nd(r,e)}var id=rd();sd.exports=function(e,r){return Kw(id,e)&&Jw(r,id[e])}});var ud=h((L3,ad)=>{var jt=require("fs"),Zw=ma(),le=require("path"),Qw=ga(),e2=_a(),t2=ba(),r2=nn(),n2=process.platform!=="win32"&&jt.realpath&&typeof jt.realpath.native=="function"?jt.realpath.native:jt.realpath,od=Zw(),i2=function(){return[le.join(od,".node_modules"),le.join(od,".node_libraries")]},s2=function(e,r){jt.stat(e,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isFile()||i.isFIFO())})},o2=function(e,r){jt.stat(e,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isDirectory())})},a2=function(e,r){n2(e,function(n,i){n&&n.code!=="ENOENT"?r(n):r(null,n?e:i)})},sn=function(e,r,n,i){n&&n.preserveSymlinks===!1?e(r,i):i(null,r)},u2=function(e,r,n){e(r,function(i,s){if(i)n(i);else try{var o=JSON.parse(s);n(null,o)}catch{n(null)}})},l2=function(e,r,n){for(var i=e2(r,n,e),s=0;s<i.length;s++)i[s]=le.join(i[s],e);return i};ad.exports=function(e,r,n){var i=n,s=r;if(typeof r=="function"&&(i=s,s={}),typeof e!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){i(o)})}s=t2(e,s);var a=s.isFile||s2,l=s.isDirectory||o2,p=s.readFile||jt.readFile,c=s.realpath||a2,d=s.readPackage||u2;if(s.readFile&&s.readPackage){var v=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){i(v)})}var m=s.packageIterator,w=s.extensions||[".js"],q=s.includeCoreModules!==!1,O=s.basedir||le.dirname(Qw()),A=s.filename||O;s.paths=s.paths||i2();var L=le.resolve(O);sn(c,L,s,function(P,D){P?i(P):G(D)});var I;function G(P){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))I=le.resolve(P,e),(e==="."||e===".."||e.slice(-1)==="/")&&(I+="/"),/\/$/.test(e)&&I===P?$(I,s.package,V):H(I,s.package,V);else{if(q&&r2(e))return i(null,e);ee(e,P,function(D,T,z){if(D)i(D);else{if(T)return sn(c,T,s,function(E,u){E?i(E):i(null,u,z)});var te=new Error("Cannot find module '"+e+"' from '"+A+"'");te.code="MODULE_NOT_FOUND",i(te)}})}}function V(P,D,T){P?i(P):D?i(null,D,T):$(I,function(z,te,E){if(z)i(z);else if(te)sn(c,te,s,function(f,y){f?i(f):i(null,y,E)});else{var u=new Error("Cannot find module '"+e+"' from '"+A+"'");u.code="MODULE_NOT_FOUND",i(u)}})}function H(P,D,T){var z=D,te=T;typeof z=="function"&&(te=z,z=void 0);var E=[""].concat(w);u(E,P,z);function u(f,y,g){if(f.length===0)return te(null,void 0,g);var _=y+f[0],b=g;b?S(null,b):C(le.dirname(_),S);function S(x,M,N){if(b=M,x)return te(x);if(N&&b&&s.pathFilter){var J=le.relative(N,_),Y=J.slice(0,J.length-f[0].length),K=s.pathFilter(b,y,Y);if(K)return u([""].concat(w.slice()),le.resolve(N,K),b)}a(_,R)}function R(x,M){if(x)return te(x);if(M)return te(null,_,b);u(f.slice(1),y,b)}}}function C(P,D){if(P===""||P==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(P)||/[/\\]node_modules[/\\]*$/.test(P))return D(null);sn(c,P,s,function(T,z){if(T)return C(le.dirname(P),D);var te=le.join(z,"package.json");a(te,function(E,u){if(!u)return C(le.dirname(P),D);d(p,te,function(f,y){f&&D(f);var g=y;g&&s.packageFilter&&(g=s.packageFilter(g,te)),D(null,g,P)})})})}function $(P,D,T){var z=T,te=D;typeof te=="function"&&(z=te,te=s.package),sn(c,P,s,function(E,u){if(E)return z(E);var f=le.join(u,"package.json");a(f,function(y,g){if(y)return z(y);if(!g)return H(le.join(P,"index"),te,z);d(p,f,function(_,b){if(_)return z(_);var S=b;if(S&&s.packageFilter&&(S=s.packageFilter(S,f)),S&&S.main){if(typeof S.main!="string"){var R=new TypeError("package \u201C"+S.name+"\u201D `main` must be a string");return R.code="INVALID_PACKAGE_MAIN",z(R)}(S.main==="."||S.main==="./")&&(S.main="index"),H(le.resolve(P,S.main),S,function(x,M,N){if(x)return z(x);if(M)return z(null,M,N);if(!N)return H(le.join(P,"index"),N,z);var J=le.resolve(P,N.main);$(J,N,function(Y,K,re){if(Y)return z(Y);if(K)return z(null,K,re);H(le.join(P,"index"),re,z)})});return}H(le.join(P,"/index"),S,z)})})})}function U(P,D){if(D.length===0)return P(null,void 0);var T=D[0];l(le.dirname(T),z);function z(u,f){if(u)return P(u);if(!f)return U(P,D.slice(1));H(T,s.package,te)}function te(u,f,y){if(u)return P(u);if(f)return P(null,f,y);$(T,s.package,E)}function E(u,f,y){if(u)return P(u);if(f)return P(null,f,y);U(P,D.slice(1))}}function ee(P,D,T){var z=function(){return l2(P,D,s)};U(T,m?m(P,D,z,s):z())}}});var ld=h((N3,c2)=>{c2.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var dd=h((j3,hd)=>{"use strict";var f2=nn(),cd=ld(),fd={};for(ui in cd)Object.prototype.hasOwnProperty.call(cd,ui)&&(fd[ui]=f2(ui));var ui;hd.exports=fd});var md=h((F3,pd)=>{var h2=nn();pd.exports=function(e){return h2(e)}});var yd=h((k3,vd)=>{var d2=nn(),Ft=require("fs"),Oe=require("path"),p2=ma(),m2=ga(),g2=_a(),v2=ba(),y2=process.platform!=="win32"&&Ft.realpathSync&&typeof Ft.realpathSync.native=="function"?Ft.realpathSync.native:Ft.realpathSync,gd=p2(),_2=function(){return[Oe.join(gd,".node_modules"),Oe.join(gd,".node_libraries")]},b2=function(e){try{var r=Ft.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!r&&(r.isFile()||r.isFIFO())},w2=function(e){try{var r=Ft.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!r&&r.isDirectory()},E2=function(e){try{return y2(e)}catch(r){if(r.code!=="ENOENT")throw r}return e},on=function(e,r,n){return n&&n.preserveSymlinks===!1?e(r):r},S2=function(e,r){var n=e(r);try{var i=JSON.parse(n);return i}catch{}},x2=function(e,r,n){for(var i=g2(r,n,e),s=0;s<i.length;s++)i[s]=Oe.join(i[s],e);return i};vd.exports=function(e,r){if(typeof e!="string")throw new TypeError("Path must be a string.");var n=v2(e,r),i=n.isFile||b2,s=n.readFileSync||Ft.readFileSync,o=n.isDirectory||w2,a=n.realpathSync||E2,l=n.readPackageSync||S2;if(n.readFileSync&&n.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var p=n.packageIterator,c=n.extensions||[".js"],d=n.includeCoreModules!==!1,v=n.basedir||Oe.dirname(m2()),m=n.filename||v;n.paths=n.paths||_2();var w=on(a,Oe.resolve(v),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var q=Oe.resolve(w,e);(e==="."||e===".."||e.slice(-1)==="/")&&(q+="/");var O=I(q)||V(q);if(O)return on(a,O,n)}else{if(d&&d2(e))return e;var A=H(e,w);if(A)return on(a,A,n)}var L=new Error("Cannot find module '"+e+"' from '"+m+"'");throw L.code="MODULE_NOT_FOUND",L;function I(C){var $=G(Oe.dirname(C));if($&&$.dir&&$.pkg&&n.pathFilter){var U=Oe.relative($.dir,C),ee=n.pathFilter($.pkg,C,U);ee&&(C=Oe.resolve($.dir,ee))}if(i(C))return C;for(var P=0;P<c.length;P++){var D=C+c[P];if(i(D))return D}}function G(C){if(!(C===""||C==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(C))&&!/[/\\]node_modules[/\\]*$/.test(C)){var $=Oe.join(on(a,C,n),"package.json");if(!i($))return G(Oe.dirname(C));var U=l(s,$);return U&&n.packageFilter&&(U=n.packageFilter(U,C)),{pkg:U,dir:C}}}function V(C){var $=Oe.join(on(a,C,n),"/package.json");if(i($)){try{var U=l(s,$)}catch{}if(U&&n.packageFilter&&(U=n.packageFilter(U,C)),U&&U.main){if(typeof U.main!="string"){var ee=new TypeError("package \u201C"+U.name+"\u201D `main` must be a string");throw ee.code="INVALID_PACKAGE_MAIN",ee}(U.main==="."||U.main==="./")&&(U.main="index");try{var P=I(Oe.resolve(C,U.main));if(P)return P;var D=V(Oe.resolve(C,U.main));if(D)return D}catch{}}}return I(Oe.join(C,"/index"))}function H(C,$){for(var U=function(){return x2(C,$,n)},ee=p?p(C,$,U,n):U(),P=0;P<ee.length;P++){var D=ee[P];if(o(Oe.dirname(D))){var T=I(D);if(T)return T;var z=V(D);if(z)return z}}}}});var bd=h(($3,_d)=>{var li=ud();li.core=dd();li.isCore=md();li.sync=yd();_d.exports=li});var Ed=h((D3,wd)=>{var pr=1e3,mr=pr*60,gr=mr*60,kt=gr*24,O2=kt*7,M2=kt*365.25;wd.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return q2(t);if(r==="number"&&isFinite(t))return e.long?C2(t):R2(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function q2(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*M2;case"weeks":case"week":case"w":return r*O2;case"days":case"day":case"d":return r*kt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*gr;case"minutes":case"minute":case"mins":case"min":case"m":return r*mr;case"seconds":case"second":case"secs":case"sec":case"s":return r*pr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function R2(t){var e=Math.abs(t);return e>=kt?Math.round(t/kt)+"d":e>=gr?Math.round(t/gr)+"h":e>=mr?Math.round(t/mr)+"m":e>=pr?Math.round(t/pr)+"s":t+"ms"}function C2(t){var e=Math.abs(t);return e>=kt?ci(t,e,kt,"day"):e>=gr?ci(t,e,gr,"hour"):e>=mr?ci(t,e,mr,"minute"):e>=pr?ci(t,e,pr,"second"):t+" ms"}function ci(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var wa=h((U3,Sd)=>{function T2(t){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Ed(),r.destroy=p,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let d=0;for(let v=0;v<c.length;v++)d=(d<<5)-d+c.charCodeAt(v),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(c){let d,v=null,m,w;function q(...O){if(!q.enabled)return;let A=q,L=Number(new Date),I=L-(d||L);A.diff=I,A.prev=d,A.curr=L,d=L,O[0]=r.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let G=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(H,C)=>{if(H==="%%")return"%";G++;let $=r.formatters[C];if(typeof $=="function"){let U=O[G];H=$.call(A,U),O.splice(G,1),G--}return H}),r.formatArgs.call(A,O),(A.log||r.log).apply(A,O)}return q.namespace=c,q.useColors=r.useColors(),q.color=r.selectColor(c),q.extend=n,q.destroy=r.destroy,Object.defineProperty(q,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(m!==r.namespaces&&(m=r.namespaces,w=r.enabled(c)),w),set:O=>{v=O}}),typeof r.init=="function"&&r.init(q),q}function n(c,d){let v=r(this.namespace+(typeof d>"u"?":":d)+c);return v.log=this.log,v}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let d,v=(typeof c=="string"?c:"").split(/[\s,]+/),m=v.length;for(d=0;d<m;d++)v[d]&&(c=v[d].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function s(){let c=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),c}function o(c){if(c[c.length-1]==="*")return!0;let d,v;for(d=0,v=r.skips.length;d<v;d++)if(r.skips[d].test(c))return!1;for(d=0,v=r.names.length;d<v;d++)if(r.names[d].test(c))return!0;return!1}function a(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function l(c){return c instanceof Error?c.stack||c.message:c}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Sd.exports=T2});var xd=h((ke,fi)=>{ke.formatArgs=A2;ke.save=I2;ke.load=L2;ke.useColors=P2;ke.storage=N2();ke.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ke.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function P2(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function A2(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+fi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}ke.log=console.debug||console.log||(()=>{});function I2(t){try{t?ke.storage.setItem("debug",t):ke.storage.removeItem("debug")}catch{}}function L2(){let t;try{t=ke.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function N2(){try{return localStorage}catch{}}fi.exports=wa()(ke);var{formatters:j2}=fi.exports;j2.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Md=h((ve,di)=>{var F2=require("tty"),hi=require("util");ve.init=z2;ve.log=U2;ve.formatArgs=$2;ve.save=H2;ve.load=G2;ve.useColors=k2;ve.destroy=hi.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ve.colors=[6,2,3,4,5,1];try{let t=js();t&&(t.stderr||t).level>=2&&(ve.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ve.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function k2(){return"colors"in ve.inspectOpts?!!ve.inspectOpts.colors:F2.isatty(process.stderr.fd)}function $2(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+di.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=D2()+e+" "+t[0]}function D2(){return ve.inspectOpts.hideDate?"":new Date().toISOString()+" "}function U2(...t){return process.stderr.write(hi.formatWithOptions(ve.inspectOpts,...t)+`
`)}function H2(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function G2(){return process.env.DEBUG}function z2(t){t.inspectOpts={};let e=Object.keys(ve.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=ve.inspectOpts[e[r]]}di.exports=wa()(ve);var{formatters:Od}=di.exports;Od.o=function(t){return this.inspectOpts.colors=this.useColors,hi.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Od.O=function(t){return this.inspectOpts.colors=this.useColors,hi.inspect(t,this.inspectOpts)}});var qd=h((H3,Ea)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ea.exports=xd():Ea.exports=Md()});var Cd=h((G3,Rd)=>{"use strict";var Sa=require("path");Rd.exports=function(t){var e=t.split(Sa.sep),r=e.lastIndexOf("node_modules");if(r!==-1&&e[r+1]){var n=e[r+1][0]==="@",i=n?e[r+1]+"/"+e[r+2]:e[r+1],s=n?3:2;return{name:i,basedir:e.slice(0,r+s).join(Sa.sep),path:e.slice(r+s).join(Sa.sep)}}}});var Td=h((z3,B2)=>{B2.exports={name:"require-in-the-middle",version:"5.2.0",description:"Module to hook into the Node.js require function",main:"index.js",dependencies:{debug:"^4.1.1","module-details-from-path":"^1.0.3",resolve:"^1.22.1"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:[],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},homepage:"https://github.com/elastic/require-in-the-middle#readme",engines:{node:">=6"}}});var Id=h((B3,Ad)=>{"use strict";var vr=require("path"),ot=require("module"),Pd=bd(),Ce=qd()("require-in-the-middle"),V2=Cd();Ad.exports=mi;var pi;ot.isBuiltin?pi=ot.isBuiltin:pi=t=>!!Pd.core[t];var W2=/([/\\]index)?(\.js)?$/;function mi(t,e,r){if(!(this instanceof mi))return new mi(t,e,r);if(typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),typeof ot._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof ot._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,Td().bugs.url);return}this.cache=new Map,this._unhooked=!1,this._origRequire=ot.prototype.require;let n=this,i=new Set,s=e?e.internals===!0:!1,o=Array.isArray(t);Ce("registering require hook"),this._require=ot.prototype.require=function(a){if(n._unhooked===!0)return Ce("ignoring require call - module is soft-unhooked"),n._origRequire.apply(this,arguments);let l=pi(a),p;if(l){if(p=a,a.startsWith("node:")){let w=a.slice(5);pi(w)&&(p=w)}}else p=ot._resolveFilename(a,this);let c,d;if(Ce("processing %s module require('%s'): %s",l===!0?"core":"non-core",a,p),n.cache.has(p)===!0)return Ce("returning already patched cached module: %s",p),n.cache.get(p);let v=i.has(p);v===!1&&i.add(p);let m=n._origRequire.apply(this,arguments);if(v===!0)return Ce("module is in the process of being patched already - ignoring: %s",p),m;if(i.delete(p),l===!0){if(o===!0&&t.includes(p)===!1)return Ce("ignoring core module not on whitelist: %s",p),m;c=p}else if(o===!0&&t.includes(p)){let w=vr.parse(p);c=w.name,d=w.dir}else{let w=V2(p);if(w===void 0)return Ce("could not parse filename: %s",p),m;c=w.name,d=w.basedir;let q=Y2(w);if(Ce("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",c,a,q,d),o===!0&&t.includes(c)===!1){if(t.includes(q)===!1)return m;c=q}else{let O;try{O=Pd.sync(c,{basedir:d})}catch{return Ce("could not resolve module: %s",c),m}if(O!==p)if(s===!0)c=c+vr.sep+vr.relative(d,p),Ce("preparing to process require of internal file: %s",c);else return Ce("ignoring require of non-main module file: %s",O),m}}return n.cache.has(p)===!1&&(n.cache.set(p,m),Ce("calling require hook: %s",c),n.cache.set(p,r(m,c,d))),Ce("returning module: %s",c),n.cache.get(p)}}mi.prototype.unhook=function(){this._unhooked=!0,this._require===ot.prototype.require?(ot.prototype.require=this._origRequire,Ce("unhook successful")):Ce("unhook unsuccessful")};function Y2(t){let e=vr.sep!=="/"?t.path.split(vr.sep).join("/"):t.path;return vr.posix.join(t.name,e).replace(W2,"")}});var Nd=h(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.HttpMetricsConfig=void 0;var xa=ha(),K2=oe(),X2=Tt(),J2=Se(),Ld=Xr(),Z2=Id(),gi=dr(),Oa=class{};an.HttpMetricsConfig=Oa;var Ma=class{constructor(){this.defaultConf={http:!0},this.metrics=new Map,this.logger=(0,K2.default)("axm:features:metrics:http"),this.modules={}}init(e){if(e!==!1){if(e===void 0&&(e=this.defaultConf),typeof e!="object"&&(e=this.defaultConf),this.logger("init"),X2.default.configureModule({latency:!0}),this.metricService=J2.ServiceManager.get("metrics"),this.metricService===void 0)return this.logger("Failed to load metric service");this.logger("hooking to require"),this.hookRequire()}}registerHttpMetric(){if(this.metricService===void 0)return this.logger("Failed to load metric service");let e=new Ld.default,r={name:"HTTP Mean Latency",id:"internal/http/builtin/latency/p50",type:gi.MetricType.histogram,historic:!0,implementation:e,unit:"ms",handler:()=>e.percentiles([.5])[.5]},n={name:"HTTP P95 Latency",id:"internal/http/builtin/latency/p95",type:gi.MetricType.histogram,historic:!0,implementation:e,handler:()=>e.percentiles([.95])[.95],unit:"ms"},i={name:"HTTP",historic:!0,id:"internal/http/builtin/reqs",unit:"req/min"};this.metricService.registerMetric(r),this.metricService.registerMetric(n),this.metrics.set("http.latency",e),this.metrics.set("http.meter",this.metricService.meter(i))}registerHttpsMetric(){if(this.metricService===void 0)return this.logger("Failed to load metric service");let e=new Ld.default,r={name:"HTTPS Mean Latency",id:"internal/https/builtin/latency/p50",type:gi.MetricType.histogram,historic:!0,implementation:e,unit:"ms",handler:()=>e.percentiles([.5])[.5]},n={name:"HTTPS P95 Latency",id:"internal/https/builtin/latency/p95",type:gi.MetricType.histogram,historic:!0,implementation:e,handler:()=>e.percentiles([.95])[.95],unit:"ms"},i={name:"HTTPS",historic:!0,id:"internal/https/builtin/reqs",unit:"req/min"};this.metricService.registerMetric(r),this.metricService.registerMetric(n),this.metrics.set("https.latency",e),this.metrics.set("https.meter",this.metricService.meter(i))}destroy(){this.modules.http!==void 0&&(this.logger("unwraping http module"),xa.unwrap(this.modules.http,"emit"),this.modules.http=void 0),this.modules.https!==void 0&&(this.logger("unwraping https module"),xa.unwrap(this.modules.https,"emit"),this.modules.https=void 0),this.hooks&&this.hooks.unhook(),this.logger("destroy")}hookHttp(e,r){if(e.Server===void 0||e.Server.prototype===void 0)return;if(this.modules[r]!==void 0)return this.logger(`Module ${r} already hooked`);this.logger(`Hooking to ${r} module`),this.modules[r]=e.Server.prototype,r==="http"?this.registerHttpMetric():r==="https"&&this.registerHttpsMetric();let n=this;xa.wrap(e.Server.prototype,"emit",i=>function(s,o,a){if(s!=="request")return i.apply(this,arguments);let l=n.metrics.get(`${r}.meter`);l!==void 0&&l.mark();let p=n.metrics.get(`${r}.latency`);if(p===void 0)return i.apply(this,arguments);if(a==null)return i.apply(this,arguments);let c=Date.now();return a.once("finish",d=>{p.update(Date.now()-c)}),i.apply(this,arguments)})}hookRequire(){this.hooks=Z2(["http","https"],(e,r)=>(this.hookHttp(e,r),e))}};an.default=Ma});var kd=h(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.V8MetricsConfig=void 0;var jd=require("v8"),Q2=oe(),eE=Se(),qa=class{};un.V8MetricsConfig=qa;var Fd={new_space:!1,old_space:!1,map_space:!1,code_space:!1,large_object_space:!1,heap_total_size:!0,heap_used_size:!0,heap_used_percent:!0},Ra=class{constructor(){this.TIME_INTERVAL=800,this.logger=(0,Q2.default)("axm:features:metrics:v8"),this.metricStore=new Map,this.unitKB="MiB",this.metricsDefinitions={total_heap_size:{name:"Heap Size",id:"internal/v8/heap/total",unit:this.unitKB,historic:!0},heap_used_percent:{name:"Heap Usage",id:"internal/v8/heap/usage",unit:"%",historic:!0},used_heap_size:{name:"Used Heap Size",id:"internal/v8/heap/used",unit:this.unitKB,historic:!0}}}init(e){if(e!==!1){if(e===void 0&&(e=Fd),e===!0&&(e=Fd),this.metricService=eE.ServiceManager.get("metrics"),this.metricService===void 0)return this.logger("Failed to load metric service");if(this.logger("init"),!jd.hasOwnProperty("getHeapStatistics"))return this.logger("V8.getHeapStatistics is not available, aborting");for(let r in this.metricsDefinitions){if(e[r]===!1||e[r]===!1)continue;let i=this.metricsDefinitions[r];this.metricStore.set(r,this.metricService.metric(i))}this.timer=setInterval(()=>{let r=jd.getHeapStatistics();for(let s in this.metricsDefinitions){if(typeof r[s]!="number")continue;let o=this.metricStore.get(s);o!==void 0&&o.set(this.formatMiBytes(r[s]))}let n=(r.used_heap_size/r.total_heap_size*100).toFixed(2),i=this.metricStore.get("heap_used_percent");i!==void 0&&i.set(parseFloat(n))},this.TIME_INTERVAL),this.timer.unref()}}destroy(){this.timer!==void 0&&clearInterval(this.timer),this.logger("destroy")}formatMiBytes(e){return(e/1024/1024).toFixed(2)}};un.default=Ra});var Hd=h(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.RuntimeMetricsOptions=void 0;var mt=dr(),$d=Se(),tE=oe(),Dd=Xr(),Ca=class{};ln.RuntimeMetricsOptions=Ca;var Ud={gcNewPause:!0,gcOldPause:!0,pageFaults:!0,contextSwitchs:!0},Ta=class{constructor(){this.logger=tE("axm:features:metrics:runtime"),this.metrics=new Map}init(e){if(e===!1)return;if(e===void 0&&(e=Ud),e===!0&&(e=Ud),this.metricService=$d.ServiceManager.get("metrics"),this.metricService===void 0)return this.logger("Failed to load metric service");if(this.runtimeStatsService=$d.ServiceManager.get("runtimeStats"),this.runtimeStatsService===void 0)return this.logger("Failed to load runtime stats service");this.logger("init");let r=new Dd.default;e.gcNewPause===!0&&(this.metricService.registerMetric({name:"GC New Space Pause",id:"internal/v8/gc/new/pause/p50",type:mt.MetricType.histogram,historic:!0,implementation:r,unit:"ms",handler:function(){return this.implementation.percentiles([.5])[.5]}}),this.metricService.registerMetric({name:"GC New Space Pause p95",id:"internal/v8/gc/new/pause/p95",type:mt.MetricType.histogram,historic:!0,implementation:r,unit:"ms",handler:function(){return this.implementation.percentiles([.95])[.95]}}));let n=new Dd.default;if(e.gcOldPause===!0&&(this.metricService.registerMetric({name:"GC Old Space Pause",id:"internal/v8/gc/old/pause/p50",type:mt.MetricType.histogram,historic:!0,implementation:n,unit:"ms",handler:function(){return this.implementation.percentiles([.5])[.5]}}),this.metricService.registerMetric({name:"GC Old Space Pause p95",id:"internal/v8/gc/old/pause/p95",type:mt.MetricType.histogram,historic:!0,implementation:n,unit:"ms",handler:function(){return this.implementation.percentiles([.95])[.95]}})),e.contextSwitchs===!0){let i=this.metricService.histogram({name:"Volontary CPU Context Switch",id:"internal/uv/cpu/contextswitch/volontary",measurement:mt.MetricMeasurements.mean}),s=this.metricService.histogram({name:"Involuntary CPU Context Switch",id:"internal/uv/cpu/contextswitch/involontary",measurement:mt.MetricMeasurements.mean});this.metrics.set("inVolontarySwitchs",s),this.metrics.set("volontarySwitchs",i)}if(e.pageFaults===!0){let i=this.metricService.histogram({name:"Minor Page Fault",id:"internal/uv/memory/pagefault/minor",measurement:mt.MetricMeasurements.mean}),s=this.metricService.histogram({name:"Major Page Fault",id:"internal/uv/memory/pagefault/major",measurement:mt.MetricMeasurements.mean});this.metrics.set("softPageFault",i),this.metrics.set("hardPageFault",s)}this.handle=i=>{if(typeof i!="object"||typeof i.gc!="object"||(r.update(i.gc.newPause),n.update(i.gc.oldPause),typeof i.usage!="object"))return;let s=this.metrics.get("volontarySwitchs");s!==void 0&&s.update(i.usage.ru_nvcsw);let o=this.metrics.get("inVolontarySwitchs");o!==void 0&&o.update(i.usage.ru_nivcsw);let a=this.metrics.get("softPageFault");a!==void 0&&a.update(i.usage.ru_minflt);let l=this.metrics.get("hardPageFault");l!==void 0&&l.update(i.usage.ru_majflt)},this.runtimeStatsService.on("data",this.handle)}destroy(){this.runtimeStatsService!==void 0&&this.runtimeStatsService.removeListener("data",this.handle),this.logger("destroy")}};ln.default=Ta});var Gd=h(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.MetricsFeature=gt.MetricConfig=gt.defaultMetricConf=void 0;var rE=oe(),nE=La(),iE=Lh(),sE=Dh(),oE=Nd(),aE=kd(),uE=Hd();gt.defaultMetricConf={eventLoop:!0,network:!1,http:!0,runtime:!0,v8:!0};var Aa=class{};gt.MetricConfig=Aa;var Pa=[{name:"eventloop",module:iE.default,optionsPath:"eventLoop"},{name:"http",module:oE.default,optionsPath:"http"},{name:"network",module:sE.default,optionsPath:"network"},{name:"v8",module:aE.default,optionsPath:"v8"},{name:"runtime",module:uE.default,optionsPath:"runtime"}],Ia=class{constructor(){this.logger=(0,rE.default)("axm:features:metrics")}init(e){typeof e!="object"&&(e={}),this.logger("init");for(let r of Pa){let n=new r.module,i;typeof r.optionsPath!="string"?i={}:r.optionsPath==="."?i=e:i=(0,nE.getObjectAtPath)(e,r.optionsPath),n.init(i),r.instance=n}}get(e){let r=Pa.find(n=>n.name===e);if(r!==void 0)return r.instance}destroy(){this.logger("destroy");for(let e of Pa)e.instance!==void 0&&e.instance.destroy()}};gt.MetricsFeature=Ia});var zd=h(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.DependenciesFeature=void 0;var lE=Se(),cE=oe(),fE=Tt(),hE=require("fs"),Na=class{constructor(){this.logger=cE("axm:features:dependencies")}init(){this.transport=lE.ServiceManager.get("transport"),this.logger("init");let e=fE.default.findPackageJson();if(typeof e!="string")return this.logger("failed to found pkg.json path");this.logger(`found pkg.json in ${e}`),(0,hE.readFile)(e,(r,n)=>{if(r)return this.logger("failed to read pkg.json",r);try{let i=JSON.parse(n.toString());if(typeof i.dependencies!="object")return this.logger("failed to find deps in pkg.json");let s=Object.keys(i.dependencies).reduce((o,a)=>(o[a]={version:i.dependencies[a]},o),{});this.logger(`collected ${Object.keys(s).length} dependencies`),this.transport.send("application:dependencies",s),this.logger("sent dependencies list")}catch(i){return this.logger("failed to parse pkg.json",i)}})}destroy(){this.logger("destroy")}};vi.DependenciesFeature=Na});var La=h(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.FeatureConfig=vt.FeatureManager=vt.getObjectAtPath=void 0;var dE=uh(),pE=_h(),mE=bh(),gE=Gd(),vE=zd(),yE=oe();function Bd(t,e){if(e.indexOf(".")===-1&&e.indexOf("[")===-1)return t[e];let r=e.split(/\.|\[|\]/g),n=-1,i=r.length,s;for(;++n<i;)if(n===0&&(s=t),!!r[n]){if(s===void 0)break;s=s[r[n]]}return s}vt.getObjectAtPath=Bd;var ja=[{name:"notify",optionsPath:".",module:dE.NotifyFeature},{name:"profiler",optionsPath:"profiling",module:pE.ProfilingFeature},{name:"events",module:mE.EventsFeature},{name:"metrics",optionsPath:"metrics",module:gE.MetricsFeature},{name:"dependencies",module:vE.DependenciesFeature}],Fa=class{constructor(){this.logger=yE("axm:features")}init(e){for(let r of ja){this.logger(`Creating feature ${r.name}`);let n=new r.module,i;typeof r.optionsPath!="string"?i={}:r.optionsPath==="."?i=e:i=Bd(e,r.optionsPath),this.logger(`Init feature ${r.name}`),n.init(i),r.instance=n}}get(e){let r=ja.find(n=>n.name===e);if(r===void 0||r.instance===void 0)throw new Error(`Tried to call feature ${e} which doesn't exist or wasn't initiated`);return r.instance}destroy(){for(let e of ja)e.instance!==void 0&&(this.logger(`Destroy feature ${e.name}`),e.instance.destroy())}};vt.FeatureManager=Fa;var ka=class{};vt.FeatureConfig=ka});var Vd=h(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.ActionService=yr.Action=void 0;var _E=Se(),bE=oe(),$a=class{};yr.Action=$a;var Da=class{constructor(){this.timer=void 0,this.transport=void 0,this.actions=new Map,this.logger=bE("axm:services:actions")}listener(e){if(this.logger("Received new message from reverse"),!e)return!1;let r=e.msg?e.msg:e.action_name?e.action_name:e,n=this.actions.get(r);if(typeof n!="object")return this.logger(`Received action ${r} but failed to find the implementation`);if(!n.isScoped){if(this.logger(`Succesfully called custom action ${n.name} with arity ${n.handler.length}`),n.handler.length===2){let s={};return typeof e=="object"&&(s=e.opts),n.handler(s,n.callback)}return n.handler(n.callback)}if(e.uuid===void 0)return this.logger(`Received scoped action ${n.name} but without uuid`);let i={send:s=>{this.transport.send("axm:scoped_action:stream",{data:s,uuid:e.uuid,action_name:r})},error:s=>{this.transport.send("axm:scoped_action:error",{data:s,uuid:e.uuid,action_name:r})},end:s=>{this.transport.send("axm:scoped_action:end",{data:s,uuid:e.uuid,action_name:r})}};return this.logger(`Succesfully called scoped action ${n.name}`),n.handler(e.opts||{},i)}init(){if(this.transport=_E.ServiceManager.get("transport"),this.transport===void 0)return this.logger("Failed to load transport service");this.actions.clear(),this.transport.on("data",this.listener.bind(this))}destroy(){this.timer!==void 0&&clearInterval(this.timer),this.transport!==void 0&&this.transport.removeListener("data",this.listener.bind(this))}registerAction(e,r,n){if(typeof r=="function"&&(n=r,r=void 0),typeof e!="string"){console.error("You must define an name when registering an action");return}if(typeof n!="function"){console.error("You must define an callback when registering an action");return}if(this.transport===void 0)return this.logger("Failed to load transport service");let i="custom";(e.indexOf("km:")===0||e.indexOf("internal:")===0)&&(i="internal");let o={name:e,callback:a=>{this.transport.send("axm:reply",{at:new Date().getTime(),action_name:e,return:a})},handler:n,type:i,isScoped:!1,arity:n.length,opts:r};this.logger(`Succesfully registered custom action ${o.name}`),this.actions.set(e,o),this.transport.addAction(o)}scopedAction(e,r){if(typeof e!="string")return console.error("You must define an name when registering an action"),-1;if(typeof r!="function")return console.error("You must define an callback when registering an action"),-1;if(this.transport===void 0)return this.logger("Failed to load transport service");let n={name:e,handler:r,type:"scoped",isScoped:!0,arity:r.length,opts:null};this.logger(`Succesfully registered scoped action ${n.name}`),this.actions.set(e,n),this.transport.addAction(n)}};yr.ActionService=Da});var Yd=h(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.RuntimeStatsService=void 0;var wE=oe(),Wd=Co(),EE=Vs(),Ua=class extends EE.EventEmitter2{constructor(){super(...arguments),this.logger=(0,wE.default)("axm:services:runtimeStats"),this.enabled=!1}init(){if(this.logger("init"),process.env.PM2_APM_DISABLE_RUNTIME_STATS==="true")return this.logger("disabling service because of the environment flag");let e=Wd.default.detectModule("@pm2/node-runtime-stats");if(typeof e!="string")return;let r=Wd.default.loadModule(e);if(r instanceof Error)return this.logger(`Failed to require module @pm2/node-runtime-stats: ${r.message}`);this.noduleInstance=new r({delay:1e3}),this.logger("starting runtime stats"),this.noduleInstance.start(),this.handle=n=>{this.logger("received runtime stats",n),this.emit("data",n)},this.noduleInstance.on("sense",this.handle),this.enabled=!0}isEnabled(){return this.enabled}destroy(){this.noduleInstance!==void 0&&this.noduleInstance!==null&&(this.logger("removing listener on runtime stats service"),this.noduleInstance.removeListener("sense",this.handle),this.noduleInstance.stop()),this.logger("destroy")}};yi.RuntimeStatsService=Ua});var Kd=h(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.Entrypoint=void 0;var SE=Symbol.for("@pm2/io"),Ha=class{constructor(){try{this.io=global[SE].init(this.conf()),this.onStart(e=>{e&&(console.error(e),process.exit(1)),this.sensors(),this.events(),this.actuators(),this.io.onExit((r,n)=>{this.onStop(e,()=>{this.io.destroy()},r,n)}),process&&process.send&&process.send("ready")})}catch(e){throw this.io&&this.io.destroy(),e}}events(){}sensors(){}actuators(){}onStart(e){throw new Error("Entrypoint onStart() not specified")}onStop(e,r,n,i){return r()}conf(){}};_i.Entrypoint=Ha});var Jd=h((wi,Xd)=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.InspectorService=void 0;var xE=require("inspector"),OE=oe(),bi=class{constructor(){this.session=null,this.logger=(0,OE.default)("axm:services:inspector")}init(){return this.logger("Creating new inspector session"),this.session=new xE.Session,this.session.connect(),this.logger("Connected to inspector"),this.session.post("Profiler.enable"),this.session.post("HeapProfiler.enable"),this.session}getSession(){return this.session===null?(this.session=this.init(),this.session):this.session}destroy(){this.session!==null?(this.session.post("Profiler.disable"),this.session.post("HeapProfiler.disable"),this.session.disconnect(),this.session=null):this.logger("No open session")}};wi.InspectorService=bi;Xd.exports=bi});var Zd=h((tC,Ei)=>{Ei.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Ei.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ei.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var np=h((rC,wr)=>{var se=global.process,$t=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};$t(se)?(Qd=require("assert"),_r=Zd(),ep=/^win/i.test(se.platform),cn=require("events"),typeof cn!="function"&&(cn=cn.EventEmitter),se.__signal_exit_emitter__?ye=se.__signal_exit_emitter__:(ye=se.__signal_exit_emitter__=new cn,ye.count=0,ye.emitted={}),ye.infinite||(ye.setMaxListeners(1/0),ye.infinite=!0),wr.exports=function(t,e){if(!$t(global.process))return function(){};Qd.equal(typeof t,"function","a callback must be provided for exit handler"),br===!1&&Ga();var r="exit";e&&e.alwaysLast&&(r="afterexit");var n=function(){ye.removeListener(r,t),ye.listeners("exit").length===0&&ye.listeners("afterexit").length===0&&Si()};return ye.on(r,t),n},Si=function(){!br||!$t(global.process)||(br=!1,_r.forEach(function(e){try{se.removeListener(e,xi[e])}catch{}}),se.emit=Oi,se.reallyExit=za,ye.count-=1)},wr.exports.unload=Si,Dt=function(e,r,n){ye.emitted[e]||(ye.emitted[e]=!0,ye.emit(e,r,n))},xi={},_r.forEach(function(t){xi[t]=function(){if($t(global.process)){var r=se.listeners(t);r.length===ye.count&&(Si(),Dt("exit",null,t),Dt("afterexit",null,t),ep&&t==="SIGHUP"&&(t="SIGINT"),se.kill(se.pid,t))}}}),wr.exports.signals=function(){return _r},br=!1,Ga=function(){br||!$t(global.process)||(br=!0,ye.count+=1,_r=_r.filter(function(e){try{return se.on(e,xi[e]),!0}catch{return!1}}),se.emit=rp,se.reallyExit=tp)},wr.exports.load=Ga,za=se.reallyExit,tp=function(e){$t(global.process)&&(se.exitCode=e||0,Dt("exit",se.exitCode,null),Dt("afterexit",se.exitCode,null),za.call(se,se.exitCode))},Oi=se.emit,rp=function(e,r){if(e==="exit"&&$t(global.process)){r!==void 0&&(se.exitCode=r);var n=Oi.apply(this,arguments);return Dt("exit",se.exitCode,null),Dt("afterexit",se.exitCode,null),n}else return Oi.apply(this,arguments)}):wr.exports=function(){return function(){}};var Qd,_r,ep,cn,ye,Si,Dt,xi,br,Ga,za,tp,Oi,rp});var sp=h(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.defaultConfig=_t.IOConfig=void 0;var ip=Tt(),ME=oe(),Er=Se(),qE=Bl(),RE=La(),CE=Vd(),yt=dr(),TE=ni(),PE=Yd(),AE=Kd(),Ba=class{constructor(){this.catchExceptions=!0,this.profiling=!0,this.standalone=!1}};_t.IOConfig=Ba;_t.defaultConfig={catchExceptions:!0,profiling:!0,metrics:{v8:!0,network:!1,eventLoop:!0,runtime:!0,http:!0},standalone:!1,apmOptions:void 0};var Va=class{constructor(){this.featureManager=new RE.FeatureManager,this.transport=null,this.actionService=null,this.metricService=null,this.runtimeStatsService=null,this.logger=(0,ME.default)("axm:main"),this.initialized=!1,this.Entrypoint=AE.Entrypoint}init(e){let r=(new Error().stack||"").split(`
`)[2];if(r&&r.length>0&&this.logger(`init from ${r}`),this.initialized===!0&&(this.logger("Calling init but was already the case, destroying and recreating"),this.destroy()),e===void 0&&(e=_t.defaultConfig),!e.standalone){let n=process.env.PM2_SECRET_KEY&&process.env.PM2_PUBLIC_KEY&&process.env.PM2_APP_NAME;e.standalone=!!n,e.apmOptions=n?{secretKey:process.env.PM2_SECRET_KEY,publicKey:process.env.PM2_PUBLIC_KEY,appName:process.env.PM2_APP_NAME}:void 0}if(this.transport=(0,qE.createTransport)(e.standalone===!0?"websocket":"ipc",e.apmOptions),Er.ServiceManager.set("transport",this.transport),(0,TE.canUseInspector)()){let n=Jd(),i=new n;i.init(),Er.ServiceManager.set("inspector",i)}return this.actionService=new CE.ActionService,this.actionService.init(),Er.ServiceManager.set("actions",this.actionService),this.metricService=new yt.MetricService,this.metricService.init(),Er.ServiceManager.set("metrics",this.metricService),this.runtimeStatsService=new PE.RuntimeStatsService,this.runtimeStatsService.init(),this.runtimeStatsService.isEnabled()&&Er.ServiceManager.set("runtimeStats",this.runtimeStatsService),this.featureManager.init(e),ip.default.init(e),this.initialConfig=e,this.initialized=!0,this}destroy(){this.logger("destroy"),this.featureManager.destroy(),this.actionService!==null&&this.actionService.destroy(),this.transport!==null&&this.transport.destroy(),this.metricService!==null&&this.metricService.destroy(),this.runtimeStatsService!==null&&this.runtimeStatsService.destroy();let e=Er.ServiceManager.get("inspector");e!==void 0&&e.destroy()}getConfig(){return this.initialConfig}notifyError(e,r){return this.featureManager.get("notify").notifyError(e,r)}metrics(e){let r=[];if(e==null)return console.error("Received empty metric to create"),console.trace(),[];let n=Array.isArray(e)?e:[e];for(let i of n){if(typeof i.name!="string"){console.error("Trying to create a metrics without a name",i),console.trace(),r.push({});continue}switch(i.type===void 0&&(i.type=yt.MetricType.gauge),i.type){case yt.MetricType.counter:{r.push(this.counter(i));continue}case yt.MetricType.gauge:{r.push(this.gauge(i));continue}case yt.MetricType.histogram:{r.push(this.histogram(i));continue}case yt.MetricType.meter:{r.push(this.meter(i));continue}case yt.MetricType.metric:{r.push(this.gauge(i));continue}default:{console.error(`Invalid metric type ${i.type} for metric ${i.name}`),console.trace(),r.push({});continue}}}return r}histogram(e){return typeof e=="string"&&(e={name:e,measurement:yt.MetricMeasurements.mean}),this.metricService===null?console.trace("Tried to register a metric without initializing @pm2/io"):this.metricService.histogram(e)}metric(e){return typeof e=="string"&&(e={name:e}),this.metricService===null?console.trace("Tried to register a metric without initializing @pm2/io"):this.metricService.metric(e)}gauge(e){return typeof e=="string"&&(e={name:e}),this.metricService===null?console.trace("Tried to register a metric without initializing @pm2/io"):this.metricService.metric(e)}counter(e){return typeof e=="string"&&(e={name:e}),this.metricService===null?console.trace("Tried to register a metric without initializing @pm2/io"):this.metricService.counter(e)}meter(e){return typeof e=="string"&&(e={name:e}),this.metricService===null?console.trace("Tried to register a metric without initializing @pm2/io"):this.metricService.meter(e)}action(e,r,n){if(typeof e=="object"){let i=e;e=i.name,r=i.options,n=i.action}return this.actionService===null?console.trace("Tried to register a action without initializing @pm2/io"):this.actionService.registerAction(e,r,n)}onExit(e){if(typeof e=="function")return np()(e)}emit(e,r){return this.featureManager.get("events").emit(e,r)}initModule(e,r){return e||(e={}),e.reference&&(e.name=e.reference,delete e.reference),e=Object.assign({widget:{}},e),e.widget=Object.assign({type:"generic",logo:"https://app.keymetrics.io/img/logo/keymetrics-300.png",theme:["#111111","#1B2228","#807C7C","#807C7C"]},e.widget),e.isModule=!0,e=ip.default.init(e),typeof r=="function"?r(null,e):e}expressErrorHandler(){return this.featureManager.get("notify").expressErrorHandler()}koaErrorHandler(){return this.featureManager.get("notify").koaErrorHandler()}};_t.default=Va});var up=h((iC,ap)=>{"use strict";var IE=sp(),Wa=Symbol.for("@pm2/io"),LE=Object.getOwnPropertySymbols(global).indexOf(Wa)>-1,op=LE?global[Wa]:new IE.default().init();global[Wa]=op;ap.exports=op});var Ne=h((sC,lp)=>{"use strict";var Ya=class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,t)}};lp.exports=t=>{if(t.length>2)throw new Ya(t);function e(n={}){this.options=n}e.prototype.transform=t;function r(n){return new e(n)}return r.Format=e,r}});var dp=h((oC,hp)=>{var fp={};hp.exports=fp;var cp={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(cp).forEach(function(t){var e=cp[t],r=fp[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m"})});var mp=h((aC,pp)=>{"use strict";pp.exports=function(t,e){e=e||process.argv||[];var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",i=e.indexOf(n+t);return i!==-1&&(r===-1?!0:i<r)}});var vp=h((uC,gp)=>{"use strict";var NE=require("os"),We=mp(),Te=process.env,Sr=void 0;We("no-color")||We("no-colors")||We("color=false")?Sr=!1:(We("color")||We("colors")||We("color=true")||We("color=always"))&&(Sr=!0);"FORCE_COLOR"in Te&&(Sr=Te.FORCE_COLOR.length===0||parseInt(Te.FORCE_COLOR,10)!==0);function jE(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function FE(t){if(Sr===!1)return 0;if(We("color=16m")||We("color=full")||We("color=truecolor"))return 3;if(We("color=256"))return 2;if(t&&!t.isTTY&&Sr!==!0)return 0;var e=Sr?1:0;if(process.platform==="win32"){var r=NE.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Te)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in Te})||Te.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Te)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Te.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in Te){var n=parseInt((Te.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Te.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Te.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Te.TERM)||"COLORTERM"in Te?1:(Te.TERM==="dumb",e)}function Ka(t){var e=FE(t);return jE(e)}gp.exports={supportsColor:Ka,stdout:Ka(process.stdout),stderr:Ka(process.stderr)}});var _p=h((lC,yp)=>{yp.exports=function(e,r){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(s){s=s.toLowerCase();var o=i[s]||[" "],a=Math.floor(Math.random()*o.length);typeof i[s]<"u"?n+=i[s][a]:n+=s}),n}});var wp=h((cC,bp)=>{bp.exports=function(e,r){e=e||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(n.up,n.down,n.mid);function s(l){var p=Math.floor(Math.random()*l);return p}function o(l){var p=!1;return i.filter(function(c){p=c===l}),p}function a(l,p){var c="",d,v;p=p||{},p.up=typeof p.up<"u"?p.up:!0,p.mid=typeof p.mid<"u"?p.mid:!0,p.down=typeof p.down<"u"?p.down:!0,p.size=typeof p.size<"u"?p.size:"maxi",l=l.split("");for(v in l)if(!o(v)){switch(c=c+l[v],d={up:0,down:0,mid:0},p.size){case"mini":d.up=s(8),d.mid=s(2),d.down=s(8);break;case"maxi":d.up=s(16)+3,d.mid=s(4)+1,d.down=s(64)+3;break;default:d.up=s(8)+1,d.mid=s(6)/2,d.down=s(8)+1;break}var m=["up","mid","down"];for(var w in m)for(var q=m[w],O=0;O<=d[q];O++)p[q]&&(c=c+n[q][s(n[q].length)])}return c}return a(e,r)}});var Sp=h((fC,Ep)=>{Ep.exports=function(t){return function(e,r,n){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var Op=h((hC,xp)=>{xp.exports=function(t){return function(e,r,n){return r%2===0?e:t.inverse(e)}}});var qp=h((dC,Mp)=>{Mp.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,n,i){return r===" "?r:t[e[n++%e.length]](r)}}});var Cp=h((pC,Rp)=>{Rp.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var Np=h((gC,Lp)=>{var X={};Lp.exports=X;X.themes={};var kE=require("util"),Ut=X.styles=dp(),Pp=Object.defineProperties,$E=new RegExp(/[\r\n]+/g);X.supportsColor=vp().supportsColor;typeof X.enabled>"u"&&(X.enabled=X.supportsColor()!==!1);X.enable=function(){X.enabled=!0};X.disable=function(){X.enabled=!1};X.stripColors=X.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var mC=X.stylize=function(e,r){if(!X.enabled)return e+"";var n=Ut[r];return!n&&r in X?X[r](e):n.open+e+n.close},DE=/[|\\{}()[\]^$+*?.]/g,UE=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(DE,"\\$&")};function Ap(t){var e=function r(){return GE.apply(r,arguments)};return e._styles=t,e.__proto__=HE,e}var Ip=function(){var t={};return Ut.grey=Ut.gray,Object.keys(Ut).forEach(function(e){Ut[e].closeRe=new RegExp(UE(Ut[e].close),"g"),t[e]={get:function(){return Ap(this._styles.concat(e))}}}),t}(),HE=Pp(function(){},Ip);function GE(){var t=Array.prototype.slice.call(arguments),e=t.map(function(o){return o!=null&&o.constructor===String?o:kE.inspect(o)}).join(" ");if(!X.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,n=this._styles,i=n.length;i--;){var s=Ut[n[i]];e=s.open+e.replace(s.closeRe,s.open)+s.close,r&&(e=e.replace($E,function(o){return s.close+o+s.open}))}return e}X.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){X[r]=function(n){if(typeof t[r]=="object"){var i=n;for(var s in t[r])i=X[t[r][s]](i);return i}return X[t[r]](n)}})(e)};function zE(){var t={};return Object.keys(Ip).forEach(function(e){t[e]={get:function(){return Ap([e])}}}),t}var BE=function(e,r){var n=r.split("");return n=n.map(e),n.join("")};X.trap=_p();X.zalgo=wp();X.maps={};X.maps.america=Sp()(X);X.maps.zebra=Op()(X);X.maps.rainbow=qp()(X);X.maps.random=Cp()(X);for(Tp in X.maps)(function(t){X[t]=function(e){return BE(X.maps[t],e)}})(Tp);var Tp;Pp(X,zE())});var Xa=h((vC,jp)=>{var VE=Np();jp.exports=VE});var Fp=h(Ja=>{"use strict";Ja.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};Ja.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var kp=h(Za=>{"use strict";Za.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};Za.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var $p=h(Qa=>{"use strict";Qa.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};Qa.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var Dp=h(Mi=>{"use strict";Object.defineProperty(Mi,"cli",{value:Fp()});Object.defineProperty(Mi,"npm",{value:kp()});Object.defineProperty(Mi,"syslog",{value:$p()})});var ce=h(fn=>{"use strict";Object.defineProperty(fn,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(fn,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(fn,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(fn,"configs",{value:Dp()})});var Ci=h((SC,Ri)=>{"use strict";var ru=Xa(),{LEVEL:eu,MESSAGE:tu}=ce();ru.enabled=!0;var Up=/\s+/,qi=class t{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){let r=Object.keys(e).reduce((n,i)=>(n[i]=Up.test(e[i])?e[i].split(Up):e[i],n),{});return t.allColors=Object.assign({},t.allColors||{},r),t.allColors}addColors(e){return t.addColors(e)}colorize(e,r,n){if(typeof n>"u"&&(n=r),!Array.isArray(t.allColors[e]))return ru[t.allColors[e]](n);for(let i=0,s=t.allColors[e].length;i<s;i++)n=ru[t.allColors[e][i]](n);return n}transform(e,r){return r.all&&typeof e[tu]=="string"&&(e[tu]=this.colorize(e[eu],e.level,e[tu])),(r.level||r.all||!r.message)&&(e.level=this.colorize(e[eu],e.level)),(r.all||r.message)&&(e.message=this.colorize(e[eu],e.level,e.message)),e}};Ri.exports=t=>new qi(t);Ri.exports.Colorizer=Ri.exports.Format=qi});var Gp=h((xC,Hp)=>{"use strict";var{Colorizer:WE}=Ci();Hp.exports=t=>(WE.addColors(t.colors||t),t)});var Bp=h((OC,zp)=>{"use strict";var YE=Ne();zp.exports=YE(t=>(t.message=`	${t.message}`,t))});var Yp=h((MC,Wp)=>{"use strict";var KE=Ne(),{LEVEL:Vp,MESSAGE:nu}=ce();Wp.exports=KE((t,{stack:e,cause:r})=>{if(t instanceof Error){let i=Object.assign({},t,{level:t.level,[Vp]:t[Vp]||t.level,message:t.message,[nu]:t[nu]||t.message});return e&&(i.stack=t.stack),r&&(i.cause=t.cause),i}if(!(t.message instanceof Error))return t;let n=t.message;return Object.assign(t,n),t.message=n.message,t[nu]=n.message,e&&(t.stack=n.stack),r&&(t.cause=n.cause),t})});var su=h((qC,Pi)=>{"use strict";var{configs:XE,LEVEL:Kp,MESSAGE:iu}=ce(),Ti=class t{constructor(e={levels:XE.npm.levels}){this.paddings=t.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){let r=Object.keys(e).map(n=>n.length);return Math.max(...r)}static paddingForLevel(e,r,n){let i=n+1-e.length,s=Math.floor(i/r.length);return`${r}${r.repeat(s)}`.slice(0,i)}static paddingForLevels(e,r=" "){let n=t.getLongestLevel(e);return Object.keys(e).reduce((i,s)=>(i[s]=t.paddingForLevel(s,r,n),i),{})}transform(e,r){return e.message=`${this.paddings[e[Kp]]}${e.message}`,e[iu]&&(e[iu]=`${this.paddings[e[Kp]]}${e[iu]}`),e}};Pi.exports=t=>new Ti(t);Pi.exports.Padder=Pi.exports.Format=Ti});var Xp=h((RC,ou)=>{"use strict";var{Colorizer:JE}=Ci(),{Padder:ZE}=su(),{configs:QE,MESSAGE:eS}=ce(),Ai=class{constructor(e={}){e.levels||(e.levels=QE.cli.levels),this.colorizer=new JE(e),this.padder=new ZE(e),this.options=e}transform(e,r){return this.colorizer.transform(this.padder.transform(e,r),r),e[eS]=`${e.level}:${e.message}`,e}};ou.exports=t=>new Ai(t);ou.exports.Format=Ai});var Zp=h((CC,au)=>{"use strict";var tS=Ne();function Jp(t){if(t.every(rS))return e=>{let r=e;for(let n=0;n<t.length;n++)if(r=t[n].transform(r,t[n].options),!r)return!1;return r}}function rS(t){if(typeof t.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}au.exports=(...t)=>{let e=tS(Jp(t)),r=e();return r.Format=e.Format,r};au.exports.cascade=Jp});var hn=h((fu,rm)=>{"use strict";var{hasOwnProperty:Ii}=Object.prototype,Gt=cu();Gt.configure=cu;Gt.stringify=Gt;Gt.default=Gt;fu.stringify=Gt;fu.configure=cu;rm.exports=Gt;var nS=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function bt(t){return t.length<5e3&&!nS.test(t)?`"${t}"`:JSON.stringify(t)}function uu(t){if(t.length>200)return t.sort();for(let e=1;e<t.length;e++){let r=t[e],n=e;for(;n!==0&&t[n-1]>r;)t[n]=t[n-1],n--;t[n]=r}return t}var iS=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function lu(t){return iS.call(t)!==void 0&&t.length!==0}function Qp(t,e,r){t.length<r&&(r=t.length);let n=e===","?"":" ",i=`"0":${n}${t[0]}`;for(let s=1;s<r;s++)i+=`${e}"${s}":${n}${t[s]}`;return i}function sS(t){if(Ii.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function em(t,e){let r;if(Ii.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function tm(t,e){let r;if(Ii.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function Ht(t){return t===1?"1 item":`${t} items`}function oS(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function aS(t){if(Ii.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function cu(t){t={...t};let e=aS(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=sS(t),n=em(t,"bigint"),i=em(t,"deterministic"),s=tm(t,"maximumDepth"),o=tm(t,"maximumBreadth");function a(v,m,w,q,O,A){let L=m[v];switch(typeof L=="object"&&L!==null&&typeof L.toJSON=="function"&&(L=L.toJSON(v)),L=q.call(m,v,L),typeof L){case"string":return bt(L);case"object":{if(L===null)return"null";if(w.indexOf(L)!==-1)return r;let I="",G=",",V=A;if(Array.isArray(L)){if(L.length===0)return"[]";if(s<w.length+1)return'"[Array]"';w.push(L),O!==""&&(A+=O,I+=`
${A}`,G=`,
${A}`);let P=Math.min(L.length,o),D=0;for(;D<P-1;D++){let z=a(String(D),L,w,q,O,A);I+=z!==void 0?z:"null",I+=G}let T=a(String(D),L,w,q,O,A);if(I+=T!==void 0?T:"null",L.length-1>o){let z=L.length-o-1;I+=`${G}"... ${Ht(z)} not stringified"`}return O!==""&&(I+=`
${V}`),w.pop(),`[${I}]`}let H=Object.keys(L),C=H.length;if(C===0)return"{}";if(s<w.length+1)return'"[Object]"';let $="",U="";O!==""&&(A+=O,G=`,
${A}`,$=" ");let ee=Math.min(C,o);i&&!lu(L)&&(H=uu(H)),w.push(L);for(let P=0;P<ee;P++){let D=H[P],T=a(D,L,w,q,O,A);T!==void 0&&(I+=`${U}${bt(D)}:${$}${T}`,U=G)}if(C>o){let P=C-o;I+=`${U}"...":${$}"${Ht(P)} not stringified"`,U=G}return O!==""&&U.length>1&&(I=`
${A}${I}
${V}`),w.pop(),`{${I}}`}case"number":return isFinite(L)?String(L):e?e(L):"null";case"boolean":return L===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(L);default:return e?e(L):void 0}}function l(v,m,w,q,O,A){switch(typeof m=="object"&&m!==null&&typeof m.toJSON=="function"&&(m=m.toJSON(v)),typeof m){case"string":return bt(m);case"object":{if(m===null)return"null";if(w.indexOf(m)!==-1)return r;let L=A,I="",G=",";if(Array.isArray(m)){if(m.length===0)return"[]";if(s<w.length+1)return'"[Array]"';w.push(m),O!==""&&(A+=O,I+=`
${A}`,G=`,
${A}`);let C=Math.min(m.length,o),$=0;for(;$<C-1;$++){let ee=l(String($),m[$],w,q,O,A);I+=ee!==void 0?ee:"null",I+=G}let U=l(String($),m[$],w,q,O,A);if(I+=U!==void 0?U:"null",m.length-1>o){let ee=m.length-o-1;I+=`${G}"... ${Ht(ee)} not stringified"`}return O!==""&&(I+=`
${L}`),w.pop(),`[${I}]`}w.push(m);let V="";O!==""&&(A+=O,G=`,
${A}`,V=" ");let H="";for(let C of q){let $=l(C,m[C],w,q,O,A);$!==void 0&&(I+=`${H}${bt(C)}:${V}${$}`,H=G)}return O!==""&&H.length>1&&(I=`
${A}${I}
${L}`),w.pop(),`{${I}}`}case"number":return isFinite(m)?String(m):e?e(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(m);default:return e?e(m):void 0}}function p(v,m,w,q,O){switch(typeof m){case"string":return bt(m);case"object":{if(m===null)return"null";if(typeof m.toJSON=="function"){if(m=m.toJSON(v),typeof m!="object")return p(v,m,w,q,O);if(m===null)return"null"}if(w.indexOf(m)!==-1)return r;let A=O;if(Array.isArray(m)){if(m.length===0)return"[]";if(s<w.length+1)return'"[Array]"';w.push(m),O+=q;let $=`
${O}`,U=`,
${O}`,ee=Math.min(m.length,o),P=0;for(;P<ee-1;P++){let T=p(String(P),m[P],w,q,O);$+=T!==void 0?T:"null",$+=U}let D=p(String(P),m[P],w,q,O);if($+=D!==void 0?D:"null",m.length-1>o){let T=m.length-o-1;$+=`${U}"... ${Ht(T)} not stringified"`}return $+=`
${A}`,w.pop(),`[${$}]`}let L=Object.keys(m),I=L.length;if(I===0)return"{}";if(s<w.length+1)return'"[Object]"';O+=q;let G=`,
${O}`,V="",H="",C=Math.min(I,o);lu(m)&&(V+=Qp(m,G,o),L=L.slice(m.length),C-=m.length,H=G),i&&(L=uu(L)),w.push(m);for(let $=0;$<C;$++){let U=L[$],ee=p(U,m[U],w,q,O);ee!==void 0&&(V+=`${H}${bt(U)}: ${ee}`,H=G)}if(I>o){let $=I-o;V+=`${H}"...": "${Ht($)} not stringified"`,H=G}return H!==""&&(V=`
${O}${V}
${A}`),w.pop(),`{${V}}`}case"number":return isFinite(m)?String(m):e?e(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(m);default:return e?e(m):void 0}}function c(v,m,w){switch(typeof m){case"string":return bt(m);case"object":{if(m===null)return"null";if(typeof m.toJSON=="function"){if(m=m.toJSON(v),typeof m!="object")return c(v,m,w);if(m===null)return"null"}if(w.indexOf(m)!==-1)return r;let q="";if(Array.isArray(m)){if(m.length===0)return"[]";if(s<w.length+1)return'"[Array]"';w.push(m);let G=Math.min(m.length,o),V=0;for(;V<G-1;V++){let C=c(String(V),m[V],w);q+=C!==void 0?C:"null",q+=","}let H=c(String(V),m[V],w);if(q+=H!==void 0?H:"null",m.length-1>o){let C=m.length-o-1;q+=`,"... ${Ht(C)} not stringified"`}return w.pop(),`[${q}]`}let O=Object.keys(m),A=O.length;if(A===0)return"{}";if(s<w.length+1)return'"[Object]"';let L="",I=Math.min(A,o);lu(m)&&(q+=Qp(m,",",o),O=O.slice(m.length),I-=m.length,L=","),i&&(O=uu(O)),w.push(m);for(let G=0;G<I;G++){let V=O[G],H=c(V,m[V],w);H!==void 0&&(q+=`${L}${bt(V)}:${H}`,L=",")}if(A>o){let G=A-o;q+=`${L}"...":"${Ht(G)} not stringified"`}return w.pop(),`{${q}}`}case"number":return isFinite(m)?String(m):e?e(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(m);default:return e?e(m):void 0}}function d(v,m,w){if(arguments.length>1){let q="";if(typeof w=="number"?q=" ".repeat(Math.min(w,10)):typeof w=="string"&&(q=w.slice(0,10)),m!=null){if(typeof m=="function")return a("",{"":v},[],m,q,"");if(Array.isArray(m))return l("",v,[],oS(m),q,"")}if(q.length!==0)return p("",v,[],q,"")}return c("",v,[])}return d}});var hu=h((TC,nm)=>{"use strict";var uS=Ne(),{MESSAGE:lS}=ce(),cS=hn();function fS(t,e){return typeof e=="bigint"?e.toString():e}nm.exports=uS((t,e)=>{let r=cS.configure(e);return t[lS]=r(t,e.replacer||fS,e.space),t})});var sm=h((PC,im)=>{"use strict";var hS=Ne();im.exports=hS((t,e)=>e.message?(t.message=`[${e.label}] ${t.message}`,t):(t.label=e.label,t))});var am=h((AC,om)=>{"use strict";var dS=Ne(),{MESSAGE:pS}=ce(),mS=hn();om.exports=dS(t=>{let e={};return t.message&&(e["@message"]=t.message,delete t.message),t.timestamp&&(e["@timestamp"]=t.timestamp,delete t.timestamp),e["@fields"]=t,t[pS]=mS(e),t})});var lm=h((IC,um)=>{"use strict";var gS=Ne();function vS(t,e,r){let n=e.reduce((s,o)=>(s[o]=t[o],delete t[o],s),{}),i=Object.keys(t).reduce((s,o)=>(s[o]=t[o],delete t[o],s),{});return Object.assign(t,n,{[r]:i}),t}function yS(t,e,r){return t[r]=e.reduce((n,i)=>(n[i]=t[i],delete t[i],n),{}),t}um.exports=gS((t,e={})=>{let r="metadata";e.key&&(r=e.key);let n=[];return!e.fillExcept&&!e.fillWith&&(n.push("level"),n.push("message")),e.fillExcept&&(n=e.fillExcept),n.length>0?vS(t,n,r):e.fillWith?yS(t,e.fillWith,r):t})});var fm=h((LC,cm)=>{var xr=1e3,Or=xr*60,Mr=Or*60,zt=Mr*24,_S=zt*7,bS=zt*365.25;cm.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return wS(t);if(r==="number"&&isFinite(t))return e.long?SS(t):ES(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function wS(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*bS;case"weeks":case"week":case"w":return r*_S;case"days":case"day":case"d":return r*zt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Mr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Or;case"seconds":case"second":case"secs":case"sec":case"s":return r*xr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function ES(t){var e=Math.abs(t);return e>=zt?Math.round(t/zt)+"d":e>=Mr?Math.round(t/Mr)+"h":e>=Or?Math.round(t/Or)+"m":e>=xr?Math.round(t/xr)+"s":t+"ms"}function SS(t){var e=Math.abs(t);return e>=zt?Li(t,e,zt,"day"):e>=Mr?Li(t,e,Mr,"hour"):e>=Or?Li(t,e,Or,"minute"):e>=xr?Li(t,e,xr,"second"):t+" ms"}function Li(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var dm=h((dn,hm)=>{"use strict";var xS=Ne(),OS=fm();hm.exports=xS(t=>{let e=+new Date;return dn.diff=e-(dn.prevTime||e),dn.prevTime=e,t.ms=`+${OS(dn.diff)}`,t})});var gm=h((NC,mm)=>{"use strict";var MS=require("util").inspect,qS=Ne(),{LEVEL:RS,MESSAGE:pm,SPLAT:CS}=ce();mm.exports=qS((t,e={})=>{let r=Object.assign({},t);return delete r[RS],delete r[pm],delete r[CS],t[pm]=MS(r,!1,e.depth||null,e.colorize),t})});var vm=h((jC,ji)=>{"use strict";var{MESSAGE:TS}=ce(),Ni=class{constructor(e){this.template=e}transform(e){return e[TS]=this.template(e),e}};ji.exports=t=>new Ni(t);ji.exports.Printf=ji.exports.Format=Ni});var bm=h((FC,_m)=>{"use strict";var PS=Ne(),{MESSAGE:ym}=ce(),AS=hn();_m.exports=PS(t=>{let e=AS(Object.assign({},t,{level:void 0,message:void 0,splat:void 0})),r=t.padding&&t.padding[t.level]||"";return e!=="{}"?t[ym]=`${t.level}:${r} ${t.message} ${e}`:t[ym]=`${t.level}:${r} ${t.message}`,t})});var Sm=h((kC,Em)=>{"use strict";var IS=require("util"),{SPLAT:wm}=ce(),LS=/%[scdjifoO%]/g,NS=/%%/g,du=class{constructor(e){this.options=e}_splat(e,r){let n=e.message,i=e[wm]||e.splat||[],s=n.match(NS),o=s&&s.length||0,l=r.length-o-i.length,p=l<0?i.splice(l,-1*l):[],c=p.length;if(c)for(let d=0;d<c;d++)Object.assign(e,p[d]);return e.message=IS.format(n,...i),e}transform(e){let r=e.message,n=e[wm]||e.splat;if(!n||!n.length)return e;let i=r&&r.match&&r.match(LS);if(!i&&(n||n.length)){let s=n.length>1?n.splice(0):n,o=s.length;if(o)for(let a=0;a<o;a++)Object.assign(e,s[a]);return e}return i?this._splat(e,i):e}};Em.exports=t=>new du(t)});var Om=h((Fi,xm)=>{(function(t,e){typeof Fi=="object"&&typeof xm<"u"?e(Fi):typeof define=="function"&&define.amd?define(["exports"],e):e(t.fecha={})})(Fi,function(t){"use strict";var e=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="\\d\\d?",n="\\d\\d",i="\\d{3}",s="\\d{4}",o="[^\\s]+",a=/\[([^]*?)\]/gm;function l(E,u){for(var f=[],y=0,g=E.length;y<g;y++)f.push(E[y].substr(0,u));return f}var p=function(E){return function(u,f){var y=f[E].map(function(_){return _.toLowerCase()}),g=y.indexOf(u.toLowerCase());return g>-1?g:null}};function c(E){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];for(var y=0,g=u;y<g.length;y++){var _=g[y];for(var b in _)E[b]=_[b]}return E}var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=["January","February","March","April","May","June","July","August","September","October","November","December"],m=l(v,3),w=l(d,3),q={dayNamesShort:w,dayNames:d,monthNamesShort:m,monthNames:v,amPm:["am","pm"],DoFn:function(E){return E+["th","st","nd","rd"][E%10>3?0:(E-E%10!==10?1:0)*E%10]}},O=c({},q),A=function(E){return O=c(O,E)},L=function(E){return E.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},I=function(E,u){for(u===void 0&&(u=2),E=String(E);E.length<u;)E="0"+E;return E},G={D:function(E){return String(E.getDate())},DD:function(E){return I(E.getDate())},Do:function(E,u){return u.DoFn(E.getDate())},d:function(E){return String(E.getDay())},dd:function(E){return I(E.getDay())},ddd:function(E,u){return u.dayNamesShort[E.getDay()]},dddd:function(E,u){return u.dayNames[E.getDay()]},M:function(E){return String(E.getMonth()+1)},MM:function(E){return I(E.getMonth()+1)},MMM:function(E,u){return u.monthNamesShort[E.getMonth()]},MMMM:function(E,u){return u.monthNames[E.getMonth()]},YY:function(E){return I(String(E.getFullYear()),4).substr(2)},YYYY:function(E){return I(E.getFullYear(),4)},h:function(E){return String(E.getHours()%12||12)},hh:function(E){return I(E.getHours()%12||12)},H:function(E){return String(E.getHours())},HH:function(E){return I(E.getHours())},m:function(E){return String(E.getMinutes())},mm:function(E){return I(E.getMinutes())},s:function(E){return String(E.getSeconds())},ss:function(E){return I(E.getSeconds())},S:function(E){return String(Math.round(E.getMilliseconds()/100))},SS:function(E){return I(Math.round(E.getMilliseconds()/10),2)},SSS:function(E){return I(E.getMilliseconds(),3)},a:function(E,u){return E.getHours()<12?u.amPm[0]:u.amPm[1]},A:function(E,u){return E.getHours()<12?u.amPm[0].toUpperCase():u.amPm[1].toUpperCase()},ZZ:function(E){var u=E.getTimezoneOffset();return(u>0?"-":"+")+I(Math.floor(Math.abs(u)/60)*100+Math.abs(u)%60,4)},Z:function(E){var u=E.getTimezoneOffset();return(u>0?"-":"+")+I(Math.floor(Math.abs(u)/60),2)+":"+I(Math.abs(u)%60,2)}},V=function(E){return+E-1},H=[null,r],C=[null,o],$=["isPm",o,function(E,u){var f=E.toLowerCase();return f===u.amPm[0]?0:f===u.amPm[1]?1:null}],U=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(E){var u=(E+"").match(/([+-]|\d\d)/gi);if(u){var f=+u[1]*60+parseInt(u[2],10);return u[0]==="+"?f:-f}return 0}],ee={D:["day",r],DD:["day",n],Do:["day",r+o,function(E){return parseInt(E,10)}],M:["month",r,V],MM:["month",n,V],YY:["year",n,function(E){var u=new Date,f=+(""+u.getFullYear()).substr(0,2);return+(""+(+E>68?f-1:f)+E)}],h:["hour",r,void 0,"isPm"],hh:["hour",n,void 0,"isPm"],H:["hour",r],HH:["hour",n],m:["minute",r],mm:["minute",n],s:["second",r],ss:["second",n],YYYY:["year",s],S:["millisecond","\\d",function(E){return+E*100}],SS:["millisecond",n,function(E){return+E*10}],SSS:["millisecond",i],d:H,dd:H,ddd:C,dddd:C,MMM:["month",o,p("monthNamesShort")],MMMM:["month",o,p("monthNames")],a:$,A:$,ZZ:U,Z:U},P={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},D=function(E){return c(P,E)},T=function(E,u,f){if(u===void 0&&(u=P.default),f===void 0&&(f={}),typeof E=="number"&&(E=new Date(E)),Object.prototype.toString.call(E)!=="[object Date]"||isNaN(E.getTime()))throw new Error("Invalid Date pass to format");u=P[u]||u;var y=[];u=u.replace(a,function(_,b){return y.push(b),"@@@"});var g=c(c({},O),f);return u=u.replace(e,function(_){return G[_](E,g)}),u.replace(/@@@/g,function(){return y.shift()})};function z(E,u,f){if(f===void 0&&(f={}),typeof u!="string")throw new Error("Invalid format in fecha parse");if(u=P[u]||u,E.length>1e3)return null;var y=new Date,g={year:y.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},_=[],b=[],S=u.replace(a,function(tt,Ee){return b.push(L(Ee)),"@@@"}),R={},x={};S=L(S).replace(e,function(tt){var Ee=ee[tt],de=Ee[0],b1=Ee[1],Cl=Ee[3];if(R[de])throw new Error("Invalid format. "+de+" specified twice in format");return R[de]=!0,Cl&&(x[Cl]=!0),_.push(Ee),"("+b1+")"}),Object.keys(x).forEach(function(tt){if(!R[tt])throw new Error("Invalid format. "+tt+" is required in specified format")}),S=S.replace(/@@@/g,function(){return b.shift()});var M=E.match(new RegExp(S,"i"));if(!M)return null;for(var N=c(c({},O),f),J=1;J<M.length;J++){var Y=_[J-1],K=Y[0],re=Y[2],he=re?re(M[J],N):+M[J];if(he==null)return null;g[K]=he}g.isPm===1&&g.hour!=null&&+g.hour!=12?g.hour=+g.hour+12:g.isPm===0&&+g.hour==12&&(g.hour=0);var ft;if(g.timezoneOffset==null){ft=new Date(g.year,g.month,g.day,g.hour,g.minute,g.second,g.millisecond);for(var ht=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],J=0,Rt=ht.length;J<Rt;J++)if(R[ht[J][0]]&&g[ht[J][0]]!==ft[ht[J][1]]())return null}else if(ft=new Date(Date.UTC(g.year,g.month,g.day,g.hour,g.minute-g.timezoneOffset,g.second,g.millisecond)),g.month>11||g.month<0||g.day>31||g.day<1||g.hour>23||g.hour<0||g.minute>59||g.minute<0||g.second>59||g.second<0)return null;return ft}var te={format:T,parse:z,defaultI18n:q,setGlobalDateI18n:A,setGlobalDateMasks:D};t.assign=c,t.default=te,t.format=T,t.parse=z,t.defaultI18n=q,t.setGlobalDateI18n=A,t.setGlobalDateMasks=D,Object.defineProperty(t,"__esModule",{value:!0})})});var qm=h(($C,Mm)=>{"use strict";var jS=Om(),FS=Ne();Mm.exports=FS((t,e={})=>(e.format&&(t.timestamp=typeof e.format=="function"?e.format():jS.format(new Date,e.format)),t.timestamp||(t.timestamp=new Date().toISOString()),e.alias&&(t[e.alias]=t.timestamp),t))});var Cm=h((DC,Rm)=>{"use strict";var pu=Xa(),kS=Ne(),{MESSAGE:mu}=ce();Rm.exports=kS((t,e)=>(e.level!==!1&&(t.level=pu.strip(t.level)),e.message!==!1&&(t.message=pu.strip(String(t.message))),e.raw!==!1&&t[mu]&&(t[mu]=pu.strip(String(t[mu]))),t))});var vu=h(gu=>{"use strict";var $S=gu.format=Ne();gu.levels=Gp();function be(t,e){Object.defineProperty($S,t,{get(){return e()},configurable:!0})}be("align",function(){return Bp()});be("errors",function(){return Yp()});be("cli",function(){return Xp()});be("combine",function(){return Zp()});be("colorize",function(){return Ci()});be("json",function(){return hu()});be("label",function(){return sm()});be("logstash",function(){return am()});be("metadata",function(){return lm()});be("ms",function(){return dm()});be("padLevels",function(){return su()});be("prettyPrint",function(){return gm()});be("printf",function(){return vm()});be("simple",function(){return bm()});be("splat",function(){return Sm()});be("timestamp",function(){return qm()});be("uncolorize",function(){return Cm()})});var yu=h(ki=>{"use strict";var{format:Tm}=require("util");ki.warn={deprecated(t){return()=>{throw new Error(Tm("{ %s } was removed in winston@3.0.0.",t))}},useFormat(t){return()=>{throw new Error([Tm("{ %s } was removed in winston@3.0.0.",t),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(t,e,r){r.forEach(n=>{t[n]=ki.warn[e](n)})},forProperties(t,e,r){r.forEach(n=>{let i=ki.warn[e](n);Object.defineProperty(t,n,{get:i,set:i})})}}});var Pm=h((GC,DS)=>{DS.exports={name:"winston",description:"A logger for just about everything.",version:"3.13.1",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.6.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.7.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^15.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var Im=h((zC,Am)=>{Am.exports=require("util").deprecate});var _u=h((BC,Lm)=>{Lm.exports=require("stream")});var wu=h((VC,jm)=>{"use strict";function US(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(bu,this,t)):process.nextTick(bu,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick($i,r):(r._writableState.errorEmitted=!0,process.nextTick(Nm,r,s)):process.nextTick(Nm,r,s):e?(process.nextTick($i,r),e(s)):process.nextTick($i,r)}),this)}function Nm(t,e){bu(t,e),$i(t)}function $i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function HS(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function bu(t,e){t.emit("error",e)}function GS(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}jm.exports={destroy:US,undestroy:HS,errorOrDestroy:GS}});var wt=h((WC,$m)=>{"use strict";var km={};function ze(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}class i extends r{constructor(o,a,l){super(n(o,a,l))}}i.prototype.name=r.name,i.prototype.code=t,km[t]=i}function Fm(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function zS(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function BS(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function VS(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ze("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ze("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&zS(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(BS(t," argument"))i=`The ${t} ${n} ${Fm(e,"type")}`;else{let s=VS(t,".")?"property":"argument";i=`The "${t}" ${s} ${n} ${Fm(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);ze("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ze("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ze("ERR_STREAM_PREMATURE_CLOSE","Premature close");ze("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ze("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ze("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ze("ERR_STREAM_WRITE_AFTER_END","write after end");ze("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ze("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ze("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");$m.exports.codes=km});var Eu=h((YC,Dm)=>{"use strict";var WS=wt().codes.ERR_INVALID_OPT_VALUE;function YS(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function KS(t,e,r,n){var i=YS(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new WS(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Dm.exports={getHighWaterMark:KS}});var Um=h((KC,Su)=>{typeof Object.create=="function"?Su.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Su.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var qr=h((XC,Ou)=>{try{if(xu=require("util"),typeof xu.inherits!="function")throw"";Ou.exports=xu.inherits}catch{Ou.exports=Um()}var xu});var Wm=h((JC,Vm)=>{"use strict";function Hm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hm(Object(r),!0).forEach(function(n){XS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hm(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XS(t,e,r){return e=Bm(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bm(n.key),n)}}function ZS(t,e,r){return e&&zm(t.prototype,e),r&&zm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bm(t){var e=QS(t,"string");return typeof e=="symbol"?e:String(e)}function QS(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e5=require("buffer"),Di=e5.Buffer,t5=require("util"),Mu=t5.inspect,r5=Mu&&Mu.custom||"inspect";function n5(t,e,r){Di.prototype.copy.call(t,e,r)}Vm.exports=function(){function t(){JS(this,t),this.head=null,this.tail=null,this.length=0}return ZS(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Di.alloc(0);for(var n=Di.allocUnsafe(r>>>0),i=this.head,s=0;i;)n5(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=Di.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:r5,value:function(r,n){return Mu(this,Gm(Gm({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var Xm=h((qu,Km)=>{var Ui=require("buffer"),Xe=Ui.Buffer;function Ym(t,e){for(var r in t)e[r]=t[r]}Xe.from&&Xe.alloc&&Xe.allocUnsafe&&Xe.allocUnsafeSlow?Km.exports=Ui:(Ym(Ui,qu),qu.Buffer=Bt);function Bt(t,e,r){return Xe(t,e,r)}Bt.prototype=Object.create(Xe.prototype);Ym(Xe,Bt);Bt.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Xe(t,e,r)};Bt.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Xe(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Bt.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Xe(t)};Bt.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ui.SlowBuffer(t)}});var Tu=h(Zm=>{"use strict";var Cu=Xm().Buffer,Jm=Cu.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i5(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function s5(t){var e=i5(t);if(typeof e!="string"&&(Cu.isEncoding===Jm||!Jm(t)))throw new Error("Unknown encoding: "+t);return e||t}Zm.StringDecoder=pn;function pn(t){this.encoding=s5(t);var e;switch(this.encoding){case"utf16le":this.text=f5,this.end=h5,e=4;break;case"utf8":this.fillLast=u5,e=4;break;case"base64":this.text=d5,this.end=p5,e=3;break;default:this.write=m5,this.end=g5;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Cu.allocUnsafe(e)}pn.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};pn.prototype.end=c5;pn.prototype.text=l5;pn.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Ru(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function o5(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Ru(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Ru(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Ru(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function a5(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function u5(t){var e=this.lastTotal-this.lastNeed,r=a5(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function l5(t,e){var r=o5(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function c5(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function f5(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h5(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function d5(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function p5(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function m5(t){return t.toString(this.encoding)}function g5(t){return t&&t.length?this.write(t):""}});var Hi=h((QC,tg)=>{"use strict";var Qm=wt().codes.ERR_STREAM_PREMATURE_CLOSE;function v5(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function y5(){}function _5(t){return t.setHeader&&typeof t.abort=="function"}function eg(t,e,r){if(typeof e=="function")return eg(t,null,e);e||(e={}),r=v5(r||y5);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,p=function(){n=!1,l=!0,i||r.call(t)},c=function(w){r.call(t,w)},d=function(){var w;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(w=new Qm),r.call(t,w);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(w=new Qm),r.call(t,w)},v=function(){t.req.on("finish",a)};return _5(t)?(t.on("complete",a),t.on("abort",d),t.req?v():t.on("request",v)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",p),t.on("finish",a),e.error!==!1&&t.on("error",c),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",v),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",p),t.removeListener("error",c),t.removeListener("close",d)}}tg.exports=eg});var ng=h((eT,rg)=>{"use strict";var Gi;function Et(t,e,r){return e=b5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b5(t){var e=w5(t,"string");return typeof e=="symbol"?e:String(e)}function w5(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E5=Hi(),St=Symbol("lastResolve"),Vt=Symbol("lastReject"),mn=Symbol("error"),zi=Symbol("ended"),Wt=Symbol("lastPromise"),Pu=Symbol("handlePromise"),Yt=Symbol("stream");function xt(t,e){return{value:t,done:e}}function S5(t){var e=t[St];if(e!==null){var r=t[Yt].read();r!==null&&(t[Wt]=null,t[St]=null,t[Vt]=null,e(xt(r,!1)))}}function x5(t){process.nextTick(S5,t)}function O5(t,e){return function(r,n){t.then(function(){if(e[zi]){r(xt(void 0,!0));return}e[Pu](r,n)},n)}}var M5=Object.getPrototypeOf(function(){}),q5=Object.setPrototypeOf((Gi={get stream(){return this[Yt]},next:function(){var e=this,r=this[mn];if(r!==null)return Promise.reject(r);if(this[zi])return Promise.resolve(xt(void 0,!0));if(this[Yt].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[mn]?a(e[mn]):o(xt(void 0,!0))})});var n=this[Wt],i;if(n)i=new Promise(O5(n,this));else{var s=this[Yt].read();if(s!==null)return Promise.resolve(xt(s,!1));i=new Promise(this[Pu])}return this[Wt]=i,i}},Et(Gi,Symbol.asyncIterator,function(){return this}),Et(Gi,"return",function(){var e=this;return new Promise(function(r,n){e[Yt].destroy(null,function(i){if(i){n(i);return}r(xt(void 0,!0))})})}),Gi),M5),R5=function(e){var r,n=Object.create(q5,(r={},Et(r,Yt,{value:e,writable:!0}),Et(r,St,{value:null,writable:!0}),Et(r,Vt,{value:null,writable:!0}),Et(r,mn,{value:null,writable:!0}),Et(r,zi,{value:e._readableState.endEmitted,writable:!0}),Et(r,Pu,{value:function(s,o){var a=n[Yt].read();a?(n[Wt]=null,n[St]=null,n[Vt]=null,s(xt(a,!1))):(n[St]=s,n[Vt]=o)},writable:!0}),r));return n[Wt]=null,E5(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Vt];s!==null&&(n[Wt]=null,n[St]=null,n[Vt]=null,s(i)),n[mn]=i;return}var o=n[St];o!==null&&(n[Wt]=null,n[St]=null,n[Vt]=null,o(xt(void 0,!0))),n[zi]=!0}),e.on("readable",x5.bind(null,n)),n};rg.exports=R5});var ag=h((tT,og)=>{"use strict";function ig(t,e,r,n,i,s,o){try{var a=t[s](o),l=a.value}catch(p){r(p);return}a.done?e(l):Promise.resolve(l).then(n,i)}function C5(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(l){ig(s,n,i,o,a,"next",l)}function a(l){ig(s,n,i,o,a,"throw",l)}o(void 0)})}}function sg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sg(Object(r),!0).forEach(function(n){P5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P5(t,e,r){return e=A5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A5(t){var e=I5(t,"string");return typeof e=="symbol"?e:String(e)}function I5(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L5=wt().codes.ERR_INVALID_ARG_TYPE;function N5(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new L5("iterable",["Iterable"],e);var i=new t(T5({objectMode:!0},r)),s=!1;i._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=C5(function*(){try{var l=yield n.next(),p=l.value,c=l.done;c?i.push(null):i.push(yield p)?o():s=!1}catch(d){i.destroy(d)}}),a.apply(this,arguments)}return i}og.exports=N5});var Uu=h((nT,vg)=>{"use strict";vg.exports=Z;var Rr;Z.ReadableState=fg;var rT=require("events").EventEmitter,cg=function(e,r){return e.listeners(r).length},vn=_u(),Bi=require("buffer").Buffer,j5=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function F5(t){return Bi.from(t)}function k5(t){return Bi.isBuffer(t)||t instanceof j5}var Au=require("util"),W;Au&&Au.debuglog?W=Au.debuglog("stream"):W=function(){};var $5=Wm(),$u=wu(),D5=Eu(),U5=D5.getHighWaterMark,Vi=wt().codes,H5=Vi.ERR_INVALID_ARG_TYPE,G5=Vi.ERR_STREAM_PUSH_AFTER_EOF,z5=Vi.ERR_METHOD_NOT_IMPLEMENTED,B5=Vi.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Cr,Iu,Lu;qr()(Z,vn);var gn=$u.errorOrDestroy,Nu=["error","close","destroy","pause","resume"];function V5(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function fg(t,e,r){Rr=Rr||Kt(),t=t||{},typeof r!="boolean"&&(r=e instanceof Rr),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=U5(this,t,"readableHighWaterMark",r),this.buffer=new $5,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Cr||(Cr=Tu().StringDecoder),this.decoder=new Cr(t.encoding),this.encoding=t.encoding)}function Z(t){if(Rr=Rr||Kt(),!(this instanceof Z))return new Z(t);var e=this instanceof Rr;this._readableState=new fg(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),vn.call(this)}Object.defineProperty(Z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Z.prototype.destroy=$u.destroy;Z.prototype._undestroy=$u.undestroy;Z.prototype._destroy=function(t,e){e(t)};Z.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Bi.from(t,e),e=""),n=!0),hg(this,t,e,!1,n)};Z.prototype.unshift=function(t){return hg(this,t,null,!0,!1)};function hg(t,e,r,n,i){W("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,K5(t,s);else{var o;if(i||(o=W5(s,e)),o)gn(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Bi.prototype&&(e=F5(e)),n)s.endEmitted?gn(t,new B5):ju(t,s,e,!0);else if(s.ended)gn(t,new G5);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?ju(t,s,e,!1):ku(t,s)):ju(t,s,e,!1)}else n||(s.reading=!1,ku(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function ju(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Wi(t)),ku(t,e)}function W5(t,e){var r;return!k5(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new H5("chunk",["string","Buffer","Uint8Array"],e)),r}Z.prototype.isPaused=function(){return this._readableState.flowing===!1};Z.prototype.setEncoding=function(t){Cr||(Cr=Tu().StringDecoder);var e=new Cr(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var ug=1073741824;function Y5(t){return t>=ug?t=ug:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function lg(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Y5(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Z.prototype.read=function(t){W("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return W("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Fu(this):Wi(this),null;if(t=lg(t,e),t===0&&e.ended)return e.length===0&&Fu(this),null;var n=e.needReadable;W("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,W("length less than watermark",n)),e.ended||e.reading?(n=!1,W("reading or ended",n)):n&&(W("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=lg(r,e)));var i;return t>0?i=mg(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Fu(this)),i!==null&&this.emit("data",i),i};function K5(t,e){if(W("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Wi(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,dg(t)))}}function Wi(t){var e=t._readableState;W("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(W("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(dg,t))}function dg(t){var e=t._readableState;W("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Du(t)}function ku(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(X5,t,e))}function X5(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(W("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Z.prototype._read=function(t){gn(this,new z5("_read()"))};Z.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,W("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:q;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(O,A){W("onunpipe"),O===r&&A&&A.hasUnpiped===!1&&(A.hasUnpiped=!0,c())}function a(){W("onend"),t.end()}var l=J5(r);t.on("drain",l);var p=!1;function c(){W("cleanup"),t.removeListener("close",m),t.removeListener("finish",w),t.removeListener("drain",l),t.removeListener("error",v),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",q),r.removeListener("data",d),p=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",d);function d(O){W("ondata");var A=t.write(O);W("dest.write",A),A===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&gg(n.pipes,t)!==-1)&&!p&&(W("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function v(O){W("onerror",O),q(),t.removeListener("error",v),cg(t,"error")===0&&gn(t,O)}V5(t,"error",v);function m(){t.removeListener("finish",w),q()}t.once("close",m);function w(){W("onfinish"),t.removeListener("close",m),q()}t.once("finish",w);function q(){W("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(W("pipe resume"),r.resume()),t};function J5(t){return function(){var r=t._readableState;W("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&cg(t,"data")&&(r.flowing=!0,Du(t))}}Z.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=gg(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Z.prototype.on=function(t,e){var r=vn.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,W("on readable",n.length,n.reading),n.length?Wi(this):n.reading||process.nextTick(Z5,this)),r};Z.prototype.addListener=Z.prototype.on;Z.prototype.removeListener=function(t,e){var r=vn.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(pg,this),r};Z.prototype.removeAllListeners=function(t){var e=vn.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(pg,this),e};function pg(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Z5(t){W("readable nexttick read 0"),t.read(0)}Z.prototype.resume=function(){var t=this._readableState;return t.flowing||(W("resume"),t.flowing=!t.readableListening,Q5(this,t)),t.paused=!1,this};function Q5(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(ex,t,e))}function ex(t,e){W("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Du(t),e.flowing&&!e.reading&&t.read(0)}Z.prototype.pause=function(){return W("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(W("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Du(t){var e=t._readableState;for(W("flow",e.flowing);e.flowing&&t.read()!==null;);}Z.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(W("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(W("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<Nu.length;s++)t.on(Nu[s],this.emit.bind(this,Nu[s]));return this._read=function(o){W("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Z.prototype[Symbol.asyncIterator]=function(){return Iu===void 0&&(Iu=ng()),Iu(this)});Object.defineProperty(Z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Z._fromList=mg;Object.defineProperty(Z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function mg(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Fu(t){var e=t._readableState;W("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(tx,e,t))}function tx(t,e){if(W("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Z.from=function(t,e){return Lu===void 0&&(Lu=ag()),Lu(Z,t,e)});function gg(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Kt=h((iT,_g)=>{"use strict";var rx=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};_g.exports=Je;var yg=Uu(),Gu=Xi();qr()(Je,yg);for(Hu=rx(Gu.prototype),Yi=0;Yi<Hu.length;Yi++)Ki=Hu[Yi],Je.prototype[Ki]||(Je.prototype[Ki]=Gu.prototype[Ki]);var Hu,Ki,Yi;function Je(t){if(!(this instanceof Je))return new Je(t);yg.call(this,t),Gu.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",nx)))}Object.defineProperty(Je.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Je.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Je.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nx(){this._writableState.ended||process.nextTick(ix,this)}function ix(t){t.end()}Object.defineProperty(Je.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Xi=h((sT,Og)=>{"use strict";Og.exports=ae;function wg(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Px(e,t)}}var Tr;ae.WritableState=_n;var sx={deprecate:Im()},Eg=_u(),Zi=require("buffer").Buffer,ox=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ax(t){return Zi.from(t)}function ux(t){return Zi.isBuffer(t)||t instanceof ox}var Bu=wu(),lx=Eu(),cx=lx.getHighWaterMark,Ot=wt().codes,fx=Ot.ERR_INVALID_ARG_TYPE,hx=Ot.ERR_METHOD_NOT_IMPLEMENTED,dx=Ot.ERR_MULTIPLE_CALLBACK,px=Ot.ERR_STREAM_CANNOT_PIPE,mx=Ot.ERR_STREAM_DESTROYED,gx=Ot.ERR_STREAM_NULL_VALUES,vx=Ot.ERR_STREAM_WRITE_AFTER_END,yx=Ot.ERR_UNKNOWN_ENCODING,Pr=Bu.errorOrDestroy;qr()(ae,Eg);function _x(){}function _n(t,e,r){Tr=Tr||Kt(),t=t||{},typeof r!="boolean"&&(r=e instanceof Tr),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=cx(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Mx(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new wg(this)}_n.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(_n.prototype,"buffer",{get:sx.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ji;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ji=Function.prototype[Symbol.hasInstance],Object.defineProperty(ae,Symbol.hasInstance,{value:function(e){return Ji.call(this,e)?!0:this!==ae?!1:e&&e._writableState instanceof _n}})):Ji=function(e){return e instanceof this};function ae(t){Tr=Tr||Kt();var e=this instanceof Tr;if(!e&&!Ji.call(ae,this))return new ae(t);this._writableState=new _n(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Eg.call(this)}ae.prototype.pipe=function(){Pr(this,new px)};function bx(t,e){var r=new vx;Pr(t,r),process.nextTick(e,r)}function wx(t,e,r,n){var i;return r===null?i=new gx:typeof r!="string"&&!e.objectMode&&(i=new fx("chunk",["string","Buffer"],r)),i?(Pr(t,i),process.nextTick(n,i),!1):!0}ae.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&ux(t);return s&&!Zi.isBuffer(t)&&(t=ax(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=_x),n.ending?bx(this,r):(s||wx(this,n,t,r))&&(n.pendingcb++,i=Sx(this,n,s,t,e,r)),i};ae.prototype.cork=function(){this._writableState.corked++};ae.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Sg(this,t))};ae.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new yx(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ae.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ex(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Zi.from(e,r)),e}Object.defineProperty(ae.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Sx(t,e,r,n,i,s){if(!r){var o=Ex(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var p=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},p?p.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else zu(t,e,!1,a,n,i,s);return l}function zu(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new mx("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function xx(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(yn,t,e),t._writableState.errorEmitted=!0,Pr(t,n)):(i(n),t._writableState.errorEmitted=!0,Pr(t,n),yn(t,e))}function Ox(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Mx(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new dx;if(Ox(r),e)xx(t,r,n,e,i);else{var s=xg(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Sg(t,r),n?process.nextTick(bg,t,r,s,i):bg(t,r,s,i)}}function bg(t,e,r,n){r||qx(t,e),e.pendingcb--,n(),yn(t,e)}function qx(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Sg(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,zu(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new wg(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,p=r.encoding,c=r.callback,d=e.objectMode?1:l.length;if(zu(t,e,!1,d,l,p,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ae.prototype._write=function(t,e,r){r(new hx("_write()"))};ae.prototype._writev=null;ae.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Tx(this,n,r),this};Object.defineProperty(ae.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function xg(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Rx(t,e){t._final(function(r){e.pendingcb--,r&&Pr(t,r),e.prefinished=!0,t.emit("prefinish"),yn(t,e)})}function Cx(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Rx,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function yn(t,e){var r=xg(e);if(r&&(Cx(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Tx(t,e,r){e.ending=!0,yn(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Px(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(ae.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});ae.prototype.destroy=Bu.destroy;ae.prototype._undestroy=Bu.undestroy;ae.prototype._destroy=function(t,e){e(t)}});var Vu=h((oT,Rg)=>{"use strict";var Ax=require("util"),Mg=Xi(),{LEVEL:qg}=ce(),bn=Rg.exports=function(e={}){Mg.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close())})};Ax.inherits(bn,Mg);bn.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);let i=this.level||this.parent&&this.parent.level;if(!i||this.levels[i]>=this.levels[e[qg]]){if(e&&!this.format)return this.log(e,n);let s,o;try{o=this.format.transform(Object.assign({},e),this.format.options)}catch(a){s=a}if(s||!o){if(n(),s)throw s;return}return this.log(o,n)}return this._writableState.sync=!1,n(null)};bn.prototype._writev=function(e,r){if(this.logv){let n=e.filter(this._accept,this);return n.length?this.logv(n,r):r(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let i,s;try{s=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(o){i=o}if(i||!s){if(e[n].callback(),i)throw r(null),i}else this.log(s,e[n].callback)}return r(null)};bn.prototype._accept=function(e){let r=e.chunk;if(this.silent)return!1;let n=this.level||this.parent&&this.parent.level;return!!((r.exception===!0||!n||this.levels[n]>=this.levels[r[qg]])&&(this.handleExceptions||r.exception!==!0))};bn.prototype._nop=function(){}});var Yu=h((aT,Tg)=>{"use strict";var Ix=require("util"),{LEVEL:Wu}=ce(),Cg=Vu(),wn=Tg.exports=function(e={}){if(Cg.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function r(n){this.emit("error",n,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError))};Ix.inherits(wn,Cg);wn.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[Wu]])&&this.transport.log(e[Wu],e.message,e,this._nop),n(null)};wn.prototype._writev=function(e,r){for(let n=0;n<e.length;n++)this._accept(e[n])&&(this.transport.log(e[n].chunk[Wu],e[n].chunk.message,e[n].chunk,this._nop),e[n].callback());return r(null)};wn.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};wn.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var Ar=h((uT,Ku)=>{"use strict";Ku.exports=Vu();Ku.exports.LegacyTransportStream=Yu()});var Ig=h((cT,Ag)=>{"use strict";var Lx=require("os"),{LEVEL:Pg,MESSAGE:Ir}=ce(),Nx=Ar();Ag.exports=class extends Nx{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=typeof e.eol=="string"?e.eol:Lx.EOL,this.setMaxListeners(30)}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[Pg]]){console._stderr?console._stderr.write(`${e[Ir]}${this.eol}`):console.error(e[Ir]),r&&r();return}else if(this.consoleWarnLevels[e[Pg]]){console._stderr?console._stderr.write(`${e[Ir]}${this.eol}`):console.warn(e[Ir]),r&&r();return}console._stdout?console._stdout.write(`${e[Ir]}${this.eol}`):console.log(e[Ir]),r&&r()}_stringArrayToSet(e,r){if(!e)return{};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(r);return e.reduce((n,i)=>{if(typeof i!="string")throw new Error(r);return n[i]=!0,n},{})}}});var es=h((Qi,Lg)=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.default=jx;function jx(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}Lg.exports=Qi.default});var jg=h((ts,Ng)=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.default=function(t){return function(...e){var r=e.pop();return t.call(this,e,r)}};Ng.exports=ts.default});var $g=h(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.fallback=Fg;Mt.wrap=kg;var Fx=Mt.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,kx=Mt.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,$x=Mt.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function Fg(t){setTimeout(t,0)}function kg(t){return(e,...r)=>t(()=>e(...r))}var En;Fx?En=queueMicrotask:kx?En=setImmediate:$x?En=process.nextTick:En=Fg;Mt.default=kg(En)});var zg=h((rs,Gg)=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.default=Bx;var Dx=jg(),Ux=Hg(Dx),Hx=$g(),Gx=Hg(Hx),zx=Xt();function Hg(t){return t&&t.__esModule?t:{default:t}}function Bx(t){return(0,zx.isAsync)(t)?function(...e){let r=e.pop(),n=t.apply(this,e);return Dg(n,r)}:(0,Ux.default)(function(e,r){var n;try{n=t.apply(this,e)}catch(i){return r(i)}if(n&&typeof n.then=="function")return Dg(n,r);r(null,n)})}function Dg(t,e){return t.then(r=>{Ug(e,null,r)},r=>{Ug(e,r&&(r instanceof Error||r.message)?r:new Error(r))})}function Ug(t,e,r){try{t(e,r)}catch(n){(0,Gx.default)(i=>{throw i},n)}}Gg.exports=rs.default});var Xt=h(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.isAsyncIterable=at.isAsyncGenerator=at.isAsync=void 0;var Vx=zg(),Wx=Yx(Vx);function Yx(t){return t&&t.__esModule?t:{default:t}}function Bg(t){return t[Symbol.toStringTag]==="AsyncFunction"}function Kx(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function Xx(t){return typeof t[Symbol.asyncIterator]=="function"}function Jx(t){if(typeof t!="function")throw new Error("expected a function");return Bg(t)?(0,Wx.default)(t):t}at.default=Jx;at.isAsync=Bg;at.isAsyncGenerator=Kx;at.isAsyncIterable=Xx});var Lr=h((ns,Vg)=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.default=Zx;function Zx(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");function r(...n){return typeof n[e-1]=="function"?t.apply(this,n):new Promise((i,s)=>{n[e-1]=(o,...a)=>{if(o)return s(o);i(a.length>1?a:a[0])},t.apply(this,n)})}return r}Vg.exports=ns.default});var Yg=h((is,Wg)=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});var Qx=es(),eO=Xu(Qx),tO=Xt(),rO=Xu(tO),nO=Lr(),iO=Xu(nO);function Xu(t){return t&&t.__esModule?t:{default:t}}is.default=(0,iO.default)((t,e,r)=>{var n=(0,eO.default)(e)?[]:{};t(e,(i,s,o)=>{(0,rO.default)(i)((a,...l)=>{l.length<2&&([l]=l),n[s]=l,o(a)})},i=>r(i,n))},3);Wg.exports=is.default});var Ju=h((ss,Kg)=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.default=sO;function sO(t){function e(...r){if(t!==null){var n=t;t=null,n.apply(this,r)}}return Object.assign(e,t),e}Kg.exports=ss.default});var Jg=h((os,Xg)=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()};Xg.exports=os.default});var ev=h((as,Qg)=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.default=dO;var oO=es(),aO=Zg(oO),uO=Jg(),lO=Zg(uO);function Zg(t){return t&&t.__esModule?t:{default:t}}function cO(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function fO(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function hO(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function i(){var s=e[++r];return s==="__proto__"?i():r<n?{value:t[s],key:s}:null}}function dO(t){if((0,aO.default)(t))return cO(t);var e=(0,lO.default)(t);return e?fO(e):hO(t)}Qg.exports=as.default});var Zu=h((us,tv)=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.default=pO;function pO(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}tv.exports=us.default});var cs=h((ls,rv)=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});var mO={};ls.default=mO;rv.exports=ls.default});var iv=h((fs,nv)=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.default=_O;var gO=cs(),vO=yO(gO);function yO(t){return t&&t.__esModule?t:{default:t}}function _O(t,e,r,n){let i=!1,s=!1,o=!1,a=0,l=0;function p(){a>=e||o||i||(o=!0,t.next().then(({value:v,done:m})=>{if(!(s||i)){if(o=!1,m){i=!0,a<=0&&n(null);return}a++,r(v,l,c),l++,p()}}).catch(d))}function c(v,m){if(a-=1,!s){if(v)return d(v);if(v===!1){i=!0,s=!0;return}if(m===vO.default||i&&a<=0)return i=!0,n(null);p()}}function d(v){s||(o=!1,i=!0,n(v))}p()}nv.exports=fs.default});var uv=h((hs,av)=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var bO=Ju(),wO=Sn(bO),EO=ev(),SO=Sn(EO),xO=Zu(),OO=Sn(xO),sv=Xt(),MO=iv(),ov=Sn(MO),qO=cs(),RO=Sn(qO);function Sn(t){return t&&t.__esModule?t:{default:t}}hs.default=t=>(e,r,n)=>{if(n=(0,wO.default)(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if((0,sv.isAsyncGenerator)(e))return(0,ov.default)(e,t,r,n);if((0,sv.isAsyncIterable)(e))return(0,ov.default)(e[Symbol.asyncIterator](),t,r,n);var i=(0,SO.default)(e),s=!1,o=!1,a=0,l=!1;function p(d,v){if(!o)if(a-=1,d)s=!0,n(d);else if(d===!1)s=!0,o=!0;else{if(v===RO.default||s&&a<=0)return s=!0,n(null);l||c()}}function c(){for(l=!0;a<t&&!s;){var d=i();if(d===null){s=!0,a<=0&&n(null);return}a+=1,r(d.value,d.key,(0,OO.default)(p))}l=!1}c()};av.exports=hs.default});var el=h((ds,lv)=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var CO=uv(),TO=Qu(CO),PO=Xt(),AO=Qu(PO),IO=Lr(),LO=Qu(IO);function Qu(t){return t&&t.__esModule?t:{default:t}}function NO(t,e,r,n){return(0,TO.default)(e)(t,(0,AO.default)(r),n)}ds.default=(0,LO.default)(NO,4);lv.exports=ds.default});var hv=h((ps,fv)=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var jO=el(),FO=cv(jO),kO=Lr(),$O=cv(kO);function cv(t){return t&&t.__esModule?t:{default:t}}function DO(t,e,r){return(0,FO.default)(t,1,e,r)}ps.default=(0,$O.default)(DO,3);fv.exports=ps.default});var mv=h((ms,pv)=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.default=BO;var UO=Yg(),HO=dv(UO),GO=hv(),zO=dv(GO);function dv(t){return t&&t.__esModule?t:{default:t}}function BO(t,e){return(0,HO.default)(zO.default,t,e)}pv.exports=ms.default});var tl=h((dT,vv)=>{"use strict";vv.exports=ut;var gs=wt().codes,VO=gs.ERR_METHOD_NOT_IMPLEMENTED,WO=gs.ERR_MULTIPLE_CALLBACK,YO=gs.ERR_TRANSFORM_ALREADY_TRANSFORMING,KO=gs.ERR_TRANSFORM_WITH_LENGTH_0,vs=Kt();qr()(ut,vs);function XO(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new WO);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ut(t){if(!(this instanceof ut))return new ut(t);vs.call(this,t),this._transformState={afterTransform:XO.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",JO)}function JO(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){gv(t,e,r)}):gv(this,null,null)}ut.prototype.push=function(t,e){return this._transformState.needTransform=!1,vs.prototype.push.call(this,t,e)};ut.prototype._transform=function(t,e,r){r(new VO("_transform()"))};ut.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ut.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ut.prototype._destroy=function(t,e){vs.prototype._destroy.call(this,t,function(r){e(r)})};function gv(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new KO;if(t._transformState.transforming)throw new YO;return t.push(null)}});var bv=h((pT,_v)=>{"use strict";_v.exports=xn;var yv=tl();qr()(xn,yv);function xn(t){if(!(this instanceof xn))return new xn(t);yv.call(this,t)}xn.prototype._transform=function(t,e,r){r(null,t)}});var Ov=h((mT,xv)=>{"use strict";var rl;function ZO(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Sv=wt().codes,QO=Sv.ERR_MISSING_ARGS,eM=Sv.ERR_STREAM_DESTROYED;function wv(t){if(t)throw t}function tM(t){return t.setHeader&&typeof t.abort=="function"}function rM(t,e,r,n){n=ZO(n);var i=!1;t.on("close",function(){i=!0}),rl===void 0&&(rl=Hi()),rl(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,tM(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new eM("pipe"))}}}function Ev(t){t()}function nM(t,e){return t.pipe(e)}function iM(t){return!t.length||typeof t[t.length-1]!="function"?wv:t.pop()}function sM(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=iM(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new QO("streams");var i,s=e.map(function(o,a){var l=a<e.length-1,p=a>0;return rM(o,l,p,function(c){i||(i=c),c&&s.forEach(Ev),!l&&(s.forEach(Ev),n(i))})});return e.reduce(nM)}xv.exports=sM});var Jt=h((Be,Mn)=>{var On=require("stream");process.env.READABLE_STREAM==="disable"&&On?(Mn.exports=On.Readable,Object.assign(Mn.exports,On),Mn.exports.Stream=On):(Be=Mn.exports=Uu(),Be.Stream=On||Be,Be.Readable=Be,Be.Writable=Xi(),Be.Duplex=Kt(),Be.Transform=tl(),Be.PassThrough=bv(),Be.finished=Hi(),Be.pipeline=Ov())});var ll=h((gT,qv)=>{var Nr=[],qn=[],nl=function(){};function sl(t){return~Nr.indexOf(t)?!1:(Nr.push(t),!0)}function ol(t){nl=t}function oM(t){for(var e=[],r=0;r<Nr.length;r++){if(Nr[r].async){e.push(Nr[r]);continue}if(Nr[r](t))return!0}return e.length?new Promise(function(i){Promise.all(e.map(function(o){return o(t)})).then(function(o){i(o.some(Boolean))})}):!1}function al(t){return~qn.indexOf(t)?!1:(qn.push(t),!0)}function il(){nl.apply(nl,arguments)}function Mv(t){for(var e=0;e<qn.length;e++)t=qn[e].apply(qn[e],arguments);return t}function ul(t,e){var r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}function aM(t){return t.enabled=!1,t.modify=al,t.set=ol,t.use=sl,ul(function(){return!1},t)}function uM(t){function e(){var r=Array.prototype.slice.call(arguments,0);return il.call(il,t,Mv(r,t)),!0}return t.enabled=!0,t.modify=al,t.set=ol,t.use=sl,ul(e,t)}qv.exports=function(e){return e.introduce=ul,e.enabled=oM,e.process=Mv,e.modify=al,e.write=il,e.nope=aM,e.yep=uM,e.set=ol,e.use=sl,e}});var Cv=h((vT,Rv)=>{var lM=ll(),cM=lM(function t(e,r){return r=r||{},r.namespace=e,r.prod=!0,r.dev=!1,r.force||t.force?t.yep(r):t.nope(r)});Rv.exports=cM});var Pv=h((yT,Tv)=>{"use strict";Tv.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Iv=h((_T,Av)=>{Av.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var jv=h((bT,Nv)=>{"use strict";var fM=Iv(),hM=Array.prototype.concat,dM=Array.prototype.slice,Lv=Nv.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var s=e[n];fM(s)?r=hM.call(r,dM.call(s)):r.push(s)}return r};Lv.wrap=function(t){return function(){return t(Lv(arguments))}}});var Dv=h((wT,$v)=>{var Rn=Pv(),Cn=jv(),Fv=Object.hasOwnProperty,kv=Object.create(null);for(ys in Rn)Fv.call(Rn,ys)&&(kv[Rn[ys]]=ys);var ys,$e=$v.exports={to:{},get:{}};$e.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=$e.get.hsl(t),n="hsl";break;case"hwb":r=$e.get.hwb(t),n="hwb";break;default:r=$e.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};$e.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],a,l,p;if(a=t.match(r)){for(p=a[2],a=a[1],l=0;l<3;l++){var c=l*2;o[l]=parseInt(a.slice(c,c+2),16)}p&&(o[3]=parseInt(p,16)/255)}else if(a=t.match(e)){for(a=a[1],p=a[3],l=0;l<3;l++)o[l]=parseInt(a[l]+a[l],16);p&&(o[3]=parseInt(p+p,16)/255)}else if(a=t.match(n)){for(l=0;l<3;l++)o[l]=parseInt(a[l+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(l=0;l<3;l++)o[l]=Math.round(parseFloat(a[l+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=t.match(s))?a[1]==="transparent"?[0,0,0,0]:Fv.call(Rn,a[1])?(o=Rn[a[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=qt(o[l],0,255);return o[3]=qt(o[3],0,1),o};$e.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=qt(parseFloat(r[2]),0,100),o=qt(parseFloat(r[3]),0,100),a=qt(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};$e.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=qt(parseFloat(r[2]),0,100),o=qt(parseFloat(r[3]),0,100),a=qt(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};$e.to.hex=function(){var t=Cn(arguments);return"#"+_s(t[0])+_s(t[1])+_s(t[2])+(t[3]<1?_s(Math.round(t[3]*255)):"")};$e.to.rgb=function(){var t=Cn(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};$e.to.rgb.percent=function(){var t=Cn(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};$e.to.hsl=function(){var t=Cn(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};$e.to.hwb=function(){var t=Cn(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};$e.to.keyword=function(t){return kv[t.slice(0,3)]};function qt(t,e,r){return Math.min(Math.max(e,t),r)}function _s(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var Hv=h((ET,Uv)=>{"use strict";Uv.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var cl=h((ST,Vv)=>{var Zt=Hv(),Bv={};for(bs in Zt)Zt.hasOwnProperty(bs)&&(Bv[Zt[bs]]=bs);var bs,k=Vv.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(Pe in k)if(k.hasOwnProperty(Pe)){if(!("channels"in k[Pe]))throw new Error("missing channels property: "+Pe);if(!("labels"in k[Pe]))throw new Error("missing channel labels property: "+Pe);if(k[Pe].labels.length!==k[Pe].channels)throw new Error("channel and label counts mismatch: "+Pe);Gv=k[Pe].channels,zv=k[Pe].labels,delete k[Pe].channels,delete k[Pe].labels,Object.defineProperty(k[Pe],"channels",{value:Gv}),Object.defineProperty(k[Pe],"labels",{value:zv})}var Gv,zv,Pe;k.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,l,p;return s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360),p=(i+s)/2,s===i?l=0:p<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,p*100]};k.rgb.hsv=function(t){var e,r,n,i,s,o=t[0]/255,a=t[1]/255,l=t[2]/255,p=Math.max(o,a,l),c=p-Math.min(o,a,l),d=function(v){return(p-v)/6/c+1/2};return c===0?i=s=0:(s=c/p,e=d(o),r=d(a),n=d(l),o===p?i=n-r:a===p?i=1/3+e-n:l===p&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,p*100]};k.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=k.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};k.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i,s,o,a;return a=Math.min(1-e,1-r,1-n),i=(1-e-a)/(1-a)||0,s=(1-r-a)/(1-a)||0,o=(1-n-a)/(1-a)||0,[i*100,s*100,o*100,a*100]};function pM(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}k.rgb.keyword=function(t){var e=Bv[t];if(e)return e;var r=1/0,n;for(var i in Zt)if(Zt.hasOwnProperty(i)){var s=Zt[i],o=pM(t,s);o<r&&(r=o,n=i)}return n};k.keyword.rgb=function(t){return Zt[t]};k.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};k.rgb.lab=function(t){var e=k.rgb.xyz(t),r=e[0],n=e[1],i=e[2],s,o,a;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*n-16,o=500*(r-n),a=200*(n-i),[s,o,a]};k.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o,a,l;if(r===0)return l=n*255,[l,l,l];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,a=[0,0,0];for(var p=0;p<3;p++)o=e+1/3*-(p-1),o<0&&o++,o>1&&o--,6*o<1?l=i+(s-i)*6*o:2*o<1?l=s:3*o<2?l=i+(s-i)*(2/3-o)*6:l=i,a[p]=l*255;return a};k.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01),o,a;return n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s,a=(n+r)/2,o=n===0?2*i/(s+i):2*r/(n+r),[e,o*100,a*100]};k.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),l=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}};k.hsv.hsl=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o,a;return a=(2-r)*n,s=(2-r)*i,o=r*i,o/=s<=1?s:2-s,o=o||0,a/=2,[e,o*100,a*100]};k.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s,o,a,l;i>1&&(r/=i,n/=i),s=Math.floor(6*e),o=1-n,a=6*e-s,s&1&&(a=1-a),l=r+a*(o-r);var p,c,d;switch(s){default:case 6:case 0:p=o,c=l,d=r;break;case 1:p=l,c=o,d=r;break;case 2:p=r,c=o,d=l;break;case 3:p=r,c=l,d=o;break;case 4:p=l,c=r,d=o;break;case 5:p=o,c=r,d=l;break}return[p*255,c*255,d*255]};k.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s,o,a;return s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),[s*255,o*255,a*255]};k.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};k.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return e/=95.047,r/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,s=500*(e-r),o=200*(r-n),[i,s,o]};k.lab.xyz=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;var a=Math.pow(s,3),l=Math.pow(i,3),p=Math.pow(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=p>.008856?p:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};k.lab.lch=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return i=Math.atan2(n,r),s=i*360/2/Math.PI,s<0&&(s+=360),o=Math.sqrt(r*r+n*n),[e,o,s]};k.lch.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return o=n/360*2*Math.PI,i=r*Math.cos(o),s=r*Math.sin(o),[e,i,s]};k.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:k.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return i===2&&(s+=60),s};k.hsv.ansi16=function(t){return k.rgb.ansi16(k.hsv.rgb(t),t[2])};k.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};k.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};k.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var r,n=Math.floor(t/36)/5*255,i=Math.floor((r=t%36)/6)/5*255,s=r%6/5*255;return[n,i,s]};k.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};k.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(a){return a+a}).join(""));var n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};k.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:i===e?l=(r-n)/o%6:i===r?l=2+(n-e)/o:l=4+(e-r)/o+4,l/=6,l%=1,[l*360,o*100,a*100]};k.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return r<.5?n=2*e*r:n=2*e*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};k.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};k.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],s=e%1*6,o=s%1,a=1-o,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};k.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};k.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,n=r*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};k.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};k.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};k.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};k.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};k.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};k.gray.hsl=k.gray.hsv=function(t){return[0,0,t[0]]};k.gray.hwb=function(t){return[0,100,t[0]]};k.gray.cmyk=function(t){return[0,0,0,t[0]]};k.gray.lab=function(t){return[t[0],0,0]};k.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};k.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var Yv=h((xT,Wv)=>{var ws=cl();function mM(){for(var t={},e=Object.keys(ws),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function gM(t){var e=mM(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(ws[n]),s=i.length,o=0;o<s;o++){var a=i[o],l=e[a];l.distance===-1&&(l.distance=e[n].distance+1,l.parent=n,r.unshift(a))}return e}function vM(t,e){return function(r){return e(t(r))}}function yM(t,e){for(var r=[e[t].parent,t],n=ws[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=vM(ws[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}Wv.exports=function(t){for(var e=gM(t),r={},n=Object.keys(e),i=n.length,s=0;s<i;s++){var o=n[s],a=e[o];a.parent!==null&&(r[o]=yM(o,e))}return r}});var Xv=h((OT,Kv)=>{var fl=cl(),_M=Yv(),jr={},bM=Object.keys(fl);function wM(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function EM(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=t(r);if(typeof n=="object")for(var i=n.length,s=0;s<i;s++)n[s]=Math.round(n[s]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}bM.forEach(function(t){jr[t]={},Object.defineProperty(jr[t],"channels",{value:fl[t].channels}),Object.defineProperty(jr[t],"labels",{value:fl[t].labels});var e=_M(t),r=Object.keys(e);r.forEach(function(n){var i=e[n];jr[t][n]=EM(i),jr[t][n].raw=wM(i)})});Kv.exports=jr});var Qv=h((MT,Zv)=>{"use strict";var Tn=Dv(),De=Xv(),pl=[].slice,Jv=["keyword","gray","hex"],hl={};Object.keys(De).forEach(function(t){hl[pl.call(De[t].labels).sort().join("")]=t});var Es={};function we(t,e){if(!(this instanceof we))return new we(t,e);if(e&&e in Jv&&(e=null),e&&!(e in De))throw new Error("Unknown model: "+e);var r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof we)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){var i=Tn.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=De[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length){this.model=e||"rgb",n=De[this.model].channels;var s=pl.call(t,0,n);this.color=dl(s,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;var o=Object.keys(t);"alpha"in t&&(o.splice(o.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);var a=o.sort().join("");if(!(a in hl))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=hl[a];var l=De[this.model].labels,p=[];for(r=0;r<l.length;r++)p.push(t[l[r]]);this.color=dl(p)}if(Es[this.model])for(n=De[this.model].channels,r=0;r<n;r++){var c=Es[this.model][r];c&&(this.color[r]=c(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}we.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in Tn.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);var r=e.valpha===1?e.color:e.color.concat(this.valpha);return Tn.to[e.model](r)},percentString:function(t){var e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:e.color.concat(this.valpha);return Tn.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=De[this.model].channels,r=De[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new we(this.color.map(xM(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new we(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:ue("rgb",0,fe(255)),green:ue("rgb",1,fe(255)),blue:ue("rgb",2,fe(255)),hue:ue(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:ue("hsl",1,fe(100)),lightness:ue("hsl",2,fe(100)),saturationv:ue("hsv",1,fe(100)),value:ue("hsv",2,fe(100)),chroma:ue("hcg",1,fe(100)),gray:ue("hcg",2,fe(100)),white:ue("hwb",1,fe(100)),wblack:ue("hwb",2,fe(100)),cyan:ue("cmyk",0,fe(100)),magenta:ue("cmyk",1,fe(100)),yellow:ue("cmyk",2,fe(100)),black:ue("cmyk",3,fe(100)),x:ue("xyz",0,fe(100)),y:ue("xyz",1,fe(100)),z:ue("xyz",2,fe(100)),l:ue("lab",0,fe(100)),a:ue("lab",1),b:ue("lab",2),keyword:function(t){return arguments.length?new we(t):De[this.model].keyword(this.color)},hex:function(t){return arguments.length?new we(t):Tn.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color,e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return we.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,s=2*i-1,o=r.alpha()-n.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,l=1-a;return we.rgb(a*r.red()+l*n.red(),a*r.green()+l*n.green(),a*r.blue()+l*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};Object.keys(De).forEach(function(t){if(Jv.indexOf(t)===-1){var e=De[t].channels;we.prototype[t]=function(){if(this.model===t)return new we(this);if(arguments.length)return new we(arguments,t);var r=typeof arguments[e]=="number"?e:this.valpha;return new we(OM(De[this.model][t].raw(this.color)).concat(r),t)},we[t]=function(r){return typeof r=="number"&&(r=dl(pl.call(arguments),e)),new we(r,t)}}});function SM(t,e){return Number(t.toFixed(e))}function xM(t){return function(e){return SM(e,t)}}function ue(t,e,r){return t=Array.isArray(t)?t:[t],t.forEach(function(n){(Es[n]||(Es[n]=[]))[e]=r}),t=t[0],function(n){var i;return arguments.length?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function fe(t){return function(e){return Math.max(0,Math.min(t,e))}}function OM(t){return Array.isArray(t)?t:[t]}function dl(t,e){for(var r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}Zv.exports=we});var t0=h((qT,e0)=>{"use strict";e0.exports=function(e){for(var r=0,n=0;r<e.length;n=e.charCodeAt(r++)+((n<<5)-n));var i=Math.floor(Math.abs(Math.sin(n)*1e4%1*16777216)).toString(16);return"#"+Array(6-i.length+1).join("0")+i}});var s0=h((RT,i0)=>{"use strict";var r0=Qv(),n0=t0();i0.exports=function(e,r){var n=e.split(r||":"),i=n0(n[0]);if(!n.length)return i;for(var s=0,o=n.length-1;s<o;s++)i=r0(i).mix(r0(n0(n[s+1]))).saturate(1).hex();return i}});var a0=h((CT,o0)=>{"use strict";function Ye(t,e){if(e)return new Ye(t).style(e);if(!(this instanceof Ye))return new Ye(t);this.text=t}Ye.prototype.prefix="\x1B[";Ye.prototype.suffix="m";Ye.prototype.hex=function(e){e=e[0]==="#"?e.substring(1):e,e.length===3&&(e=e.split(""),e[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var r=e.substring(0,2),n=e.substring(2,4),i=e.substring(4,6);return[parseInt(r,16),parseInt(n,16),parseInt(i,16)]};Ye.prototype.rgb=function(e,r,n){var i=e/255*5,s=r/255*5,o=n/255*5;return this.ansi(i,s,o)};Ye.prototype.ansi=function(e,r,n){var i=Math.round(e),s=Math.round(r),o=Math.round(n);return 16+i*36+s*6+o};Ye.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};Ye.prototype.style=function(e){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()};o0.exports=Ye});var l0=h((TT,u0)=>{var MM=s0(),qM=a0();u0.exports=function(e,r){var n=r.namespace,i=r.colors!==!1?qM(n+":",MM(n)):n+":";return e[0]=i+" "+e[0],e}});var f0=h((PT,c0)=>{"use strict";c0.exports=function(e,r){if(!r)return!1;for(var n=r.split(/[\s,]+/),i=0;i<n.length;i++){if(r=n[i].replace("*",".*?"),r.charAt(0)==="-"){if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;continue}if(new RegExp("^"+r+"$").test(e))return!0}return!1}});var d0=h((AT,h0)=>{var RM=f0();h0.exports=function(e){return function(n){try{return RM(n,e())}catch{}return!1}}});var m0=h((IT,p0)=>{var CM=d0();p0.exports=CM(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var v0=h((LT,g0)=>{g0.exports=function(t,e){try{Function.prototype.apply.call(console.log,console,e)}catch{}}});var _0=h((NT,y0)=>{var TM=ll(),PM=require("tty").isatty(1),Ss=TM(function t(e,r){return r=r||{},r.colors="colors"in r?r.colors:PM,r.namespace=e,r.prod=!1,r.dev=!0,!t.enabled(e)&&!(r.force||t.force)?t.nope(r):t.yep(r)});Ss.modify(l0());Ss.use(m0());Ss.set(v0());y0.exports=Ss});var Pn=h((jT,ml)=>{process.env.NODE_ENV==="production"?ml.exports=Cv():ml.exports=_0()});var w0=h((FT,b0)=>{"use strict";var gl=require("fs"),{StringDecoder:AM}=require("string_decoder"),{Stream:IM}=Jt();function LM(){}b0.exports=(t,e)=>{let r=Buffer.alloc(65536),n=new AM("utf8"),i=new IM,s="",o=0,a=0;return t.start===-1&&delete t.start,i.readable=!0,i.destroy=()=>{i.destroyed=!0,i.emit("end"),i.emit("close")},gl.open(t.file,"a+","0644",(l,p)=>{if(l){e?e(l):i.emit("error",l),i.destroy();return}(function c(){if(i.destroyed){gl.close(p,LM);return}return gl.read(p,r,0,r.length,o,(d,v)=>{if(d){e?e(d):i.emit("error",d),i.destroy();return}if(!v)return s&&((t.start==null||a>t.start)&&(e?e(null,s):i.emit("line",s)),a++,s=""),setTimeout(c,1e3);let m=n.write(r.slice(0,v));e||i.emit("data",m),m=(s+m).split(/\n+/);let w=m.length-1,q=0;for(;q<w;q++)(t.start==null||a>t.start)&&(e?e(null,m[q]):i.emit("line",m[q])),a++;return s=m[w],o+=v,c()})})()}),e?i.destroy:i}});var O0=h(($T,x0)=>{"use strict";var je=require("fs"),_e=require("path"),E0=mv(),NM=require("zlib"),{MESSAGE:jM}=ce(),{Stream:FM,PassThrough:S0}=Jt(),kM=Ar(),Ke=Pn()("winston:file"),$M=require("os"),DM=w0();x0.exports=class extends kM{constructor(e={}){super(e),this.name=e.name||"file";function r(n,...i){i.slice(1).forEach(s=>{if(e[s])throw new Error(`Cannot set ${s} and ${n} together`)})}if(this._stream=new S0,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)r("filename or dirname","stream"),this._basename=this.filename=e.filename?_e.basename(e.filename):"winston.log",this.dirname=e.dirname||_e.dirname(e.filename),this.options=e.options||{flags:"a"};else if(e.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=_e.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=typeof e.eol=="string"?e.eol:$M.EOL,this.tailable=e.tailable||!1,this.lazy=e.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(e,r)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,r)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(e,r)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(e,r)})});return}}let n=`${e[jM]}${this.eol}`,i=Buffer.byteLength(n);function s(){if(this._size+=i,this._pendingSize-=i,Ke("logged %s %s",this._size,n),this.emit("logged",e),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=i,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let o=this._stream.write(n,s.bind(this));return o?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r()})),Ke("written",o,this._drain),this.finishIfEnding(),o}query(e,r){typeof e=="function"&&(r=e,e={}),e=d(e);let n=_e.join(this.dirname,this.filename),i="",s=[],o=0,a=je.createReadStream(n,{encoding:"utf8"});a.on("error",v=>{if(a.readable&&a.destroy(),!!r)return v.code!=="ENOENT"?r(v):r(null,s)}),a.on("data",v=>{v=(i+v).split(/\n+/);let m=v.length-1,w=0;for(;w<m;w++)(!e.start||o>=e.start)&&l(v[w]),o++;i=v[m]}),a.on("close",()=>{i&&l(i,!0),e.order==="desc"&&(s=s.reverse()),r&&r(null,s)});function l(v,m){try{let w=JSON.parse(v);c(w)&&p(w)}catch(w){m||a.emit("error",w)}}function p(v){if(e.rows&&s.length>=e.rows&&e.order!=="desc"){a.readable&&a.destroy();return}e.fields&&(v=e.fields.reduce((m,w)=>(m[w]=v[w],m),{})),e.order==="desc"&&s.length>=e.rows&&s.shift(),s.push(v)}function c(v){if(!v||typeof v!="object")return;let m=new Date(v.timestamp);if(!(e.from&&m<e.from||e.until&&m>e.until||e.level&&e.level!==v.level))return!0}function d(v){return v=v||{},v.rows=v.rows||v.limit||10,v.start=v.start||0,v.until=v.until||new Date,typeof v.until!="object"&&(v.until=new Date(v.until)),v.from=v.from||v.until-24*60*60*1e3,typeof v.from!="object"&&(v.from=new Date(v.from)),v.order=v.order||"desc",v}}stream(e={}){let r=_e.join(this.dirname,this.filename),n=new FM,i={file:r,start:e.start};return n.destroy=DM(i,(s,o)=>{if(s)return n.emit("error",s);try{n.emit("data",o),o=JSON.parse(o),n.emit("log",o)}catch(a){n.emit("error",a)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,r)=>{if(e)return this.emit("error",e);Ke("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){let r=this._getFile(),n=_e.join(this.dirname,r);je.stat(n,(i,s)=>{if(i&&i.code==="ENOENT")return Ke("ENOENT\xA0ok",n),this.filename=r,e(null,0);if(i)return Ke(`err ${i.code} ${n}`),e(i);if(!s||this._needsNewFile(s.size))return this._incFile(()=>this.stat(e));this.filename=r,e(null,s.size)})}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e.destroy(),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){let r=_e.join(this.dirname,this.filename);Ke("create stream start",r,this.options);let n=je.createWriteStream(r,this.options).on("error",i=>Ke(i)).on("close",()=>Ke("close",n.path,n.bytesWritten)).on("open",()=>{Ke("file open ok",r),this.emit("open",r),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new S0,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end())});return Ke("create stream ok",r),n}_incFile(e){Ke("_incFile",this.filename);let r=_e.extname(this._basename),n=_e.basename(this._basename,r),i=[];this.zippedArchive&&i.push(function(s){let o=this._created>0&&!this.tailable?this._created:"";this._compressFile(_e.join(this.dirname,`${n}${o}${r}`),_e.join(this.dirname,`${n}${o}${r}.gz`),s)}.bind(this)),i.push(function(s){this.tailable?this._checkMaxFilesTailable(r,n,s):(this._created+=1,this._checkMaxFilesIncrementing(r,n,s))}.bind(this)),E0(i,e)}_getFile(){let e=_e.extname(this._basename),r=_e.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${r}${n}${e}`:`${r}${e}`}_checkMaxFilesIncrementing(e,r,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);let i=this._created-this.maxFiles,s=i!==0?i:"",o=this.zippedArchive?".gz":"",a=`${r}${s}${e}${o}`,l=_e.join(this.dirname,a);je.unlink(l,n)}_checkMaxFilesTailable(e,r,n){let i=[];if(!this.maxFiles)return;let s=this.zippedArchive?".gz":"";for(let o=this.maxFiles-1;o>1;o--)i.push(function(a,l){let p=`${r}${a-1}${e}${s}`,c=_e.join(this.dirname,p);je.exists(c,d=>{if(!d)return l(null);p=`${r}${a}${e}${s}`,je.rename(c,_e.join(this.dirname,p),l)})}.bind(this,o));E0(i,()=>{je.rename(_e.join(this.dirname,`${r}${e}${s}`),_e.join(this.dirname,`${r}1${e}${s}`),n)})}_compressFile(e,r,n){je.access(e,je.F_OK,i=>{if(i)return n();var s=NM.createGzip(),o=je.createReadStream(e),a=je.createWriteStream(r);a.on("finish",()=>{je.unlink(e,n)}),o.pipe(s).pipe(a)})}_createLogDirIfNotExist(e){je.existsSync(e)||je.mkdirSync(e,{recursive:!0})}}});var q0=h((UT,M0)=>{"use strict";var UM=require("http"),HM=require("https"),{Stream:GM}=Jt(),zM=Ar(),{configure:BM}=hn();M0.exports=class extends zM{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.maximumDepth=e.maximumDepth,this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.batch=e.batch||!1,this.batchInterval=e.batchInterval||5e3,this.batchCount=e.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(e,r){this._request(e,null,null,(n,i)=>{i&&i.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${i.statusCode}`)),n?this.emit("warn",n):this.emit("logged",e)}),r&&setImmediate(r)}query(e,r){typeof e=="function"&&(r=e,e={}),e={method:"query",params:this.normalizeQuery(e)};let n=e.params.auth||null;delete e.params.auth;let i=e.params.path||null;delete e.params.path,this._request(e,n,i,(s,o,a)=>{if(o&&o.statusCode!==200&&(s=new Error(`Invalid HTTP Status Code: ${o.statusCode}`)),s)return r(s);if(typeof a=="string")try{a=JSON.parse(a)}catch(l){return r(l)}r(null,a)})}stream(e={}){let r=new GM;e={method:"stream",params:e};let n=e.params.path||null;delete e.params.path;let i=e.params.auth||null;delete e.params.auth;let s="",o=this._request(e,i,n);return r.destroy=()=>o.destroy(),o.on("data",a=>{a=(s+a).split(/\n+/);let l=a.length-1,p=0;for(;p<l;p++)try{r.emit("log",JSON.parse(a[p]))}catch(c){r.emit("error",c)}s=a[l]}),o.on("error",a=>r.emit("error",a)),r}_request(e,r,n,i){e=e||{},r=r||this.auth,n=n||this.path||"",this.batch?this._doBatch(e,i,r,n):this._doRequest(e,i,r,n)}_doBatch(e,r,n,i){if(this.batchOptions.push(e),this.batchOptions.length===1){let s=this;this.batchCallback=r,this.batchTimeoutID=setTimeout(function(){s.batchTimeoutID=-1,s._doBatchRequest(s.batchCallback,n,i)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,n,i)}_doBatchRequest(e,r,n){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let i=this.batchOptions.slice();this.batchOptions=[],this._doRequest(i,e,r,n)}_doRequest(e,r,n,i){let s=Object.assign({},this.headers);n&&n.bearer&&(s.Authorization=`Bearer ${n.bearer}`);let o=(this.ssl?HM:UM).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${i.replace(/^\//,"")}`,headers:s,auth:n&&n.username&&n.password?`${n.username}:${n.password}`:"",agent:this.agent});o.on("error",r),o.on("response",l=>l.on("end",()=>r(null,l)).resume());let a=BM({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});o.end(Buffer.from(a(e,this.options.replacer),"utf8"))}}});var vl=h((HT,R0)=>{"use strict";var Ze=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Ze.writable=t=>Ze(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Ze.readable=t=>Ze(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Ze.duplex=t=>Ze.writable(t)&&Ze.readable(t);Ze.transform=t=>Ze.duplex(t)&&typeof t._transform=="function";R0.exports=Ze});var T0=h((zT,C0)=>{"use strict";var VM=vl(),{MESSAGE:WM}=ce(),YM=require("os"),KM=Ar();C0.exports=class extends KM{constructor(e={}){if(super(e),!e.stream||!VM(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=typeof e.eol=="string"?e.eol:YM.EOL}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode){this._stream.write(e),r&&r();return}this._stream.write(`${e[WM]}${this.eol}`),r&&r()}}});var P0=h(An=>{"use strict";Object.defineProperty(An,"Console",{configurable:!0,enumerable:!0,get(){return Ig()}});Object.defineProperty(An,"File",{configurable:!0,enumerable:!0,get(){return O0()}});Object.defineProperty(An,"Http",{configurable:!0,enumerable:!0,get(){return q0()}});Object.defineProperty(An,"Stream",{configurable:!0,enumerable:!0,get(){return T0()}})});var Os=h(In=>{"use strict";var xs=vu(),{configs:yl}=ce();In.cli=xs.levels(yl.cli);In.npm=xs.levels(yl.npm);In.syslog=xs.levels(yl.syslog);In.addColors=xs.levels});var I0=h((Ms,A0)=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});var XM=es(),JM=Qt(XM),ZM=cs(),QM=Qt(ZM),eq=el(),tq=Qt(eq),rq=Ju(),nq=Qt(rq),iq=Zu(),sq=Qt(iq),oq=Xt(),aq=Qt(oq),uq=Lr(),lq=Qt(uq);function Qt(t){return t&&t.__esModule?t:{default:t}}function cq(t,e,r){r=(0,nq.default)(r);var n=0,i=0,{length:s}=t,o=!1;s===0&&r(null);function a(l,p){l===!1&&(o=!0),o!==!0&&(l?r(l):(++i===s||p===QM.default)&&r(null))}for(;n<s;n++)e(t[n],n,(0,sq.default)(a))}function fq(t,e,r){return(0,tq.default)(t,1/0,e,r)}function hq(t,e,r){var n=(0,JM.default)(t)?cq:fq;return n(t,(0,aq.default)(e),r)}Ms.default=(0,lq.default)(hq,3);A0.exports=Ms.default});var N0=h((qs,L0)=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.default=dq;function dq(t){return(e,r,n)=>t(e,n)}L0.exports=qs.default});var Ts=h((Cs,j0)=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});var pq=I0(),mq=Rs(pq),gq=N0(),vq=Rs(gq),yq=Xt(),_q=Rs(yq),bq=Lr(),wq=Rs(bq);function Rs(t){return t&&t.__esModule?t:{default:t}}function Eq(t,e,r){return(0,mq.default)(t,(0,vq.default)((0,_q.default)(e)),r)}Cs.default=(0,wq.default)(Eq,3);j0.exports=Cs.default});var k0=h((WT,F0)=>{"use strict";var Sq=Object.prototype.toString;F0.exports=function(e){if(typeof e.displayName=="string"&&e.constructor.name)return e.displayName;if(typeof e.name=="string"&&e.name)return e.name;if(typeof e=="object"&&e.constructor&&typeof e.constructor.name=="string")return e.constructor.name;var r=e.toString(),n=Sq.call(e).slice(8,-1);return n==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=n,r||"anonymous"}});var _l=h((YT,$0)=>{"use strict";var xq=k0();$0.exports=function(e){var r=0,n;function i(){return r||(r=1,n=e.apply(this,arguments),e=null),n}return i.displayName=xq(e),i}});var bl=h(Nn=>{Nn.get=function(t){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(s,o){return o},Error.captureStackTrace(r,t||Nn.get);var i=r.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=e,i};Nn.parse=function(t){if(!t.stack)return[];var e=this,r=t.stack.split(`
`).slice(1);return r.map(function(n){if(n.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:n,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var i=n.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(i){var s=null,o=null,a=null,l=null,p=null,c=i[5]==="native";if(i[1]){a=i[1];var d=a.lastIndexOf(".");if(a[d-1]=="."&&d--,d>0){s=a.substr(0,d),o=a.substr(d+1);var v=s.indexOf(".Module");v>0&&(a=a.substr(v+1),s=s.substr(0,v))}l=null}o&&(l=s,p=o),o==="<anonymous>"&&(p=null,a=null);var m={fileName:i[2]||null,lineNumber:parseInt(i[3],10)||null,functionName:a,typeName:l,methodName:p,columnNumber:parseInt(i[4],10)||null,native:c};return e._createParsedCallSite(m)}}).filter(function(n){return!!n})};function Ln(t){for(var e in t)this[e]=t[e]}var Oq=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],Mq=["topLevel","eval","native","constructor"];Oq.forEach(function(t){Ln.prototype[t]=null,Ln.prototype["get"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});Mq.forEach(function(t){Ln.prototype[t]=!1,Ln.prototype["is"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});Nn._createParsedCallSite=function(t){return new Ln(t)}});var U0=h((JT,D0)=>{"use strict";var{Writable:qq}=Jt();D0.exports=class extends qq{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,r,n){return e.exception?this.transport.log(e,n):(n(),!0)}}});var El=h((QT,z0)=>{"use strict";var H0=require("os"),Rq=Ts(),wl=Pn()("winston:exception"),Cq=_l(),G0=bl(),Tq=U0();z0.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:H0.loadavg(),uptime:H0.uptime()}}getTrace(e){return(e?G0.parse(e):G0.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;let r=new Tq(e);this.handlers.set(e,r),this.logger.pipe(r)}}_uncaughtException(e){let r=this.getAllInfo(e),n=this._getExceptionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,s;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),i=!1);function o(){wl("doExit",i),wl("process._exiting",process._exiting),i&&!process._exiting&&(s&&clearTimeout(s),process.exit(1))}if(!n||n.length===0)return process.nextTick(o);Rq(n,(a,l)=>{let p=Cq(l),c=a.transport||a;function d(v){return()=>{wl(v),p()}}c._ending=!0,c.once("finish",d("finished")),c.once("error",d("error"))},()=>i&&o()),this.logger.log(r),i&&(s=setTimeout(o,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}});var V0=h((tP,B0)=>{"use strict";var{Writable:Pq}=Jt();B0.exports=class extends Pq{constructor(e){if(super({objectMode:!0}),!e)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=e}_write(e,r,n){return e.rejection?this.transport.log(e,n):(n(),!0)}}});var xl=h((nP,K0)=>{"use strict";var W0=require("os"),Aq=Ts(),Sl=Pn()("winston:rejection"),Iq=_l(),Y0=bl(),Lq=V0();K0.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:W0.loadavg(),uptime:W0.uptime()}}getTrace(e){return(e?Y0.parse(e):Y0.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;let r=new Lq(e);this.handlers.set(e,r),this.logger.pipe(r)}}_unhandledRejection(e){let r=this.getAllInfo(e),n=this._getRejectionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,s;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),i=!1);function o(){Sl("doExit",i),Sl("process._exiting",process._exiting),i&&!process._exiting&&(s&&clearTimeout(s),process.exit(1))}if(!n||n.length===0)return process.nextTick(o);Aq(n,(a,l)=>{let p=Iq(l),c=a.transport||a;function d(v){return()=>{Sl(v),p()}}c._ending=!0,c.once("finish",d("finished")),c.once("error",d("error"))},()=>i&&o()),this.logger.log(r),i&&(s=setTimeout(o,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}});var J0=h((iP,X0)=>{"use strict";var Ol=class{constructor(e){let r=Ps();if(typeof e!="object"||Array.isArray(e)||!(e instanceof r))throw new Error("Logger is required for profiling");this.logger=e,this.start=Date.now()}done(...e){typeof e[e.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());let r=typeof e[e.length-1]=="object"?e.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}};X0.exports=Ol});var Ps=h((sP,t1)=>{"use strict";var{Stream:Nq,Transform:jq}=Jt(),Z0=Ts(),{LEVEL:Qe,SPLAT:Q0}=ce(),e1=vl(),Fq=El(),kq=xl(),$q=Yu(),Dq=J0(),{warn:Uq}=yu(),Hq=Os(),Gq=/%[scdjifoO%]/g,As=class extends jq{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){let r=this;return Object.create(r,{write:{value:function(n){let i=Object.assign({},e,n);n instanceof Error&&(i.stack=n.stack,i.message=n.message),r.write(i)}}})}configure({silent:e,format:r,defaultMeta:n,levels:i,level:s="info",exitOnError:o=!0,transports:a,colors:l,emitErrs:p,formatters:c,padLevels:d,rewriters:v,stripColors:m,exceptionHandlers:w,rejectionHandlers:q}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=r||this.format||hu()(),this.defaultMeta=n||null,this.levels=i||this.levels||Hq.npm.levels,this.level=s,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new Fq(this),this.rejections=new kq(this),this.profilers={},this.exitOnError=o,a&&(a=Array.isArray(a)?a:[a],a.forEach(O=>this.add(O))),l||p||c||d||v||m)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));w&&this.exceptions.handle(w),q&&this.rejections.handle(q)}isLevelEnabled(e){let r=Ml(this.levels,e);if(r===null)return!1;let n=Ml(this.levels,this.level);return n===null?!1:!this.transports||this.transports.length===0?n>=r:this.transports.findIndex(s=>{let o=Ml(this.levels,s.level);return o===null&&(o=n),o>=r})!==-1}log(e,r,...n){if(arguments.length===1)return e[Qe]=e.level,this._addDefaultMeta(e),this.write(e),this;if(arguments.length===2)return r&&typeof r=="object"?(r[Qe]=r.level=e,this._addDefaultMeta(r),this.write(r),this):(r={[Qe]:e,level:e,message:r},this._addDefaultMeta(r),this.write(r),this);let[i]=n;if(typeof i=="object"&&i!==null&&!(r&&r.match&&r.match(Gq))){let o=Object.assign({},this.defaultMeta,i,{[Qe]:e,[Q0]:n,level:e,message:r});return i.message&&(o.message=`${o.message} ${i.message}`),i.stack&&(o.stack=i.stack),this.write(o),this}return this.write(Object.assign({},this.defaultMeta,{[Qe]:e,[Q0]:n,level:e,message:r})),this}_transform(e,r,n){if(this.silent)return n();e[Qe]||(e[Qe]=e.level),!this.levels[e[Qe]]&&this.levels[e[Qe]]!==0&&console.error("[winston] Unknown logger level: %s",e[Qe]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,n()}}_final(e){let r=this.transports.slice();Z0(r,(n,i)=>{if(!n||n.finished)return setImmediate(i);n.once("finish",i),n.end()},e)}add(e){let r=!e1(e)||e.log.length>2?new $q({transport:e}):e;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let r=e;return(!e1(e)||e.log.length>2)&&(r=this.transports.filter(n=>n.transport===e)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){Uq.deprecated("setLevels")}query(e,r){typeof e=="function"&&(r=e,e={}),e=e||{};let n={},i=Object.assign({},e.query||{});function s(a,l){e.query&&typeof a.formatQuery=="function"&&(e.query=a.formatQuery(i)),a.query(e,(p,c)=>{if(p)return l(p);typeof a.formatResults=="function"&&(c=a.formatResults(c,e.format)),l(null,c)})}function o(a,l){s(a,(p,c)=>{l&&(c=p||c,c&&(n[a.name]=c),l()),l=null})}Z0(this.transports.filter(a=>!!a.query),o,()=>r(null,n))}stream(e={}){let r=new Nq,n=[];return r._streams=n,r.destroy=()=>{let i=n.length;for(;i--;)n[i].destroy()},this.transports.filter(i=>!!i.stream).forEach(i=>{let s=i.stream(e);s&&(n.push(s),s.on("log",o=>{o.transport=o.transport||[],o.transport.push(i.name),r.emit("log",o)}),s.on("error",o=>{o.transport=o.transport||[],o.transport.push(i.name),r.emit("error",o)}))}),r}startTimer(){return new Dq(this)}profile(e,...r){let n=Date.now();if(this.profilers[e]){let i=this.profilers[e];delete this.profilers[e],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let s=typeof r[r.length-1]=="object"?r.pop():{};return s.level=s.level||"info",s.durationMs=n-i,s.message=s.message||e,this.write(s)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(e,r){function n(i){e==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(e,i,r)}r["__winston"+e]||(r["__winston"+e]=n.bind(this),r.on(e,r["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}};function Ml(t,e){let r=t[e];return!r&&r!==0?null:r}Object.defineProperty(As.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:t}=this._readableState;return Array.isArray(t)?t:[t].filter(Boolean)}});t1.exports=As});var ql=h((oP,r1)=>{"use strict";var{LEVEL:zq}=ce(),Bq=Os(),Vq=Ps(),Wq=Pn()("winston:create-logger");function Yq(t){return"is"+t.charAt(0).toUpperCase()+t.slice(1)+"Enabled"}r1.exports=function(t={}){t.levels=t.levels||Bq.npm.levels;class e extends Vq{constructor(i){super(i)}}let r=new e(t);return Object.keys(t.levels).forEach(function(n){if(Wq('Define prototype method for "%s"',n),n==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}e.prototype[n]=function(...i){let s=this||r;if(i.length===1){let[o]=i,a=o&&o.message&&o||{message:o};return a.level=a[zq]=n,s._addDefaultMeta(a),s.write(a),this||r}return i.length===0?(s.log(n,""),s):s.log(n,...i)},e.prototype[Yq(n)]=function(){return(this||r).isLevelEnabled(n)}}),r}});var i1=h((uP,n1)=>{"use strict";var Kq=ql();n1.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,r){if(!this.loggers.has(e)){r=Object.assign({},r||this.options);let n=r.transports||this.options.transports;n?r.transports=Array.isArray(n)?n.slice():[n]:r.transports=[];let i=Kq(r);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,r){return this.add(e,r)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((r,n)=>this._removeLogger(n))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}});var o1=h(ne=>{"use strict";var s1=vu(),{warn:jn}=yu();ne.version=Pm().version;ne.transports=P0();ne.config=Os();ne.addColors=s1.levels;ne.format=s1.format;ne.createLogger=ql();ne.Logger=Ps();ne.ExceptionHandler=El();ne.RejectionHandler=xl();ne.Container=i1();ne.Transport=Ar();ne.loggers=new ne.Container;var et=ne.createLogger();Object.keys(ne.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(t=>ne[t]=(...e)=>et[t](...e));Object.defineProperty(ne,"level",{get(){return et.level},set(t){et.level=t}});Object.defineProperty(ne,"exceptions",{get(){return et.exceptions}});Object.defineProperty(ne,"rejections",{get(){return et.rejections}});["exitOnError"].forEach(t=>{Object.defineProperty(ne,t,{get(){return et[t]},set(e){et[t]=e}})});Object.defineProperty(ne,"default",{get(){return{exceptionHandlers:et.exceptionHandlers,rejectionHandlers:et.rejectionHandlers,transports:et.transports}}});jn.deprecated(ne,"setLevels");jn.forFunctions(ne,"useFormat",["cli"]);jn.forProperties(ne,"useFormat",["padLevels","stripColors"]);jn.forFunctions(ne,"deprecated",["addRewriter","addFilter","clone","extend"]);jn.forProperties(ne,"deprecated",["emitErrs","levelLength"])});var u1=h((cP,a1)=>{var lt=o1(),Xq=lt.createLogger({level:"info",format:lt.format.combine(lt.format.timestamp(),lt.format.printf(({timestamp:t,level:e,message:r})=>`${t} => [${e}]: ${r}`)),transports:[new lt.transports.Console({format:lt.format.combine(lt.format.colorize(),lt.format.simple())}),new lt.transports.File({filename:"./logs/app.log"})]});a1.exports=Xq});var l1=h((fP,Jq)=>{Jq.exports={name:"nodcord",version:"0.4.6",description:"Eine Node.js-API mit Express.js und einem integrierten Discord-Bot",main:"src/app.js",scripts:{start:"node src/server.js","start:dev":"nodemon src/server.js","start:test":"","start:build":"node build.js","start:prod":"node build/start.js",test:"jest",prettify:"prettier --write ."},browserslist:{production:[">0.2%","not dead","not op_mini all"],development:["last 1 chrome version","last 1 firefox version","last 1 safari version"]},repository:{type:"git",url:"git+https://github.com/vectode/NodCord.git"},bugs:{url:"https://github.com/vectode/NodCord/issues"},homepage:"https://github.com/vectode/NodCord#readme",keywords:["nodejs","express","discord","api","bot","mongodb","ejs","jest","pm2","nodemon"],author:"Vecto. (Tim Hauke)",contributors:["Contributor 1 <contributor1@example.com> (https://github.com/contributor1)","Contributor 2 <contributor2@example.com> (https://github.com/contributor2)"],license:"MIT",files:["src","public","build.js","start.js","start.sh","stop.sh","restart.sh","README.md","DOCUMENTATION.md","ROADMAP.md","Todo.md"],engines:{node:">=14.0.0",npm:">=6.0.0"},dependencies:{"@azure/msal-node":"^2.12.0","@babel/plugin-transform-runtime":"^7.25.4","@babel/preset-react":"^7.24.7","@pm2/io":"^6.0.1","@sentry/cli":"^2.36.1","@sentry/node":"^8.29.0","@sentry/profiling-node":"^8.29.0",archiver:"^5.3.0",axios:"^1.7.4",bcrypt:"^5.1.1",bcryptjs:"^2.4.3","body-parser":"^1.19.2",chalk:"^5.3.0","check-disk-space":"^3.4.0","cli-table3":"^0.6.5",cluster:"^0.7.7",compression:"^1.7.4","connect-flash":"^0.1.1","connect-mongo":"^5.1.0","connect-redis":"^7.1.1","cookie-parser":"^1.4.6",cors:"^2.8.5",crypto:"^1.0.1","discord-player":"^6.7.1","discord.js":"^14.7.1",diskspace:"^2.0.0",dotenv:"^16.0.1",ejs:"^3.1.8",esbuild:"^0.23.1",express:"^4.19.2","express-openid-connect":"^2.17.1","express-rate-limit":"^7.4.0","express-session":"^1.18.0",googleapis:"^140.0.1",helmet:"^5.0.2",ioredis:"^5.4.1",jest:"^29.7.0",jsonwebtoken:"^9.0.2",lodash:"^4.17.21",moment:"^2.29.1",mongodb:"^6.8.0",mongoose:"^8.5.2","mongoose-findorcreate":"^4.0.0",morgan:"^1.10.0","msal-node":"^0.0.1-security",multer:"^1.4.4","net-tools":"^1.0.1","node-teamspeak":"^1.0.10",nodemailer:"^6.9.14",os:"^0.1.2",passport:"^0.6.0","passport-apple":"^2.0.2","passport-azure-ad":"^4.3.5","passport-faceit":"^1.1.0","passport-github2":"^0.1.12","passport-google-oauth20":"^2.0.0","passport-local":"^1.0.0","passport-microsoft":"^2.1.0","paypal-rest-sdk":"^1.8.1",pm2:"^5.1.2",puppeteer:"^23.1.0","quickchart-js":"^3.1.3","rate-limiter-flexible":"^2.3.0",readline:"^1.3.0",redis:"^4.7.0","redis-server":"^1.2.2","session-memory-store":"^1.0.0",sharp:"^0.33.4","socket.io":"^4.7.5","socket.io-redis":"^6.1.1",socketio:"^1.0.0",stripe:"^16.6.0","swagger-ui-express":"^4.3.0",systeminformation:"^5.23.2","translate-google":"^1.5.0",uuid:"^10.0.0",validator:"^13.7.0","web-vitals":"^2.1.4",winston:"^3.13.1"},devDependencies:{"@babel/core":"^7.25.2","@babel/preset-env":"^7.25.3","@types/connect-flash":"^0.0.40","@types/express-session":"^1.18.0","babel-loader":"^8.3.0","css-loader":"^6.11.0","html-webpack-plugin":"^5.6.0",nodemon:"^2.0.19",prettier:"^2.5.1","style-loader":"^3.3.4",webpack:"^5.94.0","webpack-cli":"^4.10.0"},private:!1,funding:{type:"github",url:"https://github.com/sponsors/vectode"}}});var Ae=up(),Fr=require("os"),ct=u1(),Rl=l1(),c1=Ae.metric({name:"Realtime Users",id:"app/realtime/users",type:"gauge",measurement:"count"}),f1=Ae.metric({name:"Latency",type:"histogram",measurement:"mean"}),h1=Ae.counter({name:"Request Count",id:"app/requests/count"}),d1=Ae.meter({name:"Error Rate",id:"app/errors/rate",samples:1,timeframe:60}),p1=Ae.metric({name:"Total Memory",id:"system/memory/total",type:"gauge",measurement:"bytes",value:()=>Fr.totalmem()}),m1=Ae.metric({name:"Free Memory",id:"system/memory/free",type:"gauge",measurement:"bytes",value:()=>Fr.freemem()}),g1=Ae.metric({name:"Process Memory Usage",id:"process/memory/usage",type:"gauge",measurement:"bytes",value:()=>process.memoryUsage().rss}),v1=Ae.metric({name:"Node.js Version",id:"process/node/version",type:"gauge",measurement:"string",value:()=>process.version}),y1=Ae.metric({name:"Application Version",id:"app/version",type:"gauge",measurement:"string",value:()=>Rl.version}),_1=Ae.metric({name:"Node Environment",id:"process/node/env",type:"gauge",measurement:"string",value:()=>process.env.NODE_ENV||"development"}),Zq=(t,e)=>{if(ct.info(`[PM2] Monitoring initialized for: ${e}`),!c1||!f1||!h1||!d1||!p1||!m1||!g1||!v1||!y1||!_1){ct.error("[PM2] One or more metrics are not initialized correctly.");return}c1.set(23),setInterval(()=>{try{let r=Math.round(Math.random()*100);f1.set(r)}catch(r){ct.error(`[PM2] Error setting latency metric: ${r.message}`)}},1e3),t.use((r,n,i)=>{try{h1.inc(),Ae.startTransaction({name:`Request ${r.method} ${r.url}`})}catch(s){ct.error(`[PM2] Error incrementing request counter: ${s.message}`)}i()}),t.use((r,n,i,s)=>{try{r?(d1.mark(),Ae.endTransaction({success:!1})):Ae.endTransaction({success:!0})}catch(o){ct.error(`[PM2] Error recording error meter: ${o.message}`)}s(r)}),setInterval(()=>{try{p1.set(Fr.totalmem()),m1.set(Fr.freemem()),g1.set(process.memoryUsage().rss)}catch(r){ct.error(`[PM2] Error updating memory metrics: ${r.message}`)}},1e3);try{v1.set(process.version),y1.set(Rl.version),_1.set(process.env.NODE_ENV||"development")}catch(r){ct.error(`[PM2] Error setting static metrics: ${r.message}`)}Ae.action("log:system-info",r=>{let n={totalMemory:Fr.totalmem(),freeMemory:Fr.freemem(),processMemory:process.memoryUsage().rss,nodeVersion:process.version,appVersion:Rl.version,nodeEnv:process.env.NODE_ENV||"development"};ct.info("[PM2] System Info:",n),r({systemInfo:n})}),ct.info(`[PM2] Metrics set for: ${e}`),Ae.init({transactions:!0,https:!0})};module.exports={monitorComponent:Zq};
/*! Bundled license information:

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)

tslib/tslib.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=pm2Service.js.map
