var c=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Yi=c((rm,Wi)=>{var Zt=require("events").EventEmitter,Hi=require("stream"),gf=require("util"),Ke={line:function(r){this.emit("line",r)},end:function(){this.emit("end")}};function K(r,e){if(!(this instanceof K))return new K(r);if(!r)throw new Error("LineInputStream requires an underlying stream");Hi.call(this),this.underlyingStream=r,this.delimiter=e||`
`;var t=this,n="";this.underlyingStream.on("data",function(i){n+=i;var a=n.split(t.delimiter);n=a.pop(),a.forEach(Ke.line,t)}),this.underlyingStream.on("end",function(){if(n.length>0){var i=n.split(t.delimiter);i.forEach(Ke.line,t)}Ke.end.call(t)}),Object.defineProperty(this,"readable",{get:function(){return t.underlyingStream.readable},enumerable:!0}),Object.defineProperty(this,"paused",{get:function(){return t.underlyingStream.paused},enumerable:!0})}gf.inherits(K,Hi);K.prototype.addListener=function(r,e){return r in Ke||this.underlyingStream.on(r,e),Zt.prototype.on.call(this,r,e),this};K.prototype.on=K.prototype.addListener;K.prototype.removeListener=function(r,e){return r in Ke||this.underlyingStream.removeListener(r,e),Zt.prototype.removeListener.call(this,r,e),this};K.prototype.removeAllListeners=function(r){return r in Ke||this.underlyingStream.removeAllListeners(r),Zt.prototype.removeAllListeners.call(this,r),this};K.prototype.pause=function(){return this.underlyingStream.pause&&this.underlyingStream.pause(),this};K.prototype.resume=function(){return this.underlyingStream.resume&&this.underlyingStream.resume(),this};K.prototype.destroy=function(){return this.underlyingStream.destroy&&this.underlyingStream.destroy(),this};K.prototype.setEncoding=function(r){return this.underlyingStream.setEncoding&&this.underlyingStream.setEncoding(r),this};K.prototype.setDelimiter=function(r){return this.delimiter=r,this};Wi.exports=K});var Ji=c((tm,Ki)=>{var mf=require("net"),vf=Yi(),Gi=require("events"),Xt=require("util");function Je(r,e){Gi.EventEmitter.call(this);var t=this,n=mf.connect(e||10011,r||"localhost"),i=null,a=-2,s=[],o=null;function u(h){var l=String(h);return l=l.replace(/\\/g,"\\\\"),l=l.replace(/\//g,"\\/"),l=l.replace(/\|/g,"\\p"),l=l.replace(/\n/g,"\\n"),l=l.replace(/\r/g,"\\r"),l=l.replace(/\t/g,"\\t"),l=l.replace(/\v/g,"\\v"),l=l.replace(/\f/g,"\\f"),l=l.replace(/ /g,"\\s"),l}function f(h){var l=String(h);return l=l.replace(/\\s/g," "),l=l.replace(/\\p/g,"|"),l=l.replace(/\\n/g,`
`),l=l.replace(/\\f/g,"\f"),l=l.replace(/\\r/g,"\r"),l=l.replace(/\\t/g,"	"),l=l.replace(/\\v/g,"\v"),l=l.replace(/\\\//g,"/"),l=l.replace(/\\\\/g,"\\"),l}function p(){!o&&s.length>=1&&(o=s.shift(),n.write(o.text+`
`))}function m(h){var l=[],g=h.split("|");return l=g.map(function(v){var w=v.split(" "),S={};return w.forEach(function(_){if(_.indexOf("=")>-1){var E=f(_.substr(0,_.indexOf("="))),T=f(_.substr(_.indexOf("=")+1));parseInt(T,10)==T&&(T=parseInt(T,10)),S[E]=T}else S[_]=""}),S}),l.length===0?l=null:l.length===1&&(l=l.shift()),l}Je.prototype.getPending=function(){return s.slice(0)},Je.prototype.clearPending=function(){var h=s;return s=[],h},Je.prototype.send=function(){var h=Array.prototype.slice.call(arguments),l=[],g={},v=void 0,w=h.shift();h.forEach(function(R){Xt.isArray(R)?l=R:typeof R=="function"?v=R:g=R});var S=u(w);l.forEach(function(R){S+=" -"+u(R)});for(var _ in g){var E=g[_];if(Xt.isArray(E)){var T=E.map(function(R){return u(_)+"="+u(R)});S+=" "+T.join("|")}else S+=" "+u(_.toString())+"="+u(E.toString())}s.push({cmd:w,options:l,parameters:g,text:S,cb:v}),a===0&&p()},Je.prototype.setTimeout=function(h){n.setTimeout(h||6e4,function(){n.destroy(),t.emit("timeout")})},n.on("error",function(h){t.emit("error",h)}),n.on("close",function(){t.emit("close",s)}),n.on("connect",function(){i=vf(n),i.on("line",function(h){var l=h.trim();if(a<0){a++,a===0&&p();return}var g=void 0;l.indexOf("error")===0?(g=m(l.substr(6).trim()),o.error=g,o.error.id===0&&delete o.error,o.cb&&o.cb.call(o,o.error,o.response,o.rawResponse),o=null,p()):l.indexOf("notify")===0?(l=l.substr(6),g=m(l),t.emit(l.substr(0,l.indexOf(" ")),g)):o&&(g=m(l),o.rawResponse=l,o.response=g)}),t.emit("connect")})}Xt.inherits(Je,Gi.EventEmitter);Ki.exports=Je});var Qi=c((nm,yf)=>{yf.exports={name:"dotenv",version:"16.4.5",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var nn=c((im,we)=>{var en=require("fs"),rn=require("path"),bf=require("os"),wf=require("crypto"),_f=Qi(),tn=_f.version,Ef=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function Sf(r){let e={},t=r.toString();t=t.replace(/\r\n?/mg,`
`);let n;for(;(n=Ef.exec(t))!=null;){let i=n[1],a=n[2]||"";a=a.trim();let s=a[0];a=a.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),s==='"'&&(a=a.replace(/\\n/g,`
`),a=a.replace(/\\r/g,"\r")),e[i]=a}return e}function xf(r){let e=ea(r),t=$.configDotenv({path:e});if(!t.parsed){let s=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw s.code="MISSING_DATA",s}let n=Xi(r).split(","),i=n.length,a;for(let s=0;s<i;s++)try{let o=n[s].trim(),u=Rf(t,o);a=$.decrypt(u.ciphertext,u.key);break}catch(o){if(s+1>=i)throw o}return $.parse(a)}function Mf(r){console.log(`[dotenv@${tn}][INFO] ${r}`)}function Of(r){console.log(`[dotenv@${tn}][WARN] ${r}`)}function zr(r){console.log(`[dotenv@${tn}][DEBUG] ${r}`)}function Xi(r){return r&&r.DOTENV_KEY&&r.DOTENV_KEY.length>0?r.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function Rf(r,e){let t;try{t=new URL(e)}catch(o){if(o.code==="ERR_INVALID_URL"){let u=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw u.code="INVALID_DOTENV_KEY",u}throw o}let n=t.password;if(!n){let o=new Error("INVALID_DOTENV_KEY: Missing key part");throw o.code="INVALID_DOTENV_KEY",o}let i=t.searchParams.get("environment");if(!i){let o=new Error("INVALID_DOTENV_KEY: Missing environment part");throw o.code="INVALID_DOTENV_KEY",o}let a=`DOTENV_VAULT_${i.toUpperCase()}`,s=r.parsed[a];if(!s){let o=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${a} in your .env.vault file.`);throw o.code="NOT_FOUND_DOTENV_ENVIRONMENT",o}return{ciphertext:s,key:n}}function ea(r){let e=null;if(r&&r.path&&r.path.length>0)if(Array.isArray(r.path))for(let t of r.path)en.existsSync(t)&&(e=t.endsWith(".vault")?t:`${t}.vault`);else e=r.path.endsWith(".vault")?r.path:`${r.path}.vault`;else e=rn.resolve(process.cwd(),".env.vault");return en.existsSync(e)?e:null}function Zi(r){return r[0]==="~"?rn.join(bf.homedir(),r.slice(1)):r}function Tf(r){Mf("Loading env from encrypted .env.vault");let e=$._parseVault(r),t=process.env;return r&&r.processEnv!=null&&(t=r.processEnv),$.populate(t,e,r),{parsed:e}}function qf(r){let e=rn.resolve(process.cwd(),".env"),t="utf8",n=!!(r&&r.debug);r&&r.encoding?t=r.encoding:n&&zr("No encoding is specified. UTF-8 is used by default");let i=[e];if(r&&r.path)if(!Array.isArray(r.path))i=[Zi(r.path)];else{i=[];for(let u of r.path)i.push(Zi(u))}let a,s={};for(let u of i)try{let f=$.parse(en.readFileSync(u,{encoding:t}));$.populate(s,f,r)}catch(f){n&&zr(`Failed to load ${u} ${f.message}`),a=f}let o=process.env;return r&&r.processEnv!=null&&(o=r.processEnv),$.populate(o,s,r),a?{parsed:s,error:a}:{parsed:s}}function Af(r){if(Xi(r).length===0)return $.configDotenv(r);let e=ea(r);return e?$._configVault(r):(Of(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),$.configDotenv(r))}function Lf(r,e){let t=Buffer.from(e.slice(-64),"hex"),n=Buffer.from(r,"base64"),i=n.subarray(0,12),a=n.subarray(-16);n=n.subarray(12,-16);try{let s=wf.createDecipheriv("aes-256-gcm",t,i);return s.setAuthTag(a),`${s.update(n)}${s.final()}`}catch(s){let o=s instanceof RangeError,u=s.message==="Invalid key length",f=s.message==="Unsupported state or unable to authenticate data";if(o||u){let p=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw p.code="INVALID_DOTENV_KEY",p}else if(f){let p=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw p.code="DECRYPTION_FAILED",p}else throw s}}function Nf(r,e,t={}){let n=!!(t&&t.debug),i=!!(t&&t.override);if(typeof e!="object"){let a=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw a.code="OBJECT_REQUIRED",a}for(let a of Object.keys(e))Object.prototype.hasOwnProperty.call(r,a)?(i===!0&&(r[a]=e[a]),n&&zr(i===!0?`"${a}" is already defined and WAS overwritten`:`"${a}" is already defined and was NOT overwritten`)):r[a]=e[a]}var $={configDotenv:qf,_configVault:Tf,_parseVault:xf,config:Af,decrypt:Lf,parse:Sf,populate:Nf};we.exports.configDotenv=$.configDotenv;we.exports._configVault=$._configVault;we.exports._parseVault=$._parseVault;we.exports.config=$.config;we.exports.decrypt=$.decrypt;we.exports.parse=$.parse;we.exports.populate=$.populate;we.exports=$});var ta=c((am,ra)=>{nn().config();ra.exports={baseURL:process.env.BASE_URL||"localhost",port:process.env.PORT||3e3,prefix:"/api",rateLimit:{windowMs:15*60*1e3,max:450},corsOptions:{origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204},teamspeak:{Host:process.env.TS_HOST||"127.0.0.1",QueryPort:process.env.TS_QUERY_PORT||10011,ServerPort:process.env.TS_SERVER_PORT||9987,Username:process.env.TS_USERNAME||"serveradmin",Password:process.env.TS_PASSWORD,Nickname:process.env.TS_NICKNAME||"serveradmin"}}});var J=c((sm,na)=>{"use strict";var an=class r extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,r)}};na.exports=r=>{if(r.length>2)throw new an(r);function e(n={}){this.options=n}e.prototype.transform=r;function t(n){return new e(n)}return t.Format=e,t}});var oa=c((om,sa)=>{var aa={};sa.exports=aa;var ia={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(ia).forEach(function(r){var e=ia[r],t=aa[r]=[];t.open="\x1B["+e[0]+"m",t.close="\x1B["+e[1]+"m"})});var la=c((um,ua)=>{"use strict";ua.exports=function(r,e){e=e||process.argv||[];var t=e.indexOf("--"),n=/^-{1,2}/.test(r)?"":"--",i=e.indexOf(n+r);return i!==-1&&(t===-1?!0:i<t)}});var ca=c((lm,fa)=>{"use strict";var Df=require("os"),ce=la(),H=process.env,Qe=void 0;ce("no-color")||ce("no-colors")||ce("color=false")?Qe=!1:(ce("color")||ce("colors")||ce("color=true")||ce("color=always"))&&(Qe=!0);"FORCE_COLOR"in H&&(Qe=H.FORCE_COLOR.length===0||parseInt(H.FORCE_COLOR,10)!==0);function Pf(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function kf(r){if(Qe===!1)return 0;if(ce("color=16m")||ce("color=full")||ce("color=truecolor"))return 3;if(ce("color=256"))return 2;if(r&&!r.isTTY&&Qe!==!0)return 0;var e=Qe?1:0;if(process.platform==="win32"){var t=Df.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in H)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in H})||H.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in H)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(H.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in H){var n=parseInt((H.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(H.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(H.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(H.TERM)||"COLORTERM"in H?1:(H.TERM==="dumb",e)}function sn(r){var e=kf(r);return Pf(e)}fa.exports={supportsColor:sn,stdout:sn(process.stdout),stderr:sn(process.stderr)}});var da=c((fm,ha)=>{ha.exports=function(e,t){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(a){a=a.toLowerCase();var s=i[a]||[" "],o=Math.floor(Math.random()*s.length);typeof i[a]<"u"?n+=i[a][o]:n+=a}),n}});var ga=c((cm,pa)=>{pa.exports=function(e,t){e=e||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(n.up,n.down,n.mid);function a(u){var f=Math.floor(Math.random()*u);return f}function s(u){var f=!1;return i.filter(function(p){f=p===u}),f}function o(u,f){var p="",m,h;f=f||{},f.up=typeof f.up<"u"?f.up:!0,f.mid=typeof f.mid<"u"?f.mid:!0,f.down=typeof f.down<"u"?f.down:!0,f.size=typeof f.size<"u"?f.size:"maxi",u=u.split("");for(h in u)if(!s(h)){switch(p=p+u[h],m={up:0,down:0,mid:0},f.size){case"mini":m.up=a(8),m.mid=a(2),m.down=a(8);break;case"maxi":m.up=a(16)+3,m.mid=a(4)+1,m.down=a(64)+3;break;default:m.up=a(8)+1,m.mid=a(6)/2,m.down=a(8)+1;break}var l=["up","mid","down"];for(var g in l)for(var v=l[g],w=0;w<=m[v];w++)f[v]&&(p=p+n[v][a(n[v].length)])}return p}return o(e,t)}});var va=c((hm,ma)=>{ma.exports=function(r){return function(e,t,n){if(e===" ")return e;switch(t%3){case 0:return r.red(e);case 1:return r.white(e);case 2:return r.blue(e)}}}});var ba=c((dm,ya)=>{ya.exports=function(r){return function(e,t,n){return t%2===0?e:r.inverse(e)}}});var _a=c((pm,wa)=>{wa.exports=function(r){var e=["red","yellow","green","blue","magenta"];return function(t,n,i){return t===" "?t:r[e[n++%e.length]](t)}}});var Sa=c((gm,Ea)=>{Ea.exports=function(r){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(t,n,i){return t===" "?t:r[e[Math.round(Math.random()*(e.length-2))]](t)}}});var qa=c((vm,Ta)=>{var O={};Ta.exports=O;O.themes={};var If=require("util"),Pe=O.styles=oa(),Ma=Object.defineProperties,jf=new RegExp(/[\r\n]+/g);O.supportsColor=ca().supportsColor;typeof O.enabled>"u"&&(O.enabled=O.supportsColor()!==!1);O.enable=function(){O.enabled=!0};O.disable=function(){O.enabled=!1};O.stripColors=O.strip=function(r){return(""+r).replace(/\x1B\[\d+m/g,"")};var mm=O.stylize=function(e,t){if(!O.enabled)return e+"";var n=Pe[t];return!n&&t in O?O[t](e):n.open+e+n.close},Cf=/[|\\{}()[\]^$+*?.]/g,$f=function(r){if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(Cf,"\\$&")};function Oa(r){var e=function t(){return Uf.apply(t,arguments)};return e._styles=r,e.__proto__=Ff,e}var Ra=function(){var r={};return Pe.grey=Pe.gray,Object.keys(Pe).forEach(function(e){Pe[e].closeRe=new RegExp($f(Pe[e].close),"g"),r[e]={get:function(){return Oa(this._styles.concat(e))}}}),r}(),Ff=Ma(function(){},Ra);function Uf(){var r=Array.prototype.slice.call(arguments),e=r.map(function(s){return s!=null&&s.constructor===String?s:If.inspect(s)}).join(" ");if(!O.enabled||!e)return e;for(var t=e.indexOf(`
`)!=-1,n=this._styles,i=n.length;i--;){var a=Pe[n[i]];e=a.open+e.replace(a.closeRe,a.open)+a.close,t&&(e=e.replace(jf,function(s){return a.close+s+a.open}))}return e}O.setTheme=function(r){if(typeof r=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in r)(function(t){O[t]=function(n){if(typeof r[t]=="object"){var i=n;for(var a in r[t])i=O[r[t][a]](i);return i}return O[r[t]](n)}})(e)};function Bf(){var r={};return Object.keys(Ra).forEach(function(e){r[e]={get:function(){return Oa([e])}}}),r}var zf=function(e,t){var n=t.split("");return n=n.map(e),n.join("")};O.trap=da();O.zalgo=ga();O.maps={};O.maps.america=va()(O);O.maps.zebra=ba()(O);O.maps.rainbow=_a()(O);O.maps.random=Sa()(O);for(xa in O.maps)(function(r){O[r]=function(e){return zf(O.maps[r],e)}})(xa);var xa;Ma(O,Bf())});var on=c((ym,Aa)=>{var Vf=qa();Aa.exports=Vf});var La=c(un=>{"use strict";un.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};un.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var Na=c(ln=>{"use strict";ln.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};ln.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var Da=c(fn=>{"use strict";fn.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};fn.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var Pa=c(Vr=>{"use strict";Object.defineProperty(Vr,"cli",{value:La()});Object.defineProperty(Vr,"npm",{value:Na()});Object.defineProperty(Vr,"syslog",{value:Da()})});var j=c(dr=>{"use strict";Object.defineProperty(dr,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(dr,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(dr,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(dr,"configs",{value:Pa()})});var Yr=c((xm,Wr)=>{"use strict";var dn=on(),{LEVEL:cn,MESSAGE:hn}=j();dn.enabled=!0;var ka=/\s+/,Hr=class r{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){let t=Object.keys(e).reduce((n,i)=>(n[i]=ka.test(e[i])?e[i].split(ka):e[i],n),{});return r.allColors=Object.assign({},r.allColors||{},t),r.allColors}addColors(e){return r.addColors(e)}colorize(e,t,n){if(typeof n>"u"&&(n=t),!Array.isArray(r.allColors[e]))return dn[r.allColors[e]](n);for(let i=0,a=r.allColors[e].length;i<a;i++)n=dn[r.allColors[e][i]](n);return n}transform(e,t){return t.all&&typeof e[hn]=="string"&&(e[hn]=this.colorize(e[cn],e.level,e[hn])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[cn],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[cn],e.level,e.message)),e}};Wr.exports=r=>new Hr(r);Wr.exports.Colorizer=Wr.exports.Format=Hr});var ja=c((Mm,Ia)=>{"use strict";var{Colorizer:Hf}=Yr();Ia.exports=r=>(Hf.addColors(r.colors||r),r)});var $a=c((Om,Ca)=>{"use strict";var Wf=J();Ca.exports=Wf(r=>(r.message=`	${r.message}`,r))});var Ba=c((Rm,Ua)=>{"use strict";var Yf=J(),{LEVEL:Fa,MESSAGE:pn}=j();Ua.exports=Yf((r,{stack:e,cause:t})=>{if(r instanceof Error){let i=Object.assign({},r,{level:r.level,[Fa]:r[Fa]||r.level,message:r.message,[pn]:r[pn]||r.message});return e&&(i.stack=r.stack),t&&(i.cause=r.cause),i}if(!(r.message instanceof Error))return r;let n=r.message;return Object.assign(r,n),r.message=n.message,r[pn]=n.message,e&&(r.stack=n.stack),t&&(r.cause=n.cause),r})});var mn=c((Tm,Kr)=>{"use strict";var{configs:Gf,LEVEL:za,MESSAGE:gn}=j(),Gr=class r{constructor(e={levels:Gf.npm.levels}){this.paddings=r.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){let t=Object.keys(e).map(n=>n.length);return Math.max(...t)}static paddingForLevel(e,t,n){let i=n+1-e.length,a=Math.floor(i/t.length);return`${t}${t.repeat(a)}`.slice(0,i)}static paddingForLevels(e,t=" "){let n=r.getLongestLevel(e);return Object.keys(e).reduce((i,a)=>(i[a]=r.paddingForLevel(a,t,n),i),{})}transform(e,t){return e.message=`${this.paddings[e[za]]}${e.message}`,e[gn]&&(e[gn]=`${this.paddings[e[za]]}${e[gn]}`),e}};Kr.exports=r=>new Gr(r);Kr.exports.Padder=Kr.exports.Format=Gr});var Va=c((qm,vn)=>{"use strict";var{Colorizer:Kf}=Yr(),{Padder:Jf}=mn(),{configs:Qf,MESSAGE:Zf}=j(),Jr=class{constructor(e={}){e.levels||(e.levels=Qf.cli.levels),this.colorizer=new Kf(e),this.padder=new Jf(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[Zf]=`${e.level}:${e.message}`,e}};vn.exports=r=>new Jr(r);vn.exports.Format=Jr});var Wa=c((Am,yn)=>{"use strict";var Xf=J();function Ha(r){if(r.every(ec))return e=>{let t=e;for(let n=0;n<r.length;n++)if(t=r[n].transform(t,r[n].options),!t)return!1;return t}}function ec(r){if(typeof r.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}yn.exports=(...r)=>{let e=Xf(Ha(r)),t=e();return t.Format=e.Format,t};yn.exports.cascade=Ha});var pr=c((En,Ja)=>{"use strict";var{hasOwnProperty:Qr}=Object.prototype,Ie=_n();Ie.configure=_n;Ie.stringify=Ie;Ie.default=Ie;En.stringify=Ie;En.configure=_n;Ja.exports=Ie;var rc=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function xe(r){return r.length<5e3&&!rc.test(r)?`"${r}"`:JSON.stringify(r)}function bn(r){if(r.length>200)return r.sort();for(let e=1;e<r.length;e++){let t=r[e],n=e;for(;n!==0&&r[n-1]>t;)r[n]=r[n-1],n--;r[n]=t}return r}var tc=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function wn(r){return tc.call(r)!==void 0&&r.length!==0}function Ya(r,e,t){r.length<t&&(t=r.length);let n=e===","?"":" ",i=`"0":${n}${r[0]}`;for(let a=1;a<t;a++)i+=`${e}"${a}":${n}${r[a]}`;return i}function nc(r){if(Qr.call(r,"circularValue")){let e=r.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function Ga(r,e){let t;if(Qr.call(r,e)&&(t=r[e],typeof t!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return t===void 0?!0:t}function Ka(r,e){let t;if(Qr.call(r,e)){if(t=r[e],typeof t!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(t))throw new TypeError(`The "${e}" argument must be an integer`);if(t<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return t===void 0?1/0:t}function ke(r){return r===1?"1 item":`${r} items`}function ic(r){let e=new Set;for(let t of r)(typeof t=="string"||typeof t=="number")&&e.add(String(t));return e}function ac(r){if(Qr.call(r,"strict")){let e=r.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return t=>{let n=`Object can not safely be stringified. Received type ${typeof t}`;throw typeof t!="function"&&(n+=` (${t.toString()})`),new Error(n)}}}function _n(r){r={...r};let e=ac(r);e&&(r.bigint===void 0&&(r.bigint=!1),"circularValue"in r||(r.circularValue=Error));let t=nc(r),n=Ga(r,"bigint"),i=Ga(r,"deterministic"),a=Ka(r,"maximumDepth"),s=Ka(r,"maximumBreadth");function o(h,l,g,v,w,S){let _=l[h];switch(typeof _=="object"&&_!==null&&typeof _.toJSON=="function"&&(_=_.toJSON(h)),_=v.call(l,h,_),typeof _){case"string":return xe(_);case"object":{if(_===null)return"null";if(g.indexOf(_)!==-1)return t;let E="",T=",",R=S;if(Array.isArray(_)){if(_.length===0)return"[]";if(a<g.length+1)return'"[Array]"';g.push(_),w!==""&&(S+=w,E+=`
${S}`,T=`,
${S}`);let C=Math.min(_.length,s),te=0;for(;te<C-1;te++){let Ne=o(String(te),_,g,v,w,S);E+=Ne!==void 0?Ne:"null",E+=T}let ne=o(String(te),_,g,v,w,S);if(E+=ne!==void 0?ne:"null",_.length-1>s){let Ne=_.length-s-1;E+=`${T}"... ${ke(Ne)} not stringified"`}return w!==""&&(E+=`
${R}`),g.pop(),`[${E}]`}let D=Object.keys(_),I=D.length;if(I===0)return"{}";if(a<g.length+1)return'"[Object]"';let A="",U="";w!==""&&(S+=w,T=`,
${S}`,A=" ");let re=Math.min(I,s);i&&!wn(_)&&(D=bn(D)),g.push(_);for(let C=0;C<re;C++){let te=D[C],ne=o(te,_,g,v,w,S);ne!==void 0&&(E+=`${U}${xe(te)}:${A}${ne}`,U=T)}if(I>s){let C=I-s;E+=`${U}"...":${A}"${ke(C)} not stringified"`,U=T}return w!==""&&U.length>1&&(E=`
${S}${E}
${R}`),g.pop(),`{${E}}`}case"number":return isFinite(_)?String(_):e?e(_):"null";case"boolean":return _===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(_);default:return e?e(_):void 0}}function u(h,l,g,v,w,S){switch(typeof l=="object"&&l!==null&&typeof l.toJSON=="function"&&(l=l.toJSON(h)),typeof l){case"string":return xe(l);case"object":{if(l===null)return"null";if(g.indexOf(l)!==-1)return t;let _=S,E="",T=",";if(Array.isArray(l)){if(l.length===0)return"[]";if(a<g.length+1)return'"[Array]"';g.push(l),w!==""&&(S+=w,E+=`
${S}`,T=`,
${S}`);let I=Math.min(l.length,s),A=0;for(;A<I-1;A++){let re=u(String(A),l[A],g,v,w,S);E+=re!==void 0?re:"null",E+=T}let U=u(String(A),l[A],g,v,w,S);if(E+=U!==void 0?U:"null",l.length-1>s){let re=l.length-s-1;E+=`${T}"... ${ke(re)} not stringified"`}return w!==""&&(E+=`
${_}`),g.pop(),`[${E}]`}g.push(l);let R="";w!==""&&(S+=w,T=`,
${S}`,R=" ");let D="";for(let I of v){let A=u(I,l[I],g,v,w,S);A!==void 0&&(E+=`${D}${xe(I)}:${R}${A}`,D=T)}return w!==""&&D.length>1&&(E=`
${S}${E}
${_}`),g.pop(),`{${E}}`}case"number":return isFinite(l)?String(l):e?e(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(l);default:return e?e(l):void 0}}function f(h,l,g,v,w){switch(typeof l){case"string":return xe(l);case"object":{if(l===null)return"null";if(typeof l.toJSON=="function"){if(l=l.toJSON(h),typeof l!="object")return f(h,l,g,v,w);if(l===null)return"null"}if(g.indexOf(l)!==-1)return t;let S=w;if(Array.isArray(l)){if(l.length===0)return"[]";if(a<g.length+1)return'"[Array]"';g.push(l),w+=v;let A=`
${w}`,U=`,
${w}`,re=Math.min(l.length,s),C=0;for(;C<re-1;C++){let ne=f(String(C),l[C],g,v,w);A+=ne!==void 0?ne:"null",A+=U}let te=f(String(C),l[C],g,v,w);if(A+=te!==void 0?te:"null",l.length-1>s){let ne=l.length-s-1;A+=`${U}"... ${ke(ne)} not stringified"`}return A+=`
${S}`,g.pop(),`[${A}]`}let _=Object.keys(l),E=_.length;if(E===0)return"{}";if(a<g.length+1)return'"[Object]"';w+=v;let T=`,
${w}`,R="",D="",I=Math.min(E,s);wn(l)&&(R+=Ya(l,T,s),_=_.slice(l.length),I-=l.length,D=T),i&&(_=bn(_)),g.push(l);for(let A=0;A<I;A++){let U=_[A],re=f(U,l[U],g,v,w);re!==void 0&&(R+=`${D}${xe(U)}: ${re}`,D=T)}if(E>s){let A=E-s;R+=`${D}"...": "${ke(A)} not stringified"`,D=T}return D!==""&&(R=`
${w}${R}
${S}`),g.pop(),`{${R}}`}case"number":return isFinite(l)?String(l):e?e(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(l);default:return e?e(l):void 0}}function p(h,l,g){switch(typeof l){case"string":return xe(l);case"object":{if(l===null)return"null";if(typeof l.toJSON=="function"){if(l=l.toJSON(h),typeof l!="object")return p(h,l,g);if(l===null)return"null"}if(g.indexOf(l)!==-1)return t;let v="";if(Array.isArray(l)){if(l.length===0)return"[]";if(a<g.length+1)return'"[Array]"';g.push(l);let T=Math.min(l.length,s),R=0;for(;R<T-1;R++){let I=p(String(R),l[R],g);v+=I!==void 0?I:"null",v+=","}let D=p(String(R),l[R],g);if(v+=D!==void 0?D:"null",l.length-1>s){let I=l.length-s-1;v+=`,"... ${ke(I)} not stringified"`}return g.pop(),`[${v}]`}let w=Object.keys(l),S=w.length;if(S===0)return"{}";if(a<g.length+1)return'"[Object]"';let _="",E=Math.min(S,s);wn(l)&&(v+=Ya(l,",",s),w=w.slice(l.length),E-=l.length,_=","),i&&(w=bn(w)),g.push(l);for(let T=0;T<E;T++){let R=w[T],D=p(R,l[R],g);D!==void 0&&(v+=`${_}${xe(R)}:${D}`,_=",")}if(S>s){let T=S-s;v+=`${_}"...":"${ke(T)} not stringified"`}return g.pop(),`{${v}}`}case"number":return isFinite(l)?String(l):e?e(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(l);default:return e?e(l):void 0}}function m(h,l,g){if(arguments.length>1){let v="";if(typeof g=="number"?v=" ".repeat(Math.min(g,10)):typeof g=="string"&&(v=g.slice(0,10)),l!=null){if(typeof l=="function")return o("",{"":h},[],l,v,"");if(Array.isArray(l))return u("",h,[],ic(l),v,"")}if(v.length!==0)return f("",h,[],v,"")}return p("",h,[])}return m}});var Sn=c((Lm,Qa)=>{"use strict";var sc=J(),{MESSAGE:oc}=j(),uc=pr();function lc(r,e){return typeof e=="bigint"?e.toString():e}Qa.exports=sc((r,e)=>{let t=uc.configure(e);return r[oc]=t(r,e.replacer||lc,e.space),r})});var Xa=c((Nm,Za)=>{"use strict";var fc=J();Za.exports=fc((r,e)=>e.message?(r.message=`[${e.label}] ${r.message}`,r):(r.label=e.label,r))});var rs=c((Dm,es)=>{"use strict";var cc=J(),{MESSAGE:hc}=j(),dc=pr();es.exports=cc(r=>{let e={};return r.message&&(e["@message"]=r.message,delete r.message),r.timestamp&&(e["@timestamp"]=r.timestamp,delete r.timestamp),e["@fields"]=r,r[hc]=dc(e),r})});var ns=c((Pm,ts)=>{"use strict";var pc=J();function gc(r,e,t){let n=e.reduce((a,s)=>(a[s]=r[s],delete r[s],a),{}),i=Object.keys(r).reduce((a,s)=>(a[s]=r[s],delete r[s],a),{});return Object.assign(r,n,{[t]:i}),r}function mc(r,e,t){return r[t]=e.reduce((n,i)=>(n[i]=r[i],delete r[i],n),{}),r}ts.exports=pc((r,e={})=>{let t="metadata";e.key&&(t=e.key);let n=[];return!e.fillExcept&&!e.fillWith&&(n.push("level"),n.push("message")),e.fillExcept&&(n=e.fillExcept),n.length>0?gc(r,n,t):e.fillWith?mc(r,e.fillWith,t):r})});var as=c((km,is)=>{var Ze=1e3,Xe=Ze*60,er=Xe*60,je=er*24,vc=je*7,yc=je*365.25;is.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return bc(r);if(t==="number"&&isFinite(r))return e.long?_c(r):wc(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function bc(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*yc;case"weeks":case"week":case"w":return t*vc;case"days":case"day":case"d":return t*je;case"hours":case"hour":case"hrs":case"hr":case"h":return t*er;case"minutes":case"minute":case"mins":case"min":case"m":return t*Xe;case"seconds":case"second":case"secs":case"sec":case"s":return t*Ze;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function wc(r){var e=Math.abs(r);return e>=je?Math.round(r/je)+"d":e>=er?Math.round(r/er)+"h":e>=Xe?Math.round(r/Xe)+"m":e>=Ze?Math.round(r/Ze)+"s":r+"ms"}function _c(r){var e=Math.abs(r);return e>=je?Zr(r,e,je,"day"):e>=er?Zr(r,e,er,"hour"):e>=Xe?Zr(r,e,Xe,"minute"):e>=Ze?Zr(r,e,Ze,"second"):r+" ms"}function Zr(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var os=c((gr,ss)=>{"use strict";var Ec=J(),Sc=as();ss.exports=Ec(r=>{let e=+new Date;return gr.diff=e-(gr.prevTime||e),gr.prevTime=e,r.ms=`+${Sc(gr.diff)}`,r})});var fs=c((Im,ls)=>{"use strict";var xc=require("util").inspect,Mc=J(),{LEVEL:Oc,MESSAGE:us,SPLAT:Rc}=j();ls.exports=Mc((r,e={})=>{let t=Object.assign({},r);return delete t[Oc],delete t[us],delete t[Rc],r[us]=xc(t,!1,e.depth||null,e.colorize),r})});var cs=c((jm,et)=>{"use strict";var{MESSAGE:Tc}=j(),Xr=class{constructor(e){this.template=e}transform(e){return e[Tc]=this.template(e),e}};et.exports=r=>new Xr(r);et.exports.Printf=et.exports.Format=Xr});var ps=c((Cm,ds)=>{"use strict";var qc=J(),{MESSAGE:hs}=j(),Ac=pr();ds.exports=qc(r=>{let e=Ac(Object.assign({},r,{level:void 0,message:void 0,splat:void 0})),t=r.padding&&r.padding[r.level]||"";return e!=="{}"?r[hs]=`${r.level}:${t} ${r.message} ${e}`:r[hs]=`${r.level}:${t} ${r.message}`,r})});var vs=c(($m,ms)=>{"use strict";var Lc=require("util"),{SPLAT:gs}=j(),Nc=/%[scdjifoO%]/g,Dc=/%%/g,xn=class{constructor(e){this.options=e}_splat(e,t){let n=e.message,i=e[gs]||e.splat||[],a=n.match(Dc),s=a&&a.length||0,u=t.length-s-i.length,f=u<0?i.splice(u,-1*u):[],p=f.length;if(p)for(let m=0;m<p;m++)Object.assign(e,f[m]);return e.message=Lc.format(n,...i),e}transform(e){let t=e.message,n=e[gs]||e.splat;if(!n||!n.length)return e;let i=t&&t.match&&t.match(Nc);if(!i&&(n||n.length)){let a=n.length>1?n.splice(0):n,s=a.length;if(s)for(let o=0;o<s;o++)Object.assign(e,a[o]);return e}return i?this._splat(e,i):e}};ms.exports=r=>new xn(r)});var bs=c((rt,ys)=>{(function(r,e){typeof rt=="object"&&typeof ys<"u"?e(rt):typeof define=="function"&&define.amd?define(["exports"],e):e(r.fecha={})})(rt,function(r){"use strict";var e=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,t="\\d\\d?",n="\\d\\d",i="\\d{3}",a="\\d{4}",s="[^\\s]+",o=/\[([^]*?)\]/gm;function u(d,y){for(var N=[],G=0,x=d.length;G<x;G++)N.push(d[G].substr(0,y));return N}var f=function(d){return function(y,N){var G=N[d].map(function(pe){return pe.toLowerCase()}),x=G.indexOf(y.toLowerCase());return x>-1?x:null}};function p(d){for(var y=[],N=1;N<arguments.length;N++)y[N-1]=arguments[N];for(var G=0,x=y;G<x.length;G++){var pe=x[G];for(var De in pe)d[De]=pe[De]}return d}var m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],l=u(h,3),g=u(m,3),v={dayNamesShort:g,dayNames:m,monthNamesShort:l,monthNames:h,amPm:["am","pm"],DoFn:function(d){return d+["th","st","nd","rd"][d%10>3?0:(d-d%10!==10?1:0)*d%10]}},w=p({},v),S=function(d){return w=p(w,d)},_=function(d){return d.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},E=function(d,y){for(y===void 0&&(y=2),d=String(d);d.length<y;)d="0"+d;return d},T={D:function(d){return String(d.getDate())},DD:function(d){return E(d.getDate())},Do:function(d,y){return y.DoFn(d.getDate())},d:function(d){return String(d.getDay())},dd:function(d){return E(d.getDay())},ddd:function(d,y){return y.dayNamesShort[d.getDay()]},dddd:function(d,y){return y.dayNames[d.getDay()]},M:function(d){return String(d.getMonth()+1)},MM:function(d){return E(d.getMonth()+1)},MMM:function(d,y){return y.monthNamesShort[d.getMonth()]},MMMM:function(d,y){return y.monthNames[d.getMonth()]},YY:function(d){return E(String(d.getFullYear()),4).substr(2)},YYYY:function(d){return E(d.getFullYear(),4)},h:function(d){return String(d.getHours()%12||12)},hh:function(d){return E(d.getHours()%12||12)},H:function(d){return String(d.getHours())},HH:function(d){return E(d.getHours())},m:function(d){return String(d.getMinutes())},mm:function(d){return E(d.getMinutes())},s:function(d){return String(d.getSeconds())},ss:function(d){return E(d.getSeconds())},S:function(d){return String(Math.round(d.getMilliseconds()/100))},SS:function(d){return E(Math.round(d.getMilliseconds()/10),2)},SSS:function(d){return E(d.getMilliseconds(),3)},a:function(d,y){return d.getHours()<12?y.amPm[0]:y.amPm[1]},A:function(d,y){return d.getHours()<12?y.amPm[0].toUpperCase():y.amPm[1].toUpperCase()},ZZ:function(d){var y=d.getTimezoneOffset();return(y>0?"-":"+")+E(Math.floor(Math.abs(y)/60)*100+Math.abs(y)%60,4)},Z:function(d){var y=d.getTimezoneOffset();return(y>0?"-":"+")+E(Math.floor(Math.abs(y)/60),2)+":"+E(Math.abs(y)%60,2)}},R=function(d){return+d-1},D=[null,t],I=[null,s],A=["isPm",s,function(d,y){var N=d.toLowerCase();return N===y.amPm[0]?0:N===y.amPm[1]?1:null}],U=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(d){var y=(d+"").match(/([+-]|\d\d)/gi);if(y){var N=+y[1]*60+parseInt(y[2],10);return y[0]==="+"?N:-N}return 0}],re={D:["day",t],DD:["day",n],Do:["day",t+s,function(d){return parseInt(d,10)}],M:["month",t,R],MM:["month",n,R],YY:["year",n,function(d){var y=new Date,N=+(""+y.getFullYear()).substr(0,2);return+(""+(+d>68?N-1:N)+d)}],h:["hour",t,void 0,"isPm"],hh:["hour",n,void 0,"isPm"],H:["hour",t],HH:["hour",n],m:["minute",t],mm:["minute",n],s:["second",t],ss:["second",n],YYYY:["year",a],S:["millisecond","\\d",function(d){return+d*100}],SS:["millisecond",n,function(d){return+d*10}],SSS:["millisecond",i],d:D,dd:D,ddd:I,dddd:I,MMM:["month",s,f("monthNamesShort")],MMMM:["month",s,f("monthNames")],a:A,A,ZZ:U,Z:U},C={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},te=function(d){return p(C,d)},ne=function(d,y,N){if(y===void 0&&(y=C.default),N===void 0&&(N={}),typeof d=="number"&&(d=new Date(d)),Object.prototype.toString.call(d)!=="[object Date]"||isNaN(d.getTime()))throw new Error("Invalid Date pass to format");y=C[y]||y;var G=[];y=y.replace(o,function(pe,De){return G.push(De),"@@@"});var x=p(p({},w),N);return y=y.replace(e,function(pe){return T[pe](d,x)}),y.replace(/@@@/g,function(){return G.shift()})};function Ne(d,y,N){if(N===void 0&&(N={}),typeof y!="string")throw new Error("Invalid format in fecha parse");if(y=C[y]||y,d.length>1e3)return null;var G=new Date,x={year:G.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},pe=[],De=[],cr=y.replace(o,function(hr,Ge){return De.push(_(Ge)),"@@@"}),$r={},Fi={};cr=_(cr).replace(e,function(hr){var Ge=re[hr],Qt=Ge[0],pf=Ge[1],Vi=Ge[3];if($r[Qt])throw new Error("Invalid format. "+Qt+" specified twice in format");return $r[Qt]=!0,Vi&&(Fi[Vi]=!0),pe.push(Ge),"("+pf+")"}),Object.keys(Fi).forEach(function(hr){if(!$r[hr])throw new Error("Invalid format. "+hr+" is required in specified format")}),cr=cr.replace(/@@@/g,function(){return De.shift()});var Fr=d.match(new RegExp(cr,"i"));if(!Fr)return null;for(var cf=p(p({},w),N),fe=1;fe<Fr.length;fe++){var Ui=pe[fe-1],hf=Ui[0],Bi=Ui[2],zi=Bi?Bi(Fr[fe],cf):+Fr[fe];if(zi==null)return null;x[hf]=zi}x.isPm===1&&x.hour!=null&&+x.hour!=12?x.hour=+x.hour+12:x.isPm===0&&+x.hour==12&&(x.hour=0);var Ur;if(x.timezoneOffset==null){Ur=new Date(x.year,x.month,x.day,x.hour,x.minute,x.second,x.millisecond);for(var Br=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],fe=0,df=Br.length;fe<df;fe++)if($r[Br[fe][0]]&&x[Br[fe][0]]!==Ur[Br[fe][1]]())return null}else if(Ur=new Date(Date.UTC(x.year,x.month,x.day,x.hour,x.minute-x.timezoneOffset,x.second,x.millisecond)),x.month>11||x.month<0||x.day>31||x.day<1||x.hour>23||x.hour<0||x.minute>59||x.minute<0||x.second>59||x.second<0)return null;return Ur}var ff={format:ne,parse:Ne,defaultI18n:v,setGlobalDateI18n:S,setGlobalDateMasks:te};r.assign=p,r.default=ff,r.format=ne,r.parse=Ne,r.defaultI18n=v,r.setGlobalDateI18n=S,r.setGlobalDateMasks=te,Object.defineProperty(r,"__esModule",{value:!0})})});var _s=c((Fm,ws)=>{"use strict";var Pc=bs(),kc=J();ws.exports=kc((r,e={})=>(e.format&&(r.timestamp=typeof e.format=="function"?e.format():Pc.format(new Date,e.format)),r.timestamp||(r.timestamp=new Date().toISOString()),e.alias&&(r[e.alias]=r.timestamp),r))});var Ss=c((Um,Es)=>{"use strict";var Mn=on(),Ic=J(),{MESSAGE:On}=j();Es.exports=Ic((r,e)=>(e.level!==!1&&(r.level=Mn.strip(r.level)),e.message!==!1&&(r.message=Mn.strip(String(r.message))),e.raw!==!1&&r[On]&&(r[On]=Mn.strip(String(r[On]))),r))});var Tn=c(Rn=>{"use strict";var jc=Rn.format=J();Rn.levels=ja();function z(r,e){Object.defineProperty(jc,r,{get(){return e()},configurable:!0})}z("align",function(){return $a()});z("errors",function(){return Ba()});z("cli",function(){return Va()});z("combine",function(){return Wa()});z("colorize",function(){return Yr()});z("json",function(){return Sn()});z("label",function(){return Xa()});z("logstash",function(){return rs()});z("metadata",function(){return ns()});z("ms",function(){return os()});z("padLevels",function(){return mn()});z("prettyPrint",function(){return fs()});z("printf",function(){return cs()});z("simple",function(){return ps()});z("splat",function(){return vs()});z("timestamp",function(){return _s()});z("uncolorize",function(){return Ss()})});var qn=c(tt=>{"use strict";var{format:xs}=require("util");tt.warn={deprecated(r){return()=>{throw new Error(xs("{ %s } was removed in winston@3.0.0.",r))}},useFormat(r){return()=>{throw new Error([xs("{ %s } was removed in winston@3.0.0.",r),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(r,e,t){t.forEach(n=>{r[n]=tt.warn[e](n)})},forProperties(r,e,t){t.forEach(n=>{let i=tt.warn[e](n);Object.defineProperty(r,n,{get:i,set:i})})}}});var Ms=c((Vm,Cc)=>{Cc.exports={name:"winston",description:"A logger for just about everything.",version:"3.13.1",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.6.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.7.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^15.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var Rs=c((Hm,Os)=>{Os.exports=require("util").deprecate});var An=c((Wm,Ts)=>{Ts.exports=require("stream")});var Nn=c((Ym,As)=>{"use strict";function $c(r,e){var t=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Ln,this,r)):process.nextTick(Ln,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(a){!e&&a?t._writableState?t._writableState.errorEmitted?process.nextTick(nt,t):(t._writableState.errorEmitted=!0,process.nextTick(qs,t,a)):process.nextTick(qs,t,a):e?(process.nextTick(nt,t),e(a)):process.nextTick(nt,t)}),this)}function qs(r,e){Ln(r,e),nt(r)}function nt(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function Fc(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ln(r,e){r.emit("error",e)}function Uc(r,e){var t=r._readableState,n=r._writableState;t&&t.autoDestroy||n&&n.autoDestroy?r.destroy(e):r.emit("error",e)}As.exports={destroy:$c,undestroy:Fc,errorOrDestroy:Uc}});var Me=c((Gm,Ds)=>{"use strict";var Ns={};function se(r,e,t){t||(t=Error);function n(a,s,o){return typeof e=="string"?e:e(a,s,o)}class i extends t{constructor(s,o,u){super(n(s,o,u))}}i.prototype.name=t.name,i.prototype.code=r,Ns[r]=i}function Ls(r,e){if(Array.isArray(r)){let t=r.length;return r=r.map(n=>String(n)),t>2?`one of ${e} ${r.slice(0,t-1).join(", ")}, or `+r[t-1]:t===2?`one of ${e} ${r[0]} or ${r[1]}`:`of ${e} ${r[0]}`}else return`of ${e} ${String(r)}`}function Bc(r,e,t){return r.substr(!t||t<0?0:+t,e.length)===e}function zc(r,e,t){return(t===void 0||t>r.length)&&(t=r.length),r.substring(t-e.length,t)===e}function Vc(r,e,t){return typeof t!="number"&&(t=0),t+e.length>r.length?!1:r.indexOf(e,t)!==-1}se("ERR_INVALID_OPT_VALUE",function(r,e){return'The value "'+e+'" is invalid for option "'+r+'"'},TypeError);se("ERR_INVALID_ARG_TYPE",function(r,e,t){let n;typeof e=="string"&&Bc(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(zc(r," argument"))i=`The ${r} ${n} ${Ls(e,"type")}`;else{let a=Vc(r,".")?"property":"argument";i=`The "${r}" ${a} ${n} ${Ls(e,"type")}`}return i+=`. Received type ${typeof t}`,i},TypeError);se("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");se("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"});se("ERR_STREAM_PREMATURE_CLOSE","Premature close");se("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"});se("ERR_MULTIPLE_CALLBACK","Callback called multiple times");se("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");se("ERR_STREAM_WRITE_AFTER_END","write after end");se("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);se("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError);se("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ds.exports.codes=Ns});var Dn=c((Km,Ps)=>{"use strict";var Hc=Me().codes.ERR_INVALID_OPT_VALUE;function Wc(r,e,t){return r.highWaterMark!=null?r.highWaterMark:e?r[t]:null}function Yc(r,e,t,n){var i=Wc(e,n,t);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?t:"highWaterMark";throw new Hc(a,i)}return Math.floor(i)}return r.objectMode?16:16*1024}Ps.exports={getHighWaterMark:Yc}});var ks=c((Jm,Pn)=>{typeof Object.create=="function"?Pn.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Pn.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}});var rr=c((Qm,In)=>{try{if(kn=require("util"),typeof kn.inherits!="function")throw"";In.exports=kn.inherits}catch{In.exports=ks()}var kn});var Us=c((Zm,Fs)=>{"use strict";function Is(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function js(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Is(Object(t),!0).forEach(function(n){Gc(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Is(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Gc(r,e,t){return e=$s(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Kc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Cs(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,$s(n.key),n)}}function Jc(r,e,t){return e&&Cs(r.prototype,e),t&&Cs(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function $s(r){var e=Qc(r,"string");return typeof e=="symbol"?e:String(e)}function Qc(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Zc=require("buffer"),it=Zc.Buffer,Xc=require("util"),jn=Xc.inspect,eh=jn&&jn.custom||"inspect";function rh(r,e,t){it.prototype.copy.call(r,e,t)}Fs.exports=function(){function r(){Kc(this,r),this.head=null,this.tail=null,this.length=0}return Jc(r,[{key:"push",value:function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(t){var n={data:t,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=t+n.data;return i}},{key:"concat",value:function(t){if(this.length===0)return it.alloc(0);for(var n=it.allocUnsafe(t>>>0),i=this.head,a=0;i;)rh(i.data,n,a),a+=i.data.length,i=i.next;return n}},{key:"consume",value:function(t,n){var i;return t<this.head.data.length?(i=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):t===this.head.data.length?i=this.shift():i=n?this._getString(t):this._getBuffer(t),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var n=this.head,i=1,a=n.data;for(t-=a.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(o===s.length?a+=s:a+=s.slice(0,t),t-=o,t===0){o===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(o));break}++i}return this.length-=i,a}},{key:"_getBuffer",value:function(t){var n=it.allocUnsafe(t),i=this.head,a=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(s.copy(n,n.length-t,0,o),t-=o,t===0){o===s.length?(++a,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(o));break}++a}return this.length-=a,n}},{key:eh,value:function(t,n){return jn(this,js(js({},n),{},{depth:0,customInspect:!1}))}}]),r}()});var Vs=c((Cn,zs)=>{var at=require("buffer"),ge=at.Buffer;function Bs(r,e){for(var t in r)e[t]=r[t]}ge.from&&ge.alloc&&ge.allocUnsafe&&ge.allocUnsafeSlow?zs.exports=at:(Bs(at,Cn),Cn.Buffer=Ce);function Ce(r,e,t){return ge(r,e,t)}Ce.prototype=Object.create(ge.prototype);Bs(ge,Ce);Ce.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return ge(r,e,t)};Ce.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=ge(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};Ce.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return ge(r)};Ce.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return at.SlowBuffer(r)}});var Un=c(Ws=>{"use strict";var Fn=Vs().Buffer,Hs=Fn.isEncoding||function(r){switch(r=""+r,r&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function th(r){if(!r)return"utf8";for(var e;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(e)return;r=(""+r).toLowerCase(),e=!0}}function nh(r){var e=th(r);if(typeof e!="string"&&(Fn.isEncoding===Hs||!Hs(r)))throw new Error("Unknown encoding: "+r);return e||r}Ws.StringDecoder=mr;function mr(r){this.encoding=nh(r);var e;switch(this.encoding){case"utf16le":this.text=lh,this.end=fh,e=4;break;case"utf8":this.fillLast=sh,e=4;break;case"base64":this.text=ch,this.end=hh,e=3;break;default:this.write=dh,this.end=ph;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Fn.allocUnsafe(e)}mr.prototype.write=function(r){if(r.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(r),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<r.length?e?e+this.text(r,t):this.text(r,t):e||""};mr.prototype.end=uh;mr.prototype.text=oh;mr.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length};function $n(r){return r<=127?0:r>>5===6?2:r>>4===14?3:r>>3===30?4:r>>6===2?-1:-2}function ih(r,e,t){var n=e.length-1;if(n<t)return 0;var i=$n(e[n]);return i>=0?(i>0&&(r.lastNeed=i-1),i):--n<t||i===-2?0:(i=$n(e[n]),i>=0?(i>0&&(r.lastNeed=i-2),i):--n<t||i===-2?0:(i=$n(e[n]),i>=0?(i>0&&(i===2?i=0:r.lastNeed=i-3),i):0))}function ah(r,e,t){if((e[0]&192)!==128)return r.lastNeed=0,"\uFFFD";if(r.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return r.lastNeed=1,"\uFFFD";if(r.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return r.lastNeed=2,"\uFFFD"}}function sh(r){var e=this.lastTotal-this.lastNeed,t=ah(this,r,e);if(t!==void 0)return t;if(this.lastNeed<=r.length)return r.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,e,0,r.length),this.lastNeed-=r.length}function oh(r,e){var t=ih(this,r,e);if(!this.lastNeed)return r.toString("utf8",e);this.lastTotal=t;var n=r.length-(t-this.lastNeed);return r.copy(this.lastChar,0,n),r.toString("utf8",e,n)}function uh(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+"\uFFFD":e}function lh(r,e){if((r.length-e)%2===0){var t=r.toString("utf16le",e);if(t){var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",e,r.length-1)}function fh(r){var e=r&&r.length?this.write(r):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function ch(r,e){var t=(r.length-e)%3;return t===0?r.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",e,r.length-t))}function hh(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function dh(r){return r.toString(this.encoding)}function ph(r){return r&&r.length?this.write(r):""}});var st=c((ev,Ks)=>{"use strict";var Ys=Me().codes.ERR_STREAM_PREMATURE_CLOSE;function gh(r){var e=!1;return function(){if(!e){e=!0;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r.apply(this,n)}}}function mh(){}function vh(r){return r.setHeader&&typeof r.abort=="function"}function Gs(r,e,t){if(typeof e=="function")return Gs(r,null,e);e||(e={}),t=gh(t||mh);var n=e.readable||e.readable!==!1&&r.readable,i=e.writable||e.writable!==!1&&r.writable,a=function(){r.writable||o()},s=r._writableState&&r._writableState.finished,o=function(){i=!1,s=!0,n||t.call(r)},u=r._readableState&&r._readableState.endEmitted,f=function(){n=!1,u=!0,i||t.call(r)},p=function(g){t.call(r,g)},m=function(){var g;if(n&&!u)return(!r._readableState||!r._readableState.ended)&&(g=new Ys),t.call(r,g);if(i&&!s)return(!r._writableState||!r._writableState.ended)&&(g=new Ys),t.call(r,g)},h=function(){r.req.on("finish",o)};return vh(r)?(r.on("complete",o),r.on("abort",m),r.req?h():r.on("request",h)):i&&!r._writableState&&(r.on("end",a),r.on("close",a)),r.on("end",f),r.on("finish",o),e.error!==!1&&r.on("error",p),r.on("close",m),function(){r.removeListener("complete",o),r.removeListener("abort",m),r.removeListener("request",h),r.req&&r.req.removeListener("finish",o),r.removeListener("end",a),r.removeListener("close",a),r.removeListener("finish",o),r.removeListener("end",f),r.removeListener("error",p),r.removeListener("close",m)}}Ks.exports=Gs});var Qs=c((rv,Js)=>{"use strict";var ot;function Oe(r,e,t){return e=yh(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yh(r){var e=bh(r,"string");return typeof e=="symbol"?e:String(e)}function bh(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var wh=st(),Re=Symbol("lastResolve"),$e=Symbol("lastReject"),vr=Symbol("error"),ut=Symbol("ended"),Fe=Symbol("lastPromise"),Bn=Symbol("handlePromise"),Ue=Symbol("stream");function Te(r,e){return{value:r,done:e}}function _h(r){var e=r[Re];if(e!==null){var t=r[Ue].read();t!==null&&(r[Fe]=null,r[Re]=null,r[$e]=null,e(Te(t,!1)))}}function Eh(r){process.nextTick(_h,r)}function Sh(r,e){return function(t,n){r.then(function(){if(e[ut]){t(Te(void 0,!0));return}e[Bn](t,n)},n)}}var xh=Object.getPrototypeOf(function(){}),Mh=Object.setPrototypeOf((ot={get stream(){return this[Ue]},next:function(){var e=this,t=this[vr];if(t!==null)return Promise.reject(t);if(this[ut])return Promise.resolve(Te(void 0,!0));if(this[Ue].destroyed)return new Promise(function(s,o){process.nextTick(function(){e[vr]?o(e[vr]):s(Te(void 0,!0))})});var n=this[Fe],i;if(n)i=new Promise(Sh(n,this));else{var a=this[Ue].read();if(a!==null)return Promise.resolve(Te(a,!1));i=new Promise(this[Bn])}return this[Fe]=i,i}},Oe(ot,Symbol.asyncIterator,function(){return this}),Oe(ot,"return",function(){var e=this;return new Promise(function(t,n){e[Ue].destroy(null,function(i){if(i){n(i);return}t(Te(void 0,!0))})})}),ot),xh),Oh=function(e){var t,n=Object.create(Mh,(t={},Oe(t,Ue,{value:e,writable:!0}),Oe(t,Re,{value:null,writable:!0}),Oe(t,$e,{value:null,writable:!0}),Oe(t,vr,{value:null,writable:!0}),Oe(t,ut,{value:e._readableState.endEmitted,writable:!0}),Oe(t,Bn,{value:function(a,s){var o=n[Ue].read();o?(n[Fe]=null,n[Re]=null,n[$e]=null,a(Te(o,!1))):(n[Re]=a,n[$e]=s)},writable:!0}),t));return n[Fe]=null,wh(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=n[$e];a!==null&&(n[Fe]=null,n[Re]=null,n[$e]=null,a(i)),n[vr]=i;return}var s=n[Re];s!==null&&(n[Fe]=null,n[Re]=null,n[$e]=null,s(Te(void 0,!0))),n[ut]=!0}),e.on("readable",Eh.bind(null,n)),n};Js.exports=Oh});var ro=c((tv,eo)=>{"use strict";function Zs(r,e,t,n,i,a,s){try{var o=r[a](s),u=o.value}catch(f){t(f);return}o.done?e(u):Promise.resolve(u).then(n,i)}function Rh(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var a=r.apply(e,t);function s(u){Zs(a,n,i,s,o,"next",u)}function o(u){Zs(a,n,i,s,o,"throw",u)}s(void 0)})}}function Xs(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Th(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xs(Object(t),!0).forEach(function(n){qh(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xs(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qh(r,e,t){return e=Ah(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ah(r){var e=Lh(r,"string");return typeof e=="symbol"?e:String(e)}function Lh(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Nh=Me().codes.ERR_INVALID_ARG_TYPE;function Dh(r,e,t){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new Nh("iterable",["Iterable"],e);var i=new r(Th({objectMode:!0},t)),a=!1;i._read=function(){a||(a=!0,s())};function s(){return o.apply(this,arguments)}function o(){return o=Rh(function*(){try{var u=yield n.next(),f=u.value,p=u.done;p?i.push(null):i.push(yield f)?s():a=!1}catch(m){i.destroy(m)}}),o.apply(this,arguments)}return i}eo.exports=Dh});var Zn=c((iv,co)=>{"use strict";co.exports=q;var tr;q.ReadableState=ao;var nv=require("events").EventEmitter,io=function(e,t){return e.listeners(t).length},br=An(),lt=require("buffer").Buffer,Ph=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function kh(r){return lt.from(r)}function Ih(r){return lt.isBuffer(r)||r instanceof Ph}var zn=require("util"),M;zn&&zn.debuglog?M=zn.debuglog("stream"):M=function(){};var jh=Us(),Jn=Nn(),Ch=Dn(),$h=Ch.getHighWaterMark,ft=Me().codes,Fh=ft.ERR_INVALID_ARG_TYPE,Uh=ft.ERR_STREAM_PUSH_AFTER_EOF,Bh=ft.ERR_METHOD_NOT_IMPLEMENTED,zh=ft.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,nr,Vn,Hn;rr()(q,br);var yr=Jn.errorOrDestroy,Wn=["error","close","destroy","pause","resume"];function Vh(r,e,t){if(typeof r.prependListener=="function")return r.prependListener(e,t);!r._events||!r._events[e]?r.on(e,t):Array.isArray(r._events[e])?r._events[e].unshift(t):r._events[e]=[t,r._events[e]]}function ao(r,e,t){tr=tr||Be(),r=r||{},typeof t!="boolean"&&(t=e instanceof tr),this.objectMode=!!r.objectMode,t&&(this.objectMode=this.objectMode||!!r.readableObjectMode),this.highWaterMark=$h(this,r,"readableHighWaterMark",t),this.buffer=new jh,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.destroyed=!1,this.defaultEncoding=r.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,r.encoding&&(nr||(nr=Un().StringDecoder),this.decoder=new nr(r.encoding),this.encoding=r.encoding)}function q(r){if(tr=tr||Be(),!(this instanceof q))return new q(r);var e=this instanceof tr;this._readableState=new ao(r,this,e),this.readable=!0,r&&(typeof r.read=="function"&&(this._read=r.read),typeof r.destroy=="function"&&(this._destroy=r.destroy)),br.call(this)}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});q.prototype.destroy=Jn.destroy;q.prototype._undestroy=Jn.undestroy;q.prototype._destroy=function(r,e){e(r)};q.prototype.push=function(r,e){var t=this._readableState,n;return t.objectMode?n=!0:typeof r=="string"&&(e=e||t.defaultEncoding,e!==t.encoding&&(r=lt.from(r,e),e=""),n=!0),so(this,r,e,!1,n)};q.prototype.unshift=function(r){return so(this,r,null,!0,!1)};function so(r,e,t,n,i){M("readableAddChunk",e);var a=r._readableState;if(e===null)a.reading=!1,Yh(r,a);else{var s;if(i||(s=Hh(a,e)),s)yr(r,s);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==lt.prototype&&(e=kh(e)),n)a.endEmitted?yr(r,new zh):Yn(r,a,e,!0);else if(a.ended)yr(r,new Uh);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!t?(e=a.decoder.write(e),a.objectMode||e.length!==0?Yn(r,a,e,!1):Kn(r,a)):Yn(r,a,e,!1)}else n||(a.reading=!1,Kn(r,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function Yn(r,e,t,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,r.emit("data",t)):(e.length+=e.objectMode?1:t.length,n?e.buffer.unshift(t):e.buffer.push(t),e.needReadable&&ct(r)),Kn(r,e)}function Hh(r,e){var t;return!Ih(e)&&typeof e!="string"&&e!==void 0&&!r.objectMode&&(t=new Fh("chunk",["string","Buffer","Uint8Array"],e)),t}q.prototype.isPaused=function(){return this._readableState.flowing===!1};q.prototype.setEncoding=function(r){nr||(nr=Un().StringDecoder);var e=new nr(r);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var t=this._readableState.buffer.head,n="";t!==null;)n+=e.write(t.data),t=t.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var to=1073741824;function Wh(r){return r>=to?r=to:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r}function no(r,e){return r<=0||e.length===0&&e.ended?0:e.objectMode?1:r!==r?e.flowing&&e.length?e.buffer.head.data.length:e.length:(r>e.highWaterMark&&(e.highWaterMark=Wh(r)),r<=e.length?r:e.ended?e.length:(e.needReadable=!0,0))}q.prototype.read=function(r){M("read",r),r=parseInt(r,10);var e=this._readableState,t=r;if(r!==0&&(e.emittedReadable=!1),r===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return M("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Gn(this):ct(this),null;if(r=no(r,e),r===0&&e.ended)return e.length===0&&Gn(this),null;var n=e.needReadable;M("need readable",n),(e.length===0||e.length-r<e.highWaterMark)&&(n=!0,M("length less than watermark",n)),e.ended||e.reading?(n=!1,M("reading or ended",n)):n&&(M("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(r=no(t,e)));var i;return r>0?i=lo(r,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,r=0):(e.length-=r,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),t!==r&&e.ended&&Gn(this)),i!==null&&this.emit("data",i),i};function Yh(r,e){if(M("onEofChunk"),!e.ended){if(e.decoder){var t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?ct(r):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,oo(r)))}}function ct(r){var e=r._readableState;M("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(M("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(oo,r))}function oo(r){var e=r._readableState;M("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(r.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Qn(r)}function Kn(r,e){e.readingMore||(e.readingMore=!0,process.nextTick(Gh,r,e))}function Gh(r,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var t=e.length;if(M("maybeReadMore read 0"),r.read(0),t===e.length)break}e.readingMore=!1}q.prototype._read=function(r){yr(this,new Bh("_read()"))};q.prototype.pipe=function(r,e){var t=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=r;break;case 1:n.pipes=[n.pipes,r];break;default:n.pipes.push(r);break}n.pipesCount+=1,M("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&r!==process.stdout&&r!==process.stderr,a=i?o:v;n.endEmitted?process.nextTick(a):t.once("end",a),r.on("unpipe",s);function s(w,S){M("onunpipe"),w===t&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,p())}function o(){M("onend"),r.end()}var u=Kh(t);r.on("drain",u);var f=!1;function p(){M("cleanup"),r.removeListener("close",l),r.removeListener("finish",g),r.removeListener("drain",u),r.removeListener("error",h),r.removeListener("unpipe",s),t.removeListener("end",o),t.removeListener("end",v),t.removeListener("data",m),f=!0,n.awaitDrain&&(!r._writableState||r._writableState.needDrain)&&u()}t.on("data",m);function m(w){M("ondata");var S=r.write(w);M("dest.write",S),S===!1&&((n.pipesCount===1&&n.pipes===r||n.pipesCount>1&&fo(n.pipes,r)!==-1)&&!f&&(M("false write response, pause",n.awaitDrain),n.awaitDrain++),t.pause())}function h(w){M("onerror",w),v(),r.removeListener("error",h),io(r,"error")===0&&yr(r,w)}Vh(r,"error",h);function l(){r.removeListener("finish",g),v()}r.once("close",l);function g(){M("onfinish"),r.removeListener("close",l),v()}r.once("finish",g);function v(){M("unpipe"),t.unpipe(r)}return r.emit("pipe",t),n.flowing||(M("pipe resume"),t.resume()),r};function Kh(r){return function(){var t=r._readableState;M("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&io(r,"data")&&(t.flowing=!0,Qn(r))}}q.prototype.unpipe=function(r){var e=this._readableState,t={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return r&&r!==e.pipes?this:(r||(r=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,r&&r.emit("unpipe",this,t),this);if(!r){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=fo(e.pipes,r);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),r.emit("unpipe",this,t),this)};q.prototype.on=function(r,e){var t=br.prototype.on.call(this,r,e),n=this._readableState;return r==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):r==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,M("on readable",n.length,n.reading),n.length?ct(this):n.reading||process.nextTick(Jh,this)),t};q.prototype.addListener=q.prototype.on;q.prototype.removeListener=function(r,e){var t=br.prototype.removeListener.call(this,r,e);return r==="readable"&&process.nextTick(uo,this),t};q.prototype.removeAllListeners=function(r){var e=br.prototype.removeAllListeners.apply(this,arguments);return(r==="readable"||r===void 0)&&process.nextTick(uo,this),e};function uo(r){var e=r._readableState;e.readableListening=r.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:r.listenerCount("data")>0&&r.resume()}function Jh(r){M("readable nexttick read 0"),r.read(0)}q.prototype.resume=function(){var r=this._readableState;return r.flowing||(M("resume"),r.flowing=!r.readableListening,Qh(this,r)),r.paused=!1,this};function Qh(r,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Zh,r,e))}function Zh(r,e){M("resume",e.reading),e.reading||r.read(0),e.resumeScheduled=!1,r.emit("resume"),Qn(r),e.flowing&&!e.reading&&r.read(0)}q.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Qn(r){var e=r._readableState;for(M("flow",e.flowing);e.flowing&&r.read()!==null;);}q.prototype.wrap=function(r){var e=this,t=this._readableState,n=!1;r.on("end",function(){if(M("wrapped end"),t.decoder&&!t.ended){var s=t.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),r.on("data",function(s){if(M("wrapped data"),t.decoder&&(s=t.decoder.write(s)),!(t.objectMode&&s==null)&&!(!t.objectMode&&(!s||!s.length))){var o=e.push(s);o||(n=!0,r.pause())}});for(var i in r)this[i]===void 0&&typeof r[i]=="function"&&(this[i]=function(o){return function(){return r[o].apply(r,arguments)}}(i));for(var a=0;a<Wn.length;a++)r.on(Wn[a],this.emit.bind(this,Wn[a]));return this._read=function(s){M("wrapped _read",s),n&&(n=!1,r.resume())},this};typeof Symbol=="function"&&(q.prototype[Symbol.asyncIterator]=function(){return Vn===void 0&&(Vn=Qs()),Vn(this)});Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});q._fromList=lo;Object.defineProperty(q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function lo(r,e){if(e.length===0)return null;var t;return e.objectMode?t=e.buffer.shift():!r||r>=e.length?(e.decoder?t=e.buffer.join(""):e.buffer.length===1?t=e.buffer.first():t=e.buffer.concat(e.length),e.buffer.clear()):t=e.buffer.consume(r,e.decoder),t}function Gn(r){var e=r._readableState;M("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(Xh,e,r))}function Xh(r,e){if(M("endReadableNT",r.endEmitted,r.length),!r.endEmitted&&r.length===0&&(r.endEmitted=!0,e.readable=!1,e.emit("end"),r.autoDestroy)){var t=e._writableState;(!t||t.autoDestroy&&t.finished)&&e.destroy()}}typeof Symbol=="function"&&(q.from=function(r,e){return Hn===void 0&&(Hn=ro()),Hn(q,r,e)});function fo(r,e){for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}});var Be=c((av,po)=>{"use strict";var ed=Object.keys||function(r){var e=[];for(var t in r)e.push(t);return e};po.exports=me;var ho=Zn(),ei=pt();rr()(me,ho);for(Xn=ed(ei.prototype),ht=0;ht<Xn.length;ht++)dt=Xn[ht],me.prototype[dt]||(me.prototype[dt]=ei.prototype[dt]);var Xn,dt,ht;function me(r){if(!(this instanceof me))return new me(r);ho.call(this,r),ei.call(this,r),this.allowHalfOpen=!0,r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",rd)))}Object.defineProperty(me.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(me.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(me.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rd(){this._writableState.ended||process.nextTick(td,this)}function td(r){r.end()}Object.defineProperty(me.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var pt=c((sv,wo)=>{"use strict";wo.exports=P;function mo(r){var e=this;this.next=null,this.entry=null,this.finish=function(){qd(e,r)}}var ir;P.WritableState=_r;var nd={deprecate:Rs()},vo=An(),mt=require("buffer").Buffer,id=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ad(r){return mt.from(r)}function sd(r){return mt.isBuffer(r)||r instanceof id}var ti=Nn(),od=Dn(),ud=od.getHighWaterMark,qe=Me().codes,ld=qe.ERR_INVALID_ARG_TYPE,fd=qe.ERR_METHOD_NOT_IMPLEMENTED,cd=qe.ERR_MULTIPLE_CALLBACK,hd=qe.ERR_STREAM_CANNOT_PIPE,dd=qe.ERR_STREAM_DESTROYED,pd=qe.ERR_STREAM_NULL_VALUES,gd=qe.ERR_STREAM_WRITE_AFTER_END,md=qe.ERR_UNKNOWN_ENCODING,ar=ti.errorOrDestroy;rr()(P,vo);function vd(){}function _r(r,e,t){ir=ir||Be(),r=r||{},typeof t!="boolean"&&(t=e instanceof ir),this.objectMode=!!r.objectMode,t&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=ud(this,r,"writableHighWaterMark",t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=r.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){xd(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new mo(this)}_r.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};(function(){try{Object.defineProperty(_r.prototype,"buffer",{get:nd.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var gt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(e){return gt.call(this,e)?!0:this!==P?!1:e&&e._writableState instanceof _r}})):gt=function(e){return e instanceof this};function P(r){ir=ir||Be();var e=this instanceof ir;if(!e&&!gt.call(P,this))return new P(r);this._writableState=new _r(r,this,e),this.writable=!0,r&&(typeof r.write=="function"&&(this._write=r.write),typeof r.writev=="function"&&(this._writev=r.writev),typeof r.destroy=="function"&&(this._destroy=r.destroy),typeof r.final=="function"&&(this._final=r.final)),vo.call(this)}P.prototype.pipe=function(){ar(this,new hd)};function yd(r,e){var t=new gd;ar(r,t),process.nextTick(e,t)}function bd(r,e,t,n){var i;return t===null?i=new pd:typeof t!="string"&&!e.objectMode&&(i=new ld("chunk",["string","Buffer"],t)),i?(ar(r,i),process.nextTick(n,i),!1):!0}P.prototype.write=function(r,e,t){var n=this._writableState,i=!1,a=!n.objectMode&&sd(r);return a&&!mt.isBuffer(r)&&(r=ad(r)),typeof e=="function"&&(t=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),typeof t!="function"&&(t=vd),n.ending?yd(this,t):(a||bd(this,n,r,t))&&(n.pendingcb++,i=_d(this,n,a,r,e,t)),i};P.prototype.cork=function(){this._writableState.corked++};P.prototype.uncork=function(){var r=this._writableState;r.corked&&(r.corked--,!r.writing&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&yo(this,r))};P.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new md(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function wd(r,e,t){return!r.objectMode&&r.decodeStrings!==!1&&typeof e=="string"&&(e=mt.from(e,t)),e}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _d(r,e,t,n,i,a){if(!t){var s=wd(e,n,i);n!==s&&(t=!0,i="buffer",n=s)}var o=e.objectMode?1:n.length;e.length+=o;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var f=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:t,callback:a,next:null},f?f.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else ri(r,e,!1,o,n,i,a);return u}function ri(r,e,t,n,i,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new dd("write")):t?r._writev(i,e.onwrite):r._write(i,a,e.onwrite),e.sync=!1}function Ed(r,e,t,n,i){--e.pendingcb,t?(process.nextTick(i,n),process.nextTick(wr,r,e),r._writableState.errorEmitted=!0,ar(r,n)):(i(n),r._writableState.errorEmitted=!0,ar(r,n),wr(r,e))}function Sd(r){r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0}function xd(r,e){var t=r._writableState,n=t.sync,i=t.writecb;if(typeof i!="function")throw new cd;if(Sd(t),e)Ed(r,t,n,e,i);else{var a=bo(t)||r.destroyed;!a&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&yo(r,t),n?process.nextTick(go,r,t,a,i):go(r,t,a,i)}}function go(r,e,t,n){t||Md(r,e),e.pendingcb--,n(),wr(r,e)}function Md(r,e){e.length===0&&e.needDrain&&(e.needDrain=!1,r.emit("drain"))}function yo(r,e){e.bufferProcessing=!0;var t=e.bufferedRequest;if(r._writev&&t&&t.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=t;for(var s=0,o=!0;t;)i[s]=t,t.isBuf||(o=!1),t=t.next,s+=1;i.allBuffers=o,ri(r,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new mo(e),e.bufferedRequestCount=0}else{for(;t;){var u=t.chunk,f=t.encoding,p=t.callback,m=e.objectMode?1:u.length;if(ri(r,e,!1,m,u,f,p),t=t.next,e.bufferedRequestCount--,e.writing)break}t===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=t,e.bufferProcessing=!1}P.prototype._write=function(r,e,t){t(new fd("_write()"))};P.prototype._writev=null;P.prototype.end=function(r,e,t){var n=this._writableState;return typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),r!=null&&this.write(r,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Td(this,n,t),this};Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function bo(r){return r.ending&&r.length===0&&r.bufferedRequest===null&&!r.finished&&!r.writing}function Od(r,e){r._final(function(t){e.pendingcb--,t&&ar(r,t),e.prefinished=!0,r.emit("prefinish"),wr(r,e)})}function Rd(r,e){!e.prefinished&&!e.finalCalled&&(typeof r._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Od,r,e)):(e.prefinished=!0,r.emit("prefinish")))}function wr(r,e){var t=bo(e);if(t&&(Rd(r,e),e.pendingcb===0&&(e.finished=!0,r.emit("finish"),e.autoDestroy))){var n=r._readableState;(!n||n.autoDestroy&&n.endEmitted)&&r.destroy()}return t}function Td(r,e,t){e.ending=!0,wr(r,e),t&&(e.finished?process.nextTick(t):r.once("finish",t)),e.ended=!0,r.writable=!1}function qd(r,e,t){var n=r.entry;for(r.entry=null;n;){var i=n.callback;e.pendingcb--,i(t),n=n.next}e.corkedRequestsFree.next=r}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});P.prototype.destroy=ti.destroy;P.prototype._undestroy=ti.undestroy;P.prototype._destroy=function(r,e){e(r)}});var ni=c((ov,So)=>{"use strict";var Ad=require("util"),_o=pt(),{LEVEL:Eo}=j(),Er=So.exports=function(e={}){_o.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",t=>{this.levels=t.levels,this.parent=t}),this.once("unpipe",t=>{t===this.parent&&(this.parent=null,this.close&&this.close())})};Ad.inherits(Er,_o);Er.prototype._write=function(e,t,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);let i=this.level||this.parent&&this.parent.level;if(!i||this.levels[i]>=this.levels[e[Eo]]){if(e&&!this.format)return this.log(e,n);let a,s;try{s=this.format.transform(Object.assign({},e),this.format.options)}catch(o){a=o}if(a||!s){if(n(),a)throw a;return}return this.log(s,n)}return this._writableState.sync=!1,n(null)};Er.prototype._writev=function(e,t){if(this.logv){let n=e.filter(this._accept,this);return n.length?this.logv(n,t):t(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let i,a;try{a=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(s){i=s}if(i||!a){if(e[n].callback(),i)throw t(null),i}else this.log(a,e[n].callback)}return t(null)};Er.prototype._accept=function(e){let t=e.chunk;if(this.silent)return!1;let n=this.level||this.parent&&this.parent.level;return!!((t.exception===!0||!n||this.levels[n]>=this.levels[t[Eo]])&&(this.handleExceptions||t.exception!==!0))};Er.prototype._nop=function(){}});var ai=c((uv,Mo)=>{"use strict";var Ld=require("util"),{LEVEL:ii}=j(),xo=ni(),Sr=Mo.exports=function(e={}){if(xo.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function t(n){this.emit("error",n,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=t.bind(this),this.transport.on("error",this.transport.__winstonError))};Ld.inherits(Sr,xo);Sr.prototype._write=function(e,t,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[ii]])&&this.transport.log(e[ii],e.message,e,this._nop),n(null)};Sr.prototype._writev=function(e,t){for(let n=0;n<e.length;n++)this._accept(e[n])&&(this.transport.log(e[n].chunk[ii],e[n].chunk.message,e[n].chunk,this._nop),e[n].callback());return t(null)};Sr.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};Sr.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var sr=c((lv,si)=>{"use strict";si.exports=ni();si.exports.LegacyTransportStream=ai()});var To=c((cv,Ro)=>{"use strict";var Nd=require("os"),{LEVEL:Oo,MESSAGE:or}=j(),Dd=sr();Ro.exports=class extends Dd{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=typeof e.eol=="string"?e.eol:Nd.EOL,this.setMaxListeners(30)}log(e,t){if(setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[Oo]]){console._stderr?console._stderr.write(`${e[or]}${this.eol}`):console.error(e[or]),t&&t();return}else if(this.consoleWarnLevels[e[Oo]]){console._stderr?console._stderr.write(`${e[or]}${this.eol}`):console.warn(e[or]),t&&t();return}console._stdout?console._stdout.write(`${e[or]}${this.eol}`):console.log(e[or]),t&&t()}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce((n,i)=>{if(typeof i!="string")throw new Error(t);return n[i]=!0,n},{})}}});var yt=c((vt,qo)=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.default=Pd;function Pd(r){return r&&typeof r.length=="number"&&r.length>=0&&r.length%1===0}qo.exports=vt.default});var Lo=c((bt,Ao)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.default=function(r){return function(...e){var t=e.pop();return r.call(this,e,t)}};Ao.exports=bt.default});var Po=c(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.fallback=No;Ae.wrap=Do;var kd=Ae.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,Id=Ae.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,jd=Ae.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function No(r){setTimeout(r,0)}function Do(r){return(e,...t)=>r(()=>e(...t))}var xr;kd?xr=queueMicrotask:Id?xr=setImmediate:jd?xr=process.nextTick:xr=No;Ae.default=Do(xr)});var $o=c((wt,Co)=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.default=zd;var Cd=Lo(),$d=jo(Cd),Fd=Po(),Ud=jo(Fd),Bd=ze();function jo(r){return r&&r.__esModule?r:{default:r}}function zd(r){return(0,Bd.isAsync)(r)?function(...e){let t=e.pop(),n=r.apply(this,e);return ko(n,t)}:(0,$d.default)(function(e,t){var n;try{n=r.apply(this,e)}catch(i){return t(i)}if(n&&typeof n.then=="function")return ko(n,t);t(null,n)})}function ko(r,e){return r.then(t=>{Io(e,null,t)},t=>{Io(e,t&&(t instanceof Error||t.message)?t:new Error(t))})}function Io(r,e,t){try{r(e,t)}catch(n){(0,Ud.default)(i=>{throw i},n)}}Co.exports=wt.default});var ze=c(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.isAsyncIterable=_e.isAsyncGenerator=_e.isAsync=void 0;var Vd=$o(),Hd=Wd(Vd);function Wd(r){return r&&r.__esModule?r:{default:r}}function Fo(r){return r[Symbol.toStringTag]==="AsyncFunction"}function Yd(r){return r[Symbol.toStringTag]==="AsyncGenerator"}function Gd(r){return typeof r[Symbol.asyncIterator]=="function"}function Kd(r){if(typeof r!="function")throw new Error("expected a function");return Fo(r)?(0,Hd.default)(r):r}_e.default=Kd;_e.isAsync=Fo;_e.isAsyncGenerator=Yd;_e.isAsyncIterable=Gd});var ur=c((_t,Uo)=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.default=Jd;function Jd(r,e){if(e||(e=r.length),!e)throw new Error("arity is undefined");function t(...n){return typeof n[e-1]=="function"?r.apply(this,n):new Promise((i,a)=>{n[e-1]=(s,...o)=>{if(s)return a(s);i(o.length>1?o:o[0])},r.apply(this,n)})}return t}Uo.exports=_t.default});var zo=c((Et,Bo)=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});var Qd=yt(),Zd=oi(Qd),Xd=ze(),ep=oi(Xd),rp=ur(),tp=oi(rp);function oi(r){return r&&r.__esModule?r:{default:r}}Et.default=(0,tp.default)((r,e,t)=>{var n=(0,Zd.default)(e)?[]:{};r(e,(i,a,s)=>{(0,ep.default)(i)((o,...u)=>{u.length<2&&([u]=u),n[a]=u,s(o)})},i=>t(i,n))},3);Bo.exports=Et.default});var ui=c((St,Vo)=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.default=np;function np(r){function e(...t){if(r!==null){var n=r;r=null,n.apply(this,t)}}return Object.assign(e,r),e}Vo.exports=St.default});var Wo=c((xt,Ho)=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.default=function(r){return r[Symbol.iterator]&&r[Symbol.iterator]()};Ho.exports=xt.default});var Ko=c((Mt,Go)=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.default=cp;var ip=yt(),ap=Yo(ip),sp=Wo(),op=Yo(sp);function Yo(r){return r&&r.__esModule?r:{default:r}}function up(r){var e=-1,t=r.length;return function(){return++e<t?{value:r[e],key:e}:null}}function lp(r){var e=-1;return function(){var n=r.next();return n.done?null:(e++,{value:n.value,key:e})}}function fp(r){var e=r?Object.keys(r):[],t=-1,n=e.length;return function i(){var a=e[++t];return a==="__proto__"?i():t<n?{value:r[a],key:a}:null}}function cp(r){if((0,ap.default)(r))return up(r);var e=(0,op.default)(r);return e?lp(e):fp(r)}Go.exports=Mt.default});var li=c((Ot,Jo)=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.default=hp;function hp(r){return function(...e){if(r===null)throw new Error("Callback was already called.");var t=r;r=null,t.apply(this,e)}}Jo.exports=Ot.default});var Tt=c((Rt,Qo)=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});var dp={};Rt.default=dp;Qo.exports=Rt.default});var Xo=c((qt,Zo)=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.default=vp;var pp=Tt(),gp=mp(pp);function mp(r){return r&&r.__esModule?r:{default:r}}function vp(r,e,t,n){let i=!1,a=!1,s=!1,o=0,u=0;function f(){o>=e||s||i||(s=!0,r.next().then(({value:h,done:l})=>{if(!(a||i)){if(s=!1,l){i=!0,o<=0&&n(null);return}o++,t(h,u,p),u++,f()}}).catch(m))}function p(h,l){if(o-=1,!a){if(h)return m(h);if(h===!1){i=!0,a=!0;return}if(l===gp.default||i&&o<=0)return i=!0,n(null);f()}}function m(h){a||(s=!1,i=!0,n(h))}f()}Zo.exports=qt.default});var nu=c((At,tu)=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var yp=ui(),bp=Mr(yp),wp=Ko(),_p=Mr(wp),Ep=li(),Sp=Mr(Ep),eu=ze(),xp=Xo(),ru=Mr(xp),Mp=Tt(),Op=Mr(Mp);function Mr(r){return r&&r.__esModule?r:{default:r}}At.default=r=>(e,t,n)=>{if(n=(0,bp.default)(n),r<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if((0,eu.isAsyncGenerator)(e))return(0,ru.default)(e,r,t,n);if((0,eu.isAsyncIterable)(e))return(0,ru.default)(e[Symbol.asyncIterator](),r,t,n);var i=(0,_p.default)(e),a=!1,s=!1,o=0,u=!1;function f(m,h){if(!s)if(o-=1,m)a=!0,n(m);else if(m===!1)a=!0,s=!0;else{if(h===Op.default||a&&o<=0)return a=!0,n(null);u||p()}}function p(){for(u=!0;o<r&&!a;){var m=i();if(m===null){a=!0,o<=0&&n(null);return}o+=1,t(m.value,m.key,(0,Sp.default)(f))}u=!1}p()};tu.exports=At.default});var ci=c((Lt,iu)=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});var Rp=nu(),Tp=fi(Rp),qp=ze(),Ap=fi(qp),Lp=ur(),Np=fi(Lp);function fi(r){return r&&r.__esModule?r:{default:r}}function Dp(r,e,t,n){return(0,Tp.default)(e)(r,(0,Ap.default)(t),n)}Lt.default=(0,Np.default)(Dp,4);iu.exports=Lt.default});var ou=c((Nt,su)=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});var Pp=ci(),kp=au(Pp),Ip=ur(),jp=au(Ip);function au(r){return r&&r.__esModule?r:{default:r}}function Cp(r,e,t){return(0,kp.default)(r,1,e,t)}Nt.default=(0,jp.default)(Cp,3);su.exports=Nt.default});var fu=c((Dt,lu)=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.default=zp;var $p=zo(),Fp=uu($p),Up=ou(),Bp=uu(Up);function uu(r){return r&&r.__esModule?r:{default:r}}function zp(r,e){return(0,Fp.default)(Bp.default,r,e)}lu.exports=Dt.default});var hi=c((pv,hu)=>{"use strict";hu.exports=Ee;var Pt=Me().codes,Vp=Pt.ERR_METHOD_NOT_IMPLEMENTED,Hp=Pt.ERR_MULTIPLE_CALLBACK,Wp=Pt.ERR_TRANSFORM_ALREADY_TRANSFORMING,Yp=Pt.ERR_TRANSFORM_WITH_LENGTH_0,kt=Be();rr()(Ee,kt);function Gp(r,e){var t=this._transformState;t.transforming=!1;var n=t.writecb;if(n===null)return this.emit("error",new Hp);t.writechunk=null,t.writecb=null,e!=null&&this.push(e),n(r);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ee(r){if(!(this instanceof Ee))return new Ee(r);kt.call(this,r),this._transformState={afterTransform:Gp.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",Kp)}function Kp(){var r=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,t){cu(r,e,t)}):cu(this,null,null)}Ee.prototype.push=function(r,e){return this._transformState.needTransform=!1,kt.prototype.push.call(this,r,e)};Ee.prototype._transform=function(r,e,t){t(new Vp("_transform()"))};Ee.prototype._write=function(r,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=r,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ee.prototype._read=function(r){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ee.prototype._destroy=function(r,e){kt.prototype._destroy.call(this,r,function(t){e(t)})};function cu(r,e,t){if(e)return r.emit("error",e);if(t!=null&&r.push(t),r._writableState.length)throw new Yp;if(r._transformState.transforming)throw new Wp;return r.push(null)}});var gu=c((gv,pu)=>{"use strict";pu.exports=Or;var du=hi();rr()(Or,du);function Or(r){if(!(this instanceof Or))return new Or(r);du.call(this,r)}Or.prototype._transform=function(r,e,t){t(null,r)}});var wu=c((mv,bu)=>{"use strict";var di;function Jp(r){var e=!1;return function(){e||(e=!0,r.apply(void 0,arguments))}}var yu=Me().codes,Qp=yu.ERR_MISSING_ARGS,Zp=yu.ERR_STREAM_DESTROYED;function mu(r){if(r)throw r}function Xp(r){return r.setHeader&&typeof r.abort=="function"}function eg(r,e,t,n){n=Jp(n);var i=!1;r.on("close",function(){i=!0}),di===void 0&&(di=st()),di(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,Xp(r))return r.abort();if(typeof r.destroy=="function")return r.destroy();n(s||new Zp("pipe"))}}}function vu(r){r()}function rg(r,e){return r.pipe(e)}function tg(r){return!r.length||typeof r[r.length-1]!="function"?mu:r.pop()}function ng(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=tg(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Qp("streams");var i,a=e.map(function(s,o){var u=o<e.length-1,f=o>0;return eg(s,u,f,function(p){i||(i=p),p&&a.forEach(vu),!u&&(a.forEach(vu),n(i))})});return e.reduce(rg)}bu.exports=ng});var Ve=c((oe,Tr)=>{var Rr=require("stream");process.env.READABLE_STREAM==="disable"&&Rr?(Tr.exports=Rr.Readable,Object.assign(Tr.exports,Rr),Tr.exports.Stream=Rr):(oe=Tr.exports=Zn(),oe.Stream=Rr||oe,oe.Readable=oe,oe.Writable=pt(),oe.Duplex=Be(),oe.Transform=hi(),oe.PassThrough=gu(),oe.finished=st(),oe.pipeline=wu())});var wi=c((vv,Eu)=>{var lr=[],qr=[],pi=function(){};function mi(r){return~lr.indexOf(r)?!1:(lr.push(r),!0)}function vi(r){pi=r}function ig(r){for(var e=[],t=0;t<lr.length;t++){if(lr[t].async){e.push(lr[t]);continue}if(lr[t](r))return!0}return e.length?new Promise(function(i){Promise.all(e.map(function(s){return s(r)})).then(function(s){i(s.some(Boolean))})}):!1}function yi(r){return~qr.indexOf(r)?!1:(qr.push(r),!0)}function gi(){pi.apply(pi,arguments)}function _u(r){for(var e=0;e<qr.length;e++)r=qr[e].apply(qr[e],arguments);return r}function bi(r,e){var t=Object.prototype.hasOwnProperty;for(var n in e)t.call(e,n)&&(r[n]=e[n]);return r}function ag(r){return r.enabled=!1,r.modify=yi,r.set=vi,r.use=mi,bi(function(){return!1},r)}function sg(r){function e(){var t=Array.prototype.slice.call(arguments,0);return gi.call(gi,r,_u(t,r)),!0}return r.enabled=!0,r.modify=yi,r.set=vi,r.use=mi,bi(e,r)}Eu.exports=function(e){return e.introduce=bi,e.enabled=ig,e.process=_u,e.modify=yi,e.write=gi,e.nope=ag,e.yep=sg,e.set=vi,e.use=mi,e}});var xu=c((yv,Su)=>{var og=wi(),ug=og(function r(e,t){return t=t||{},t.namespace=e,t.prod=!0,t.dev=!1,t.force||r.force?r.yep(t):r.nope(t)});Su.exports=ug});var Ou=c((bv,Mu)=>{"use strict";Mu.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Tu=c((wv,Ru)=>{Ru.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var Lu=c((_v,Au)=>{"use strict";var lg=Tu(),fg=Array.prototype.concat,cg=Array.prototype.slice,qu=Au.exports=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var a=e[n];lg(a)?t=fg.call(t,cg.call(a)):t.push(a)}return t};qu.wrap=function(r){return function(){return r(qu(arguments))}}});var ku=c((Ev,Pu)=>{var Ar=Ou(),Lr=Lu(),Nu=Object.hasOwnProperty,Du=Object.create(null);for(It in Ar)Nu.call(Ar,It)&&(Du[Ar[It]]=It);var It,ie=Pu.exports={to:{},get:{}};ie.get=function(r){var e=r.substring(0,3).toLowerCase(),t,n;switch(e){case"hsl":t=ie.get.hsl(r),n="hsl";break;case"hwb":t=ie.get.hwb(r),n="hwb";break;default:t=ie.get.rgb(r),n="rgb";break}return t?{model:n,value:t}:null};ie.get.rgb=function(r){if(!r)return null;var e=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,s=[0,0,0,1],o,u,f;if(o=r.match(t)){for(f=o[2],o=o[1],u=0;u<3;u++){var p=u*2;s[u]=parseInt(o.slice(p,p+2),16)}f&&(s[3]=parseInt(f,16)/255)}else if(o=r.match(e)){for(o=o[1],f=o[3],u=0;u<3;u++)s[u]=parseInt(o[u]+o[u],16);f&&(s[3]=parseInt(f+f,16)/255)}else if(o=r.match(n)){for(u=0;u<3;u++)s[u]=parseInt(o[u+1],0);o[4]&&(o[5]?s[3]=parseFloat(o[4])*.01:s[3]=parseFloat(o[4]))}else if(o=r.match(i)){for(u=0;u<3;u++)s[u]=Math.round(parseFloat(o[u+1])*2.55);o[4]&&(o[5]?s[3]=parseFloat(o[4])*.01:s[3]=parseFloat(o[4]))}else return(o=r.match(a))?o[1]==="transparent"?[0,0,0,0]:Nu.call(Ar,o[1])?(s=Ar[o[1]],s[3]=1,s):null:null;for(u=0;u<3;u++)s[u]=Le(s[u],0,255);return s[3]=Le(s[3],0,1),s};ie.get.hsl=function(r){if(!r)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=r.match(e);if(t){var n=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,a=Le(parseFloat(t[2]),0,100),s=Le(parseFloat(t[3]),0,100),o=Le(isNaN(n)?1:n,0,1);return[i,a,s,o]}return null};ie.get.hwb=function(r){if(!r)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=r.match(e);if(t){var n=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,a=Le(parseFloat(t[2]),0,100),s=Le(parseFloat(t[3]),0,100),o=Le(isNaN(n)?1:n,0,1);return[i,a,s,o]}return null};ie.to.hex=function(){var r=Lr(arguments);return"#"+jt(r[0])+jt(r[1])+jt(r[2])+(r[3]<1?jt(Math.round(r[3]*255)):"")};ie.to.rgb=function(){var r=Lr(arguments);return r.length<4||r[3]===1?"rgb("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+")":"rgba("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+", "+r[3]+")"};ie.to.rgb.percent=function(){var r=Lr(arguments),e=Math.round(r[0]/255*100),t=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return r.length<4||r[3]===1?"rgb("+e+"%, "+t+"%, "+n+"%)":"rgba("+e+"%, "+t+"%, "+n+"%, "+r[3]+")"};ie.to.hsl=function(){var r=Lr(arguments);return r.length<4||r[3]===1?"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)":"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+r[3]+")"};ie.to.hwb=function(){var r=Lr(arguments),e="";return r.length>=4&&r[3]!==1&&(e=", "+r[3]),"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+e+")"};ie.to.keyword=function(r){return Du[r.slice(0,3)]};function Le(r,e,t){return Math.min(Math.max(e,r),t)}function jt(r){var e=Math.round(r).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var ju=c((Sv,Iu)=>{"use strict";Iu.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var _i=c((xv,Uu)=>{var He=ju(),Fu={};for(Ct in He)He.hasOwnProperty(Ct)&&(Fu[He[Ct]]=Ct);var Ct,b=Uu.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(W in b)if(b.hasOwnProperty(W)){if(!("channels"in b[W]))throw new Error("missing channels property: "+W);if(!("labels"in b[W]))throw new Error("missing channel labels property: "+W);if(b[W].labels.length!==b[W].channels)throw new Error("channel and label counts mismatch: "+W);Cu=b[W].channels,$u=b[W].labels,delete b[W].channels,delete b[W].labels,Object.defineProperty(b[W],"channels",{value:Cu}),Object.defineProperty(b[W],"labels",{value:$u})}var Cu,$u,W;b.rgb.hsl=function(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.min(e,t,n),a=Math.max(e,t,n),s=a-i,o,u,f;return a===i?o=0:e===a?o=(t-n)/s:t===a?o=2+(n-e)/s:n===a&&(o=4+(e-t)/s),o=Math.min(o*60,360),o<0&&(o+=360),f=(i+a)/2,a===i?u=0:f<=.5?u=s/(a+i):u=s/(2-a-i),[o,u*100,f*100]};b.rgb.hsv=function(r){var e,t,n,i,a,s=r[0]/255,o=r[1]/255,u=r[2]/255,f=Math.max(s,o,u),p=f-Math.min(s,o,u),m=function(h){return(f-h)/6/p+1/2};return p===0?i=a=0:(a=p/f,e=m(s),t=m(o),n=m(u),s===f?i=n-t:o===f?i=1/3+e-n:u===f&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)),[i*360,a*100,f*100]};b.rgb.hwb=function(r){var e=r[0],t=r[1],n=r[2],i=b.rgb.hsl(r)[0],a=1/255*Math.min(e,Math.min(t,n));return n=1-1/255*Math.max(e,Math.max(t,n)),[i,a*100,n*100]};b.rgb.cmyk=function(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i,a,s,o;return o=Math.min(1-e,1-t,1-n),i=(1-e-o)/(1-o)||0,a=(1-t-o)/(1-o)||0,s=(1-n-o)/(1-o)||0,[i*100,a*100,s*100,o*100]};function hg(r,e){return Math.pow(r[0]-e[0],2)+Math.pow(r[1]-e[1],2)+Math.pow(r[2]-e[2],2)}b.rgb.keyword=function(r){var e=Fu[r];if(e)return e;var t=1/0,n;for(var i in He)if(He.hasOwnProperty(i)){var a=He[i],s=hg(r,a);s<t&&(t=s,n=i)}return n};b.keyword.rgb=function(r){return He[r]};b.rgb.xyz=function(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+t*.3576+n*.1805,a=e*.2126+t*.7152+n*.0722,s=e*.0193+t*.1192+n*.9505;return[i*100,a*100,s*100]};b.rgb.lab=function(r){var e=b.rgb.xyz(r),t=e[0],n=e[1],i=e[2],a,s,o;return t/=95.047,n/=100,i/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,a=116*n-16,s=500*(t-n),o=200*(n-i),[a,s,o]};b.hsl.rgb=function(r){var e=r[0]/360,t=r[1]/100,n=r[2]/100,i,a,s,o,u;if(t===0)return u=n*255,[u,u,u];n<.5?a=n*(1+t):a=n+t-n*t,i=2*n-a,o=[0,0,0];for(var f=0;f<3;f++)s=e+1/3*-(f-1),s<0&&s++,s>1&&s--,6*s<1?u=i+(a-i)*6*s:2*s<1?u=a:3*s<2?u=i+(a-i)*(2/3-s)*6:u=i,o[f]=u*255;return o};b.hsl.hsv=function(r){var e=r[0],t=r[1]/100,n=r[2]/100,i=t,a=Math.max(n,.01),s,o;return n*=2,t*=n<=1?n:2-n,i*=a<=1?a:2-a,o=(n+t)/2,s=n===0?2*i/(a+i):2*t/(n+t),[e,s*100,o*100]};b.hsv.rgb=function(r){var e=r[0]/60,t=r[1]/100,n=r[2]/100,i=Math.floor(e)%6,a=e-Math.floor(e),s=255*n*(1-t),o=255*n*(1-t*a),u=255*n*(1-t*(1-a));switch(n*=255,i){case 0:return[n,u,s];case 1:return[o,n,s];case 2:return[s,n,u];case 3:return[s,o,n];case 4:return[u,s,n];case 5:return[n,s,o]}};b.hsv.hsl=function(r){var e=r[0],t=r[1]/100,n=r[2]/100,i=Math.max(n,.01),a,s,o;return o=(2-t)*n,a=(2-t)*i,s=t*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};b.hwb.rgb=function(r){var e=r[0]/360,t=r[1]/100,n=r[2]/100,i=t+n,a,s,o,u;i>1&&(t/=i,n/=i),a=Math.floor(6*e),s=1-n,o=6*e-a,a&1&&(o=1-o),u=t+o*(s-t);var f,p,m;switch(a){default:case 6:case 0:f=s,p=u,m=t;break;case 1:f=u,p=s,m=t;break;case 2:f=t,p=s,m=u;break;case 3:f=t,p=u,m=s;break;case 4:f=u,p=t,m=s;break;case 5:f=s,p=t,m=u;break}return[f*255,p*255,m*255]};b.cmyk.rgb=function(r){var e=r[0]/100,t=r[1]/100,n=r[2]/100,i=r[3]/100,a,s,o;return a=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),[a*255,s*255,o*255]};b.xyz.rgb=function(r){var e=r[0]/100,t=r[1]/100,n=r[2]/100,i,a,s;return i=e*3.2406+t*-1.5372+n*-.4986,a=e*-.9689+t*1.8758+n*.0415,s=e*.0557+t*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),s=Math.min(Math.max(0,s),1),[i*255,a*255,s*255]};b.xyz.lab=function(r){var e=r[0],t=r[1],n=r[2],i,a,s;return e/=95.047,t/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*t-16,a=500*(e-t),s=200*(t-n),[i,a,s]};b.lab.xyz=function(r){var e=r[0],t=r[1],n=r[2],i,a,s;a=(e+16)/116,i=t/500+a,s=a-n/200;var o=Math.pow(a,3),u=Math.pow(i,3),f=Math.pow(s,3);return a=o>.008856?o:(a-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=f>.008856?f:(s-16/116)/7.787,i*=95.047,a*=100,s*=108.883,[i,a,s]};b.lab.lch=function(r){var e=r[0],t=r[1],n=r[2],i,a,s;return i=Math.atan2(n,t),a=i*360/2/Math.PI,a<0&&(a+=360),s=Math.sqrt(t*t+n*n),[e,s,a]};b.lch.lab=function(r){var e=r[0],t=r[1],n=r[2],i,a,s;return s=n/360*2*Math.PI,i=t*Math.cos(s),a=t*Math.sin(s),[e,i,a]};b.rgb.ansi16=function(r){var e=r[0],t=r[1],n=r[2],i=1 in arguments?arguments[1]:b.rgb.hsv(r)[2];if(i=Math.round(i/50),i===0)return 30;var a=30+(Math.round(n/255)<<2|Math.round(t/255)<<1|Math.round(e/255));return i===2&&(a+=60),a};b.hsv.ansi16=function(r){return b.rgb.ansi16(b.hsv.rgb(r),r[2])};b.rgb.ansi256=function(r){var e=r[0],t=r[1],n=r[2];if(e===t&&t===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5);return i};b.ansi16.rgb=function(r){var e=r%10;if(e===0||e===7)return r>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var t=(~~(r>50)+1)*.5,n=(e&1)*t*255,i=(e>>1&1)*t*255,a=(e>>2&1)*t*255;return[n,i,a]};b.ansi256.rgb=function(r){if(r>=232){var e=(r-232)*10+8;return[e,e,e]}r-=16;var t,n=Math.floor(r/36)/5*255,i=Math.floor((t=r%36)/6)/5*255,a=t%6/5*255;return[n,i,a]};b.rgb.hex=function(r){var e=((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255),t=e.toString(16).toUpperCase();return"000000".substring(t.length)+t};b.hex.rgb=function(r){var e=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var t=e[0];e[0].length===3&&(t=t.split("").map(function(o){return o+o}).join(""));var n=parseInt(t,16),i=n>>16&255,a=n>>8&255,s=n&255;return[i,a,s]};b.rgb.hcg=function(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(Math.max(e,t),n),a=Math.min(Math.min(e,t),n),s=i-a,o,u;return s<1?o=a/(1-s):o=0,s<=0?u=0:i===e?u=(t-n)/s%6:i===t?u=2+(n-e)/s:u=4+(e-t)/s+4,u/=6,u%=1,[u*360,s*100,o*100]};b.hsl.hcg=function(r){var e=r[1]/100,t=r[2]/100,n=1,i=0;return t<.5?n=2*e*t:n=2*e*(1-t),n<1&&(i=(t-.5*n)/(1-n)),[r[0],n*100,i*100]};b.hsv.hcg=function(r){var e=r[1]/100,t=r[2]/100,n=e*t,i=0;return n<1&&(i=(t-n)/(1-n)),[r[0],n*100,i*100]};b.hcg.rgb=function(r){var e=r[0]/360,t=r[1]/100,n=r[2]/100;if(t===0)return[n*255,n*255,n*255];var i=[0,0,0],a=e%1*6,s=a%1,o=1-s,u=0;switch(Math.floor(a)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return u=(1-t)*n,[(t*i[0]+u)*255,(t*i[1]+u)*255,(t*i[2]+u)*255]};b.hcg.hsv=function(r){var e=r[1]/100,t=r[2]/100,n=e+t*(1-e),i=0;return n>0&&(i=e/n),[r[0],i*100,n*100]};b.hcg.hsl=function(r){var e=r[1]/100,t=r[2]/100,n=t*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[r[0],i*100,n*100]};b.hcg.hwb=function(r){var e=r[1]/100,t=r[2]/100,n=e+t*(1-e);return[r[0],(n-e)*100,(1-n)*100]};b.hwb.hcg=function(r){var e=r[1]/100,t=r[2]/100,n=1-t,i=n-e,a=0;return i<1&&(a=(n-i)/(1-i)),[r[0],i*100,a*100]};b.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]};b.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]};b.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]};b.gray.hsl=b.gray.hsv=function(r){return[0,0,r[0]]};b.gray.hwb=function(r){return[0,100,r[0]]};b.gray.cmyk=function(r){return[0,0,0,r[0]]};b.gray.lab=function(r){return[r[0],0,0]};b.gray.hex=function(r){var e=Math.round(r[0]/100*255)&255,t=(e<<16)+(e<<8)+e,n=t.toString(16).toUpperCase();return"000000".substring(n.length)+n};b.rgb.gray=function(r){var e=(r[0]+r[1]+r[2])/3;return[e/255*100]}});var zu=c((Mv,Bu)=>{var $t=_i();function dg(){for(var r={},e=Object.keys($t),t=e.length,n=0;n<t;n++)r[e[n]]={distance:-1,parent:null};return r}function pg(r){var e=dg(),t=[r];for(e[r].distance=0;t.length;)for(var n=t.pop(),i=Object.keys($t[n]),a=i.length,s=0;s<a;s++){var o=i[s],u=e[o];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,t.unshift(o))}return e}function gg(r,e){return function(t){return e(r(t))}}function mg(r,e){for(var t=[e[r].parent,r],n=$t[e[r].parent][r],i=e[r].parent;e[i].parent;)t.unshift(e[i].parent),n=gg($t[e[i].parent][i],n),i=e[i].parent;return n.conversion=t,n}Bu.exports=function(r){for(var e=pg(r),t={},n=Object.keys(e),i=n.length,a=0;a<i;a++){var s=n[a],o=e[s];o.parent!==null&&(t[s]=mg(s,e))}return t}});var Hu=c((Ov,Vu)=>{var Ei=_i(),vg=zu(),fr={},yg=Object.keys(Ei);function bg(r){var e=function(t){return t==null?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),r(t))};return"conversion"in r&&(e.conversion=r.conversion),e}function wg(r){var e=function(t){if(t==null)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=r(t);if(typeof n=="object")for(var i=n.length,a=0;a<i;a++)n[a]=Math.round(n[a]);return n};return"conversion"in r&&(e.conversion=r.conversion),e}yg.forEach(function(r){fr[r]={},Object.defineProperty(fr[r],"channels",{value:Ei[r].channels}),Object.defineProperty(fr[r],"labels",{value:Ei[r].labels});var e=vg(r),t=Object.keys(e);t.forEach(function(n){var i=e[n];fr[r][n]=wg(i),fr[r][n].raw=bg(i)})});Vu.exports=fr});var Gu=c((Rv,Yu)=>{"use strict";var Nr=ku(),ae=Hu(),Mi=[].slice,Wu=["keyword","gray","hex"],Si={};Object.keys(ae).forEach(function(r){Si[Mi.call(ae[r].labels).sort().join("")]=r});var Ft={};function V(r,e){if(!(this instanceof V))return new V(r,e);if(e&&e in Wu&&(e=null),e&&!(e in ae))throw new Error("Unknown model: "+e);var t,n;if(r==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(r instanceof V)this.model=r.model,this.color=r.color.slice(),this.valpha=r.valpha;else if(typeof r=="string"){var i=Nr.get(r);if(i===null)throw new Error("Unable to parse color from string: "+r);this.model=i.model,n=ae[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(r.length){this.model=e||"rgb",n=ae[this.model].channels;var a=Mi.call(r,0,n);this.color=xi(a,n),this.valpha=typeof r[n]=="number"?r[n]:1}else if(typeof r=="number")r&=16777215,this.model="rgb",this.color=[r>>16&255,r>>8&255,r&255],this.valpha=1;else{this.valpha=1;var s=Object.keys(r);"alpha"in r&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof r.alpha=="number"?r.alpha:0);var o=s.sort().join("");if(!(o in Si))throw new Error("Unable to parse color from object: "+JSON.stringify(r));this.model=Si[o];var u=ae[this.model].labels,f=[];for(t=0;t<u.length;t++)f.push(r[u[t]]);this.color=xi(f)}if(Ft[this.model])for(n=ae[this.model].channels,t=0;t<n;t++){var p=Ft[this.model][t];p&&(this.color[t]=p(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}V.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(r){var e=this.model in Nr.to?this:this.rgb();e=e.round(typeof r=="number"?r:1);var t=e.valpha===1?e.color:e.color.concat(this.valpha);return Nr.to[e.model](t)},percentString:function(r){var e=this.rgb().round(typeof r=="number"?r:1),t=e.valpha===1?e.color:e.color.concat(this.valpha);return Nr.to.rgb.percent(t)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var r={},e=ae[this.model].channels,t=ae[this.model].labels,n=0;n<e;n++)r[t[n]]=this.color[n];return this.valpha!==1&&(r.alpha=this.valpha),r},unitArray:function(){var r=this.rgb().color;return r[0]/=255,r[1]/=255,r[2]/=255,this.valpha!==1&&r.push(this.valpha),r},unitObject:function(){var r=this.rgb().object();return r.r/=255,r.g/=255,r.b/=255,this.valpha!==1&&(r.alpha=this.valpha),r},round:function(r){return r=Math.max(r||0,0),new V(this.color.map(Eg(r)).concat(this.valpha),this.model)},alpha:function(r){return arguments.length?new V(this.color.concat(Math.max(0,Math.min(1,r))),this.model):this.valpha},red:k("rgb",0,F(255)),green:k("rgb",1,F(255)),blue:k("rgb",2,F(255)),hue:k(["hsl","hsv","hsl","hwb","hcg"],0,function(r){return(r%360+360)%360}),saturationl:k("hsl",1,F(100)),lightness:k("hsl",2,F(100)),saturationv:k("hsv",1,F(100)),value:k("hsv",2,F(100)),chroma:k("hcg",1,F(100)),gray:k("hcg",2,F(100)),white:k("hwb",1,F(100)),wblack:k("hwb",2,F(100)),cyan:k("cmyk",0,F(100)),magenta:k("cmyk",1,F(100)),yellow:k("cmyk",2,F(100)),black:k("cmyk",3,F(100)),x:k("xyz",0,F(100)),y:k("xyz",1,F(100)),z:k("xyz",2,F(100)),l:k("lab",0,F(100)),a:k("lab",1),b:k("lab",2),keyword:function(r){return arguments.length?new V(r):ae[this.model].keyword(this.color)},hex:function(r){return arguments.length?new V(r):Nr.to.hex(this.rgb().round().color)},rgbNumber:function(){var r=this.rgb().color;return(r[0]&255)<<16|(r[1]&255)<<8|r[2]&255},luminosity:function(){for(var r=this.rgb().color,e=[],t=0;t<r.length;t++){var n=r[t]/255;e[t]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(r){var e=this.luminosity(),t=r.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level:function(r){var e=this.contrast(r);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var r=this.rgb().color,e=(r[0]*299+r[1]*587+r[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var r=this.rgb(),e=0;e<3;e++)r.color[e]=255-r.color[e];return r},lighten:function(r){var e=this.hsl();return e.color[2]+=e.color[2]*r,e},darken:function(r){var e=this.hsl();return e.color[2]-=e.color[2]*r,e},saturate:function(r){var e=this.hsl();return e.color[1]+=e.color[1]*r,e},desaturate:function(r){var e=this.hsl();return e.color[1]-=e.color[1]*r,e},whiten:function(r){var e=this.hwb();return e.color[1]+=e.color[1]*r,e},blacken:function(r){var e=this.hwb();return e.color[2]+=e.color[2]*r,e},grayscale:function(){var r=this.rgb().color,e=r[0]*.3+r[1]*.59+r[2]*.11;return V.rgb(e,e,e)},fade:function(r){return this.alpha(this.valpha-this.valpha*r)},opaquer:function(r){return this.alpha(this.valpha+this.valpha*r)},rotate:function(r){var e=this.hsl(),t=e.color[0];return t=(t+r)%360,t=t<0?360+t:t,e.color[0]=t,e},mix:function(r,e){if(!r||!r.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof r);var t=r.rgb(),n=this.rgb(),i=e===void 0?.5:e,a=2*i-1,s=t.alpha()-n.alpha(),o=((a*s===-1?a:(a+s)/(1+a*s))+1)/2,u=1-o;return V.rgb(o*t.red()+u*n.red(),o*t.green()+u*n.green(),o*t.blue()+u*n.blue(),t.alpha()*i+n.alpha()*(1-i))}};Object.keys(ae).forEach(function(r){if(Wu.indexOf(r)===-1){var e=ae[r].channels;V.prototype[r]=function(){if(this.model===r)return new V(this);if(arguments.length)return new V(arguments,r);var t=typeof arguments[e]=="number"?e:this.valpha;return new V(Sg(ae[this.model][r].raw(this.color)).concat(t),r)},V[r]=function(t){return typeof t=="number"&&(t=xi(Mi.call(arguments),e)),new V(t,r)}}});function _g(r,e){return Number(r.toFixed(e))}function Eg(r){return function(e){return _g(e,r)}}function k(r,e,t){return r=Array.isArray(r)?r:[r],r.forEach(function(n){(Ft[n]||(Ft[n]=[]))[e]=t}),r=r[0],function(n){var i;return arguments.length?(t&&(n=t(n)),i=this[r](),i.color[e]=n,i):(i=this[r]().color[e],t&&(i=t(i)),i)}}function F(r){return function(e){return Math.max(0,Math.min(r,e))}}function Sg(r){return Array.isArray(r)?r:[r]}function xi(r,e){for(var t=0;t<e;t++)typeof r[t]!="number"&&(r[t]=0);return r}Yu.exports=V});var Ju=c((Tv,Ku)=>{"use strict";Ku.exports=function(e){for(var t=0,n=0;t<e.length;n=e.charCodeAt(t++)+((n<<5)-n));var i=Math.floor(Math.abs(Math.sin(n)*1e4%1*16777216)).toString(16);return"#"+Array(6-i.length+1).join("0")+i}});var el=c((qv,Xu)=>{"use strict";var Qu=Gu(),Zu=Ju();Xu.exports=function(e,t){var n=e.split(t||":"),i=Zu(n[0]);if(!n.length)return i;for(var a=0,s=n.length-1;a<s;a++)i=Qu(i).mix(Qu(Zu(n[a+1]))).saturate(1).hex();return i}});var tl=c((Av,rl)=>{"use strict";function he(r,e){if(e)return new he(r).style(e);if(!(this instanceof he))return new he(r);this.text=r}he.prototype.prefix="\x1B[";he.prototype.suffix="m";he.prototype.hex=function(e){e=e[0]==="#"?e.substring(1):e,e.length===3&&(e=e.split(""),e[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var t=e.substring(0,2),n=e.substring(2,4),i=e.substring(4,6);return[parseInt(t,16),parseInt(n,16),parseInt(i,16)]};he.prototype.rgb=function(e,t,n){var i=e/255*5,a=t/255*5,s=n/255*5;return this.ansi(i,a,s)};he.prototype.ansi=function(e,t,n){var i=Math.round(e),a=Math.round(t),s=Math.round(n);return 16+i*36+a*6+s};he.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};he.prototype.style=function(e){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()};rl.exports=he});var il=c((Lv,nl)=>{var xg=el(),Mg=tl();nl.exports=function(e,t){var n=t.namespace,i=t.colors!==!1?Mg(n+":",xg(n)):n+":";return e[0]=i+" "+e[0],e}});var sl=c((Nv,al)=>{"use strict";al.exports=function(e,t){if(!t)return!1;for(var n=t.split(/[\s,]+/),i=0;i<n.length;i++){if(t=n[i].replace("*",".*?"),t.charAt(0)==="-"){if(new RegExp("^"+t.substr(1)+"$").test(e))return!1;continue}if(new RegExp("^"+t+"$").test(e))return!0}return!1}});var ul=c((Dv,ol)=>{var Og=sl();ol.exports=function(e){return function(n){try{return Og(n,e())}catch{}return!1}}});var fl=c((Pv,ll)=>{var Rg=ul();ll.exports=Rg(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var hl=c((kv,cl)=>{cl.exports=function(r,e){try{Function.prototype.apply.call(console.log,console,e)}catch{}}});var pl=c((Iv,dl)=>{var Tg=wi(),qg=require("tty").isatty(1),Ut=Tg(function r(e,t){return t=t||{},t.colors="colors"in t?t.colors:qg,t.namespace=e,t.prod=!1,t.dev=!0,!r.enabled(e)&&!(t.force||r.force)?r.nope(t):r.yep(t)});Ut.modify(il());Ut.use(fl());Ut.set(hl());dl.exports=Ut});var Dr=c((jv,Oi)=>{process.env.NODE_ENV==="production"?Oi.exports=xu():Oi.exports=pl()});var ml=c((Cv,gl)=>{"use strict";var Ri=require("fs"),{StringDecoder:Ag}=require("string_decoder"),{Stream:Lg}=Ve();function Ng(){}gl.exports=(r,e)=>{let t=Buffer.alloc(65536),n=new Ag("utf8"),i=new Lg,a="",s=0,o=0;return r.start===-1&&delete r.start,i.readable=!0,i.destroy=()=>{i.destroyed=!0,i.emit("end"),i.emit("close")},Ri.open(r.file,"a+","0644",(u,f)=>{if(u){e?e(u):i.emit("error",u),i.destroy();return}(function p(){if(i.destroyed){Ri.close(f,Ng);return}return Ri.read(f,t,0,t.length,s,(m,h)=>{if(m){e?e(m):i.emit("error",m),i.destroy();return}if(!h)return a&&((r.start==null||o>r.start)&&(e?e(null,a):i.emit("line",a)),o++,a=""),setTimeout(p,1e3);let l=n.write(t.slice(0,h));e||i.emit("data",l),l=(a+l).split(/\n+/);let g=l.length-1,v=0;for(;v<g;v++)(r.start==null||o>r.start)&&(e?e(null,l[v]):i.emit("line",l[v])),o++;return a=l[g],s+=h,p()})})()}),e?i.destroy:i}});var wl=c((Fv,bl)=>{"use strict";var Q=require("fs"),B=require("path"),vl=fu(),Dg=require("zlib"),{MESSAGE:Pg}=j(),{Stream:kg,PassThrough:yl}=Ve(),Ig=sr(),de=Dr()("winston:file"),jg=require("os"),Cg=ml();bl.exports=class extends Ig{constructor(e={}){super(e),this.name=e.name||"file";function t(n,...i){i.slice(1).forEach(a=>{if(e[a])throw new Error(`Cannot set ${a} and ${n} together`)})}if(this._stream=new yl,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?B.basename(e.filename):"winston.log",this.dirname=e.dirname||B.dirname(e.filename),this.options=e.options||{flags:"a"};else if(e.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=B.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=typeof e.eol=="string"?e.eol:jg.EOL,this.tailable=e.tailable||!1,this.lazy=e.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,t=()=>{}){if(this.silent)return t(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(e,t)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,t)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(e,t)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(e,t)})});return}}let n=`${e[Pg]}${this.eol}`,i=Buffer.byteLength(n);function a(){if(this._size+=i,this._pendingSize-=i,de("logged %s %s",this._size,n),this.emit("logged",e),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=i,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let s=this._stream.write(n,a.bind(this));return s?t():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,t()})),de("written",s,this._drain),this.finishIfEnding(),s}query(e,t){typeof e=="function"&&(t=e,e={}),e=m(e);let n=B.join(this.dirname,this.filename),i="",a=[],s=0,o=Q.createReadStream(n,{encoding:"utf8"});o.on("error",h=>{if(o.readable&&o.destroy(),!!t)return h.code!=="ENOENT"?t(h):t(null,a)}),o.on("data",h=>{h=(i+h).split(/\n+/);let l=h.length-1,g=0;for(;g<l;g++)(!e.start||s>=e.start)&&u(h[g]),s++;i=h[l]}),o.on("close",()=>{i&&u(i,!0),e.order==="desc"&&(a=a.reverse()),t&&t(null,a)});function u(h,l){try{let g=JSON.parse(h);p(g)&&f(g)}catch(g){l||o.emit("error",g)}}function f(h){if(e.rows&&a.length>=e.rows&&e.order!=="desc"){o.readable&&o.destroy();return}e.fields&&(h=e.fields.reduce((l,g)=>(l[g]=h[g],l),{})),e.order==="desc"&&a.length>=e.rows&&a.shift(),a.push(h)}function p(h){if(!h||typeof h!="object")return;let l=new Date(h.timestamp);if(!(e.from&&l<e.from||e.until&&l>e.until||e.level&&e.level!==h.level))return!0}function m(h){return h=h||{},h.rows=h.rows||h.limit||10,h.start=h.start||0,h.until=h.until||new Date,typeof h.until!="object"&&(h.until=new Date(h.until)),h.from=h.from||h.until-24*60*60*1e3,typeof h.from!="object"&&(h.from=new Date(h.from)),h.order=h.order||"desc",h}}stream(e={}){let t=B.join(this.dirname,this.filename),n=new kg,i={file:t,start:e.start};return n.destroy=Cg(i,(a,s)=>{if(a)return n.emit("error",a);try{n.emit("data",s),s=JSON.parse(s),n.emit("log",s)}catch(o){n.emit("error",o)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,t)=>{if(e)return this.emit("error",e);de("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){let t=this._getFile(),n=B.join(this.dirname,t);Q.stat(n,(i,a)=>{if(i&&i.code==="ENOENT")return de("ENOENT\xA0ok",n),this.filename=t,e(null,0);if(i)return de(`err ${i.code} ${n}`),e(i);if(!a||this._needsNewFile(a.size))return this._incFile(()=>this.stat(e));this.filename=t,e(null,a.size)})}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e.destroy(),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){let t=B.join(this.dirname,this.filename);de("create stream start",t,this.options);let n=Q.createWriteStream(t,this.options).on("error",i=>de(i)).on("close",()=>de("close",n.path,n.bytesWritten)).on("open",()=>{de("file open ok",t),this.emit("open",t),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new yl,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end())});return de("create stream ok",t),n}_incFile(e){de("_incFile",this.filename);let t=B.extname(this._basename),n=B.basename(this._basename,t),i=[];this.zippedArchive&&i.push(function(a){let s=this._created>0&&!this.tailable?this._created:"";this._compressFile(B.join(this.dirname,`${n}${s}${t}`),B.join(this.dirname,`${n}${s}${t}.gz`),a)}.bind(this)),i.push(function(a){this.tailable?this._checkMaxFilesTailable(t,n,a):(this._created+=1,this._checkMaxFilesIncrementing(t,n,a))}.bind(this)),vl(i,e)}_getFile(){let e=B.extname(this._basename),t=B.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${t}${n}${e}`:`${t}${e}`}_checkMaxFilesIncrementing(e,t,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);let i=this._created-this.maxFiles,a=i!==0?i:"",s=this.zippedArchive?".gz":"",o=`${t}${a}${e}${s}`,u=B.join(this.dirname,o);Q.unlink(u,n)}_checkMaxFilesTailable(e,t,n){let i=[];if(!this.maxFiles)return;let a=this.zippedArchive?".gz":"";for(let s=this.maxFiles-1;s>1;s--)i.push(function(o,u){let f=`${t}${o-1}${e}${a}`,p=B.join(this.dirname,f);Q.exists(p,m=>{if(!m)return u(null);f=`${t}${o}${e}${a}`,Q.rename(p,B.join(this.dirname,f),u)})}.bind(this,s));vl(i,()=>{Q.rename(B.join(this.dirname,`${t}${e}${a}`),B.join(this.dirname,`${t}1${e}${a}`),n)})}_compressFile(e,t,n){Q.access(e,Q.F_OK,i=>{if(i)return n();var a=Dg.createGzip(),s=Q.createReadStream(e),o=Q.createWriteStream(t);o.on("finish",()=>{Q.unlink(e,n)}),s.pipe(a).pipe(o)})}_createLogDirIfNotExist(e){Q.existsSync(e)||Q.mkdirSync(e,{recursive:!0})}}});var El=c((Bv,_l)=>{"use strict";var $g=require("http"),Fg=require("https"),{Stream:Ug}=Ve(),Bg=sr(),{configure:zg}=pr();_l.exports=class extends Bg{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.maximumDepth=e.maximumDepth,this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.batch=e.batch||!1,this.batchInterval=e.batchInterval||5e3,this.batchCount=e.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,null,null,(n,i)=>{i&&i.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${i.statusCode}`)),n?this.emit("warn",n):this.emit("logged",e)}),t&&setImmediate(t)}query(e,t){typeof e=="function"&&(t=e,e={}),e={method:"query",params:this.normalizeQuery(e)};let n=e.params.auth||null;delete e.params.auth;let i=e.params.path||null;delete e.params.path,this._request(e,n,i,(a,s,o)=>{if(s&&s.statusCode!==200&&(a=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),a)return t(a);if(typeof o=="string")try{o=JSON.parse(o)}catch(u){return t(u)}t(null,o)})}stream(e={}){let t=new Ug;e={method:"stream",params:e};let n=e.params.path||null;delete e.params.path;let i=e.params.auth||null;delete e.params.auth;let a="",s=this._request(e,i,n);return t.destroy=()=>s.destroy(),s.on("data",o=>{o=(a+o).split(/\n+/);let u=o.length-1,f=0;for(;f<u;f++)try{t.emit("log",JSON.parse(o[f]))}catch(p){t.emit("error",p)}a=o[u]}),s.on("error",o=>t.emit("error",o)),t}_request(e,t,n,i){e=e||{},t=t||this.auth,n=n||this.path||"",this.batch?this._doBatch(e,i,t,n):this._doRequest(e,i,t,n)}_doBatch(e,t,n,i){if(this.batchOptions.push(e),this.batchOptions.length===1){let a=this;this.batchCallback=t,this.batchTimeoutID=setTimeout(function(){a.batchTimeoutID=-1,a._doBatchRequest(a.batchCallback,n,i)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,n,i)}_doBatchRequest(e,t,n){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let i=this.batchOptions.slice();this.batchOptions=[],this._doRequest(i,e,t,n)}_doRequest(e,t,n,i){let a=Object.assign({},this.headers);n&&n.bearer&&(a.Authorization=`Bearer ${n.bearer}`);let s=(this.ssl?Fg:$g).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${i.replace(/^\//,"")}`,headers:a,auth:n&&n.username&&n.password?`${n.username}:${n.password}`:"",agent:this.agent});s.on("error",t),s.on("response",u=>u.on("end",()=>t(null,u)).resume());let o=zg({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});s.end(Buffer.from(o(e,this.options.replacer),"utf8"))}}});var Ti=c((zv,Sl)=>{"use strict";var ve=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";ve.writable=r=>ve(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";ve.readable=r=>ve(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";ve.duplex=r=>ve.writable(r)&&ve.readable(r);ve.transform=r=>ve.duplex(r)&&typeof r._transform=="function";Sl.exports=ve});var Ml=c((Hv,xl)=>{"use strict";var Vg=Ti(),{MESSAGE:Hg}=j(),Wg=require("os"),Yg=sr();xl.exports=class extends Yg{constructor(e={}){if(super(e),!e.stream||!Vg(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=typeof e.eol=="string"?e.eol:Wg.EOL}log(e,t){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode){this._stream.write(e),t&&t();return}this._stream.write(`${e[Hg]}${this.eol}`),t&&t()}}});var Ol=c(Pr=>{"use strict";Object.defineProperty(Pr,"Console",{configurable:!0,enumerable:!0,get(){return To()}});Object.defineProperty(Pr,"File",{configurable:!0,enumerable:!0,get(){return wl()}});Object.defineProperty(Pr,"Http",{configurable:!0,enumerable:!0,get(){return El()}});Object.defineProperty(Pr,"Stream",{configurable:!0,enumerable:!0,get(){return Ml()}})});var zt=c(kr=>{"use strict";var Bt=Tn(),{configs:qi}=j();kr.cli=Bt.levels(qi.cli);kr.npm=Bt.levels(qi.npm);kr.syslog=Bt.levels(qi.syslog);kr.addColors=Bt.levels});var Tl=c((Vt,Rl)=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var Gg=yt(),Kg=We(Gg),Jg=Tt(),Qg=We(Jg),Zg=ci(),Xg=We(Zg),e0=ui(),r0=We(e0),t0=li(),n0=We(t0),i0=ze(),a0=We(i0),s0=ur(),o0=We(s0);function We(r){return r&&r.__esModule?r:{default:r}}function u0(r,e,t){t=(0,r0.default)(t);var n=0,i=0,{length:a}=r,s=!1;a===0&&t(null);function o(u,f){u===!1&&(s=!0),s!==!0&&(u?t(u):(++i===a||f===Qg.default)&&t(null))}for(;n<a;n++)e(r[n],n,(0,n0.default)(o))}function l0(r,e,t){return(0,Xg.default)(r,1/0,e,t)}function f0(r,e,t){var n=(0,Kg.default)(r)?u0:l0;return n(r,(0,a0.default)(e),t)}Vt.default=(0,o0.default)(f0,3);Rl.exports=Vt.default});var Al=c((Ht,ql)=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.default=c0;function c0(r){return(e,t,n)=>r(e,n)}ql.exports=Ht.default});var Gt=c((Yt,Ll)=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});var h0=Tl(),d0=Wt(h0),p0=Al(),g0=Wt(p0),m0=ze(),v0=Wt(m0),y0=ur(),b0=Wt(y0);function Wt(r){return r&&r.__esModule?r:{default:r}}function w0(r,e,t){return(0,d0.default)(r,(0,g0.default)((0,v0.default)(e)),t)}Yt.default=(0,b0.default)(w0,3);Ll.exports=Yt.default});var Dl=c((Gv,Nl)=>{"use strict";var _0=Object.prototype.toString;Nl.exports=function(e){if(typeof e.displayName=="string"&&e.constructor.name)return e.displayName;if(typeof e.name=="string"&&e.name)return e.name;if(typeof e=="object"&&e.constructor&&typeof e.constructor.name=="string")return e.constructor.name;var t=e.toString(),n=_0.call(e).slice(8,-1);return n==="Function"?t=t.substring(t.indexOf("(")+1,t.indexOf(")")):t=n,t||"anonymous"}});var Ai=c((Kv,Pl)=>{"use strict";var E0=Dl();Pl.exports=function(e){var t=0,n;function i(){return t||(t=1,n=e.apply(this,arguments),e=null),n}return i.displayName=E0(e),i}});var Li=c(jr=>{jr.get=function(r){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var t={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(a,s){return s},Error.captureStackTrace(t,r||jr.get);var i=t.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=e,i};jr.parse=function(r){if(!r.stack)return[];var e=this,t=r.stack.split(`
`).slice(1);return t.map(function(n){if(n.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:n,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var i=n.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(i){var a=null,s=null,o=null,u=null,f=null,p=i[5]==="native";if(i[1]){o=i[1];var m=o.lastIndexOf(".");if(o[m-1]=="."&&m--,m>0){a=o.substr(0,m),s=o.substr(m+1);var h=a.indexOf(".Module");h>0&&(o=o.substr(h+1),a=a.substr(0,h))}u=null}s&&(u=a,f=s),s==="<anonymous>"&&(f=null,o=null);var l={fileName:i[2]||null,lineNumber:parseInt(i[3],10)||null,functionName:o,typeName:u,methodName:f,columnNumber:parseInt(i[4],10)||null,native:p};return e._createParsedCallSite(l)}}).filter(function(n){return!!n})};function Ir(r){for(var e in r)this[e]=r[e]}var S0=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],x0=["topLevel","eval","native","constructor"];S0.forEach(function(r){Ir.prototype[r]=null,Ir.prototype["get"+r[0].toUpperCase()+r.substr(1)]=function(){return this[r]}});x0.forEach(function(r){Ir.prototype[r]=!1,Ir.prototype["is"+r[0].toUpperCase()+r.substr(1)]=function(){return this[r]}});jr._createParsedCallSite=function(r){return new Ir(r)}});var Il=c((Zv,kl)=>{"use strict";var{Writable:M0}=Ve();kl.exports=class extends M0{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,n){return e.exception?this.transport.log(e,n):(n(),!0)}}});var Di=c((ey,$l)=>{"use strict";var jl=require("os"),O0=Gt(),Ni=Dr()("winston:exception"),R0=Ai(),Cl=Li(),T0=Il();$l.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(t=>{if(Array.isArray(t))return t.forEach(n=>this._addHandler(n));this._addHandler(t)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let t=null;return e&&(t=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`uncaughtException: ${t||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:jl.loadavg(),uptime:jl.uptime()}}getTrace(e){return(e?Cl.parse(e):Cl.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;let t=new T0(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){let t=this.getAllInfo(e),n=this._getExceptionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,a;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),i=!1);function s(){Ni("doExit",i),Ni("process._exiting",process._exiting),i&&!process._exiting&&(a&&clearTimeout(a),process.exit(1))}if(!n||n.length===0)return process.nextTick(s);O0(n,(o,u)=>{let f=R0(u),p=o.transport||o;function m(h){return()=>{Ni(h),f()}}p._ending=!0,p.once("finish",m("finished")),p.once("error",m("error"))},()=>i&&s()),this.logger.log(t),i&&(a=setTimeout(s,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}});var Ul=c((ty,Fl)=>{"use strict";var{Writable:q0}=Ve();Fl.exports=class extends q0{constructor(e){if(super({objectMode:!0}),!e)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=e}_write(e,t,n){return e.rejection?this.transport.log(e,n):(n(),!0)}}});var ki=c((iy,Vl)=>{"use strict";var Bl=require("os"),A0=Gt(),Pi=Dr()("winston:rejection"),L0=Ai(),zl=Li(),N0=Ul();Vl.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(t=>{if(Array.isArray(t))return t.forEach(n=>this._addHandler(n));this._addHandler(t)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let t=null;return e&&(t=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`unhandledRejection: ${t||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:Bl.loadavg(),uptime:Bl.uptime()}}getTrace(e){return(e?zl.parse(e):zl.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;let t=new N0(e);this.handlers.set(e,t),this.logger.pipe(t)}}_unhandledRejection(e){let t=this.getAllInfo(e),n=this._getRejectionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,a;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),i=!1);function s(){Pi("doExit",i),Pi("process._exiting",process._exiting),i&&!process._exiting&&(a&&clearTimeout(a),process.exit(1))}if(!n||n.length===0)return process.nextTick(s);A0(n,(o,u)=>{let f=L0(u),p=o.transport||o;function m(h){return()=>{Pi(h),f()}}p._ending=!0,p.once("finish",m("finished")),p.once("error",m("error"))},()=>i&&s()),this.logger.log(t),i&&(a=setTimeout(s,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}});var Wl=c((ay,Hl)=>{"use strict";var Ii=class{constructor(e){let t=Kt();if(typeof e!="object"||Array.isArray(e)||!(e instanceof t))throw new Error("Logger is required for profiling");this.logger=e,this.start=Date.now()}done(...e){typeof e[e.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());let t=typeof e[e.length-1]=="object"?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}};Hl.exports=Ii});var Kt=c((sy,Jl)=>{"use strict";var{Stream:D0,Transform:P0}=Ve(),Yl=Gt(),{LEVEL:ye,SPLAT:Gl}=j(),Kl=Ti(),k0=Di(),I0=ki(),j0=ai(),C0=Wl(),{warn:$0}=qn(),F0=zt(),U0=/%[scdjifoO%]/g,Jt=class extends P0{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){let t=this;return Object.create(t,{write:{value:function(n){let i=Object.assign({},e,n);n instanceof Error&&(i.stack=n.stack,i.message=n.message),t.write(i)}}})}configure({silent:e,format:t,defaultMeta:n,levels:i,level:a="info",exitOnError:s=!0,transports:o,colors:u,emitErrs:f,formatters:p,padLevels:m,rewriters:h,stripColors:l,exceptionHandlers:g,rejectionHandlers:v}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||Sn()(),this.defaultMeta=n||null,this.levels=i||this.levels||F0.npm.levels,this.level=a,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new k0(this),this.rejections=new I0(this),this.profilers={},this.exitOnError=s,o&&(o=Array.isArray(o)?o:[o],o.forEach(w=>this.add(w))),u||f||p||m||h||l)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));g&&this.exceptions.handle(g),v&&this.rejections.handle(v)}isLevelEnabled(e){let t=ji(this.levels,e);if(t===null)return!1;let n=ji(this.levels,this.level);return n===null?!1:!this.transports||this.transports.length===0?n>=t:this.transports.findIndex(a=>{let s=ji(this.levels,a.level);return s===null&&(s=n),s>=t})!==-1}log(e,t,...n){if(arguments.length===1)return e[ye]=e.level,this._addDefaultMeta(e),this.write(e),this;if(arguments.length===2)return t&&typeof t=="object"?(t[ye]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(t={[ye]:e,level:e,message:t},this._addDefaultMeta(t),this.write(t),this);let[i]=n;if(typeof i=="object"&&i!==null&&!(t&&t.match&&t.match(U0))){let s=Object.assign({},this.defaultMeta,i,{[ye]:e,[Gl]:n,level:e,message:t});return i.message&&(s.message=`${s.message} ${i.message}`),i.stack&&(s.stack=i.stack),this.write(s),this}return this.write(Object.assign({},this.defaultMeta,{[ye]:e,[Gl]:n,level:e,message:t})),this}_transform(e,t,n){if(this.silent)return n();e[ye]||(e[ye]=e.level),!this.levels[e[ye]]&&this.levels[e[ye]]!==0&&console.error("[winston] Unknown logger level: %s",e[ye]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,n()}}_final(e){let t=this.transports.slice();Yl(t,(n,i)=>{if(!n||n.finished)return setImmediate(i);n.once("finish",i),n.end()},e)}add(e){let t=!Kl(e)||e.log.length>2?new j0({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let t=e;return(!Kl(e)||e.log.length>2)&&(t=this.transports.filter(n=>n.transport===e)[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){$0.deprecated("setLevels")}query(e,t){typeof e=="function"&&(t=e,e={}),e=e||{};let n={},i=Object.assign({},e.query||{});function a(o,u){e.query&&typeof o.formatQuery=="function"&&(e.query=o.formatQuery(i)),o.query(e,(f,p)=>{if(f)return u(f);typeof o.formatResults=="function"&&(p=o.formatResults(p,e.format)),u(null,p)})}function s(o,u){a(o,(f,p)=>{u&&(p=f||p,p&&(n[o.name]=p),u()),u=null})}Yl(this.transports.filter(o=>!!o.query),s,()=>t(null,n))}stream(e={}){let t=new D0,n=[];return t._streams=n,t.destroy=()=>{let i=n.length;for(;i--;)n[i].destroy()},this.transports.filter(i=>!!i.stream).forEach(i=>{let a=i.stream(e);a&&(n.push(a),a.on("log",s=>{s.transport=s.transport||[],s.transport.push(i.name),t.emit("log",s)}),a.on("error",s=>{s.transport=s.transport||[],s.transport.push(i.name),t.emit("error",s)}))}),t}startTimer(){return new C0(this)}profile(e,...t){let n=Date.now();if(this.profilers[e]){let i=this.profilers[e];delete this.profilers[e],typeof t[t.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());let a=typeof t[t.length-1]=="object"?t.pop():{};return a.level=a.level||"info",a.durationMs=n-i,a.message=a.message||e,this.write(a)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(e,t){function n(i){e==="error"&&!this.transports.includes(t)&&this.add(t),this.emit(e,i,t)}t["__winston"+e]||(t["__winston"+e]=n.bind(this),t.on(e,t["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}};function ji(r,e){let t=r[e];return!t&&t!==0?null:t}Object.defineProperty(Jt.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:r}=this._readableState;return Array.isArray(r)?r:[r].filter(Boolean)}});Jl.exports=Jt});var Ci=c((oy,Ql)=>{"use strict";var{LEVEL:B0}=j(),z0=zt(),V0=Kt(),H0=Dr()("winston:create-logger");function W0(r){return"is"+r.charAt(0).toUpperCase()+r.slice(1)+"Enabled"}Ql.exports=function(r={}){r.levels=r.levels||z0.npm.levels;class e extends V0{constructor(i){super(i)}}let t=new e(r);return Object.keys(r.levels).forEach(function(n){if(H0('Define prototype method for "%s"',n),n==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}e.prototype[n]=function(...i){let a=this||t;if(i.length===1){let[s]=i,o=s&&s.message&&s||{message:s};return o.level=o[B0]=n,a._addDefaultMeta(o),a.write(o),this||t}return i.length===0?(a.log(n,""),a):a.log(n,...i)},e.prototype[W0(n)]=function(){return(this||t).isLevelEnabled(n)}}),t}});var Xl=c((ly,Zl)=>{"use strict";var Y0=Ci();Zl.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){t=Object.assign({},t||this.options);let n=t.transports||this.options.transports;n?t.transports=Array.isArray(n)?n.slice():[n]:t.transports=[];let i=Y0(t);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((t,n)=>this._removeLogger(n))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}});var rf=c(L=>{"use strict";var ef=Tn(),{warn:Cr}=qn();L.version=Ms().version;L.transports=Ol();L.config=zt();L.addColors=ef.levels;L.format=ef.format;L.createLogger=Ci();L.Logger=Kt();L.ExceptionHandler=Di();L.RejectionHandler=ki();L.Container=Xl();L.Transport=sr();L.loggers=new L.Container;var be=L.createLogger();Object.keys(L.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(r=>L[r]=(...e)=>be[r](...e));Object.defineProperty(L,"level",{get(){return be.level},set(r){be.level=r}});Object.defineProperty(L,"exceptions",{get(){return be.exceptions}});Object.defineProperty(L,"rejections",{get(){return be.rejections}});["exitOnError"].forEach(r=>{Object.defineProperty(L,r,{get(){return be[r]},set(e){be[r]=e}})});Object.defineProperty(L,"default",{get(){return{exceptionHandlers:be.exceptionHandlers,rejectionHandlers:be.rejectionHandlers,transports:be.transports}}});Cr.deprecated(L,"setLevels");Cr.forFunctions(L,"useFormat",["cli"]);Cr.forProperties(L,"useFormat",["padLevels","stripColors"]);Cr.forFunctions(L,"deprecated",["addRewriter","addFilter","clone","extend"]);Cr.forProperties(L,"deprecated",["emitErrs","levelLength"])});var $i=c((cy,tf)=>{var Se=rf(),G0=Se.createLogger({level:"info",format:Se.format.combine(Se.format.timestamp(),Se.format.printf(({timestamp:r,level:e,message:t})=>`${r} => [${e}]: ${t}`)),transports:[new Se.transports.Console({format:Se.format.combine(Se.format.colorize(),Se.format.simple())}),new Se.transports.File({filename:"./logs/app.log"})]});tf.exports=G0});var af=c((hy,nf)=>{var K0=Ji(),le=ta(),ue=$i(),J0=()=>le.teamspeak.Host&&le.teamspeak.QueryPort&&le.teamspeak.ServerPort&&le.teamspeak.Username&&le.teamspeak.Password&&le.teamspeak.Nickname,Q0=async()=>{if(!J0())throw ue.warn("[TS3] TeamSpeak-Client konnte nicht erstellt werden. \xDCberpr\xFCfen Sie die Anmeldeinformationen."),new Error("Anmeldeinformationen fehlen oder sind unvollst\xE4ndig.");try{let r=new K0({host:le.teamspeak.Host,queryport:le.teamspeak.QueryPort,serverport:le.teamspeak.ServerPort,username:le.teamspeak.Username,password:le.teamspeak.Password,nickname:le.teamspeak.Nickname});return r.on("ready",()=>{ue.info("[TS3] TeamSpeak-Client verbunden")}),r.on("error",e=>{ue.error("[TS3] TeamSpeak-Fehler:",e)}),r}catch(r){throw ue.error("[TS3] Fehler beim Verbinden zum TeamSpeak-Server:",r),new Error("Verbindung zum TeamSpeak-Server konnte nicht hergestellt werden.")}},Y=null;Q0().then(r=>{Y=r}).catch(r=>{ue.error("[TS3] Initialisierung des TeamSpeak-Clients fehlgeschlagen:",r)});nf.exports={getServerInfo:async()=>{if(!Y)throw new Error("TeamSpeak-Client ist nicht verbunden, Anmeldeinformationen fehlen.");try{return await Y.serverInfo()}catch(r){throw ue.error("[TS3] Fehler beim Abrufen der Server-Informationen:",r),new Error("Fehler beim Abrufen der Server-Informationen.")}},getChannels:async()=>{if(!Y)throw new Error("TeamSpeak-Client ist nicht verbunden, Anmeldeinformationen fehlen.");try{return await Y.channelList()}catch(r){throw ue.error("[TS3] Fehler beim Abrufen der Channel-Informationen:",r),new Error("Fehler beim Abrufen der Channel-Informationen.")}},getUsers:async()=>{if(!Y)throw new Error("TeamSpeak-Client ist nicht verbunden, Anmeldeinformationen fehlen.");try{return await Y.clientList()}catch(r){throw ue.error("[TS3] Fehler beim Abrufen der Benutzerinformationen:",r),new Error("Fehler beim Abrufen der Benutzerinformationen.")}},createChannel:async(r,e)=>{if(!Y)throw new Error("TeamSpeak-Client ist nicht verbunden, Anmeldeinformationen fehlen.");try{return await Y.channelCreate(r,e)}catch(t){throw ue.error("[TS3] Fehler beim Erstellen des Channels:",t),new Error("Fehler beim Erstellen des Channels.")}},deleteChannel:async r=>{if(!Y)throw new Error("TeamSpeak-Client ist nicht verbunden, Anmeldeinformationen fehlen.");try{await Y.channelDelete(r)}catch(e){throw ue.error("[TS3] Fehler beim L\xF6schen des Channels:",e),new Error("Fehler beim L\xF6schen des Channels.")}},createUser:async r=>{if(!Y)throw new Error("TeamSpeak-Client ist nicht verbunden, Anmeldeinformationen fehlen.");try{return await Y.clientAdd(r)}catch(e){throw ue.error("[TS3] Fehler beim Erstellen des Benutzers:",e),new Error("Fehler beim Erstellen des Benutzers.")}},deleteUser:async r=>{if(!Y)throw new Error("TeamSpeak-Client ist nicht verbunden, Anmeldeinformationen fehlen.");try{await Y.clientKick(r)}catch(e){throw ue.error("[TS3] Fehler beim L\xF6schen des Benutzers:",e),new Error("Fehler beim L\xF6schen des Benutzers.")}}}});var of=c((dy,sf)=>{nn().config();var Z0=()=>{let r=`${process.env.CLIENT_HTTPS}://${process.env.CLIENT_BASE_URL}`;return process.env.NODE_ENV==="production"?r:`${r}:${process.env.CLIENT_PORT}`};sf.exports=Z0});var lf=c((py,uf)=>{var X0=(r,e,t,n)=>{if(!r||!e)throw new Error("Request or Response object is undefined");r.accepts("html")?e.redirect(t):e.json(n)};uf.exports=X0});var Ye=af(),Z=$i(),X=of(),ee=lf();exports.getServerInfo=async(r,e)=>{try{let t=await Ye.getServerInfo();Z.info("Server-Informationen erfolgreich abgerufen");let n=`${X()}/teamspeak/server-info`;return ee(r,e,n,{success:!0,data:t})}catch(t){Z.error("Fehler beim Abrufen der Server-Informationen:",t);let n=`${X()}/teamspeak/server-info`;return ee(r,e,n,{success:!1,message:"Fehler beim Abrufen der Server-Informationen",error:t.message})}};exports.getChannels=async(r,e)=>{try{let t=await Ye.getChannels();Z.info("Channel-Informationen erfolgreich abgerufen");let n=`${X()}/teamspeak/channels`;return ee(r,e,n,{success:!0,data:t})}catch(t){Z.error("Fehler beim Abrufen der Channel-Informationen:",t);let n=`${X()}/teamspeak/channels`;return ee(r,e,n,{success:!1,message:"Fehler beim Abrufen der Channel-Informationen",error:t.message})}};exports.getUsers=async(r,e)=>{try{let t=await Ye.getUsers();Z.info("Benutzerinformationen erfolgreich abgerufen");let n=`${X()}/teamspeak/users`;return ee(r,e,n,{success:!0,data:t})}catch(t){Z.error("Fehler beim Abrufen der Benutzerinformationen:",t);let n=`${X()}/teamspeak/users`;return ee(r,e,n,{success:!1,message:"Fehler beim Abrufen der Benutzerinformationen",error:t.message})}};exports.createChannel=async(r,e)=>{let{name:t,parentId:n}=r.body;try{let i=await Ye.createChannel(t,n);Z.info(`Channel "${t}" erfolgreich erstellt mit ID ${i.teamspeakId}`);let a=`${X()}/teamspeak/channels`;return ee(r,e,a,{success:!0,message:"Channel erfolgreich erstellt",data:i})}catch(i){Z.error("Fehler beim Erstellen des Channels:",i);let a=`${X()}/teamspeak/channels/create`;return ee(r,e,a,{success:!1,message:"Fehler beim Erstellen des Channels",error:i.message})}};exports.deleteChannel=async(r,e)=>{let{teamspeakId:t}=r.params;try{await Ye.deleteChannel(t),Z.info(`Channel mit ID ${t} erfolgreich gel\xF6scht`);let n=`${X()}/teamspeak/channels`;return ee(r,e,n,{success:!0,message:"Channel erfolgreich gel\xF6scht"})}catch(n){Z.error("Fehler beim L\xF6schen des Channels:",n);let i=`${X()}/teamspeak/channels`;return ee(r,e,i,{success:!1,message:"Fehler beim L\xF6schen des Channels",error:n.message})}};exports.createUser=async(r,e)=>{let{name:t}=r.body;try{let n=await Ye.createUser(t);Z.info(`Benutzer "${t}" erfolgreich erstellt mit ID ${n.teamspeakId}`);let i=`${X()}/teamspeak/users`;return ee(r,e,i,{success:!0,message:"Benutzer erfolgreich erstellt",data:n})}catch(n){Z.error("Fehler beim Erstellen des Benutzers:",n);let i=`${X()}/teamspeak/users/create`;return ee(r,e,i,{success:!1,message:"Fehler beim Erstellen des Benutzers",error:n.message})}};exports.deleteUser=async(r,e)=>{let{teamspeakId:t}=r.params;try{await Ye.deleteUser(t),Z.info(`Benutzer mit ID ${t} erfolgreich gel\xF6scht`);let n=`${X()}/teamspeak/users`;return ee(r,e,n,{success:!0,message:"Benutzer erfolgreich gel\xF6scht"})}catch(n){Z.error("Fehler beim L\xF6schen des Benutzers:",n);let i=`${X()}/teamspeak/users`;return ee(r,e,i,{success:!1,message:"Fehler beim L\xF6schen des Benutzers",error:n.message})}};
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=teamspeakController.js.map
