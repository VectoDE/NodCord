var f=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Va=f((qb,Wa)=>{"use strict";var Ga=require("url"),Ya=1800,pr=class{constructor(e){this.options=e||{},this.cookies=[]}set(e,i){let r=Ga.parse(i||""),n=this.parse(e),a;return n.domain?(a=n.domain.replace(/^\./,""),(r.hostname.length<a.length||("."+r.hostname).substr(-a.length+1)!=="."+a)&&(n.domain=r.hostname)):n.domain=r.hostname,n.path||(n.path=this.getPath(r.pathname)),n.expires||(n.expires=new Date(Date.now()+(Number(this.options.sessionTimeout||Ya)||Ya)*1e3)),this.add(n)}get(e){return this.list(e).map(i=>i.name+"="+i.value).join("; ")}list(e){let i=[],r,n;for(r=this.cookies.length-1;r>=0;r--){if(n=this.cookies[r],this.isExpired(n)){this.cookies.splice(r,r);continue}this.match(n,e)&&i.unshift(n)}return i}parse(e){let i={};return(e||"").toString().split(";").forEach(r=>{let n=r.split("="),a=n.shift().trim().toLowerCase(),s=n.join("=").trim(),o;if(a)switch(a){case"expires":s=new Date(s),s.toString()!=="Invalid Date"&&(i.expires=s);break;case"path":i.path=s;break;case"domain":o=s.toLowerCase(),o.length&&o.charAt(0)!=="."&&(o="."+o),i.domain=o;break;case"max-age":i.expires=new Date(Date.now()+(Number(s)||0)*1e3);break;case"secure":i.secure=!0;break;case"httponly":i.httponly=!0;break;default:i.name||(i.name=a,i.value=s)}}),i}match(e,i){let r=Ga.parse(i||"");return!(r.hostname!==e.domain&&(e.domain.charAt(0)!=="."||("."+r.hostname).substr(-e.domain.length)!==e.domain)||this.getPath(r.pathname).substr(0,e.path.length)!==e.path||e.secure&&r.protocol!=="https:")}add(e){let i,r;if(!e||!e.name)return!1;for(i=0,r=this.cookies.length;i<r;i++)if(this.compare(this.cookies[i],e))return this.isExpired(e)?(this.cookies.splice(i,1),!1):(this.cookies[i]=e,!0);return this.isExpired(e)||this.cookies.push(e),!0}compare(e,i){return e.name===i.name&&e.path===i.path&&e.domain===i.domain&&e.secure===i.secure&&e.httponly===e.httponly}isExpired(e){return e.expires&&e.expires<new Date||!e.value}getPath(e){let i=(e||"/").split("/");return i.pop(),i=i.join("/").trim(),i.charAt(0)!=="/"&&(i="/"+i),i.substr(-1)!=="/"&&(i+="/"),i}};Wa.exports=pr});var oe=f((Mb,Ld)=>{Ld.exports={name:"nodemailer",version:"6.9.14",description:"Easy as cake e-mail sending from your Node.js applications",main:"lib/nodemailer.js",scripts:{test:"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js",lint:"eslint .",update:"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},repository:{type:"git",url:"https://github.com/nodemailer/nodemailer.git"},keywords:["Nodemailer"],author:"Andris Reinman",license:"MIT-0",bugs:{url:"https://github.com/nodemailer/nodemailer/issues"},homepage:"https://nodemailer.com/",devDependencies:{"@aws-sdk/client-ses":"3.600.0",bunyan:"1.8.15",c8:"10.1.2",eslint:"8.57.0","eslint-config-nodemailer":"1.2.0","eslint-config-prettier":"9.1.0",libbase64:"1.3.0",libmime:"5.3.5",libqp:"2.1.0","nodemailer-ntlm-auth":"1.0.4",proxy:"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.13.4"},engines:{node:">=6.0.0"}}});var ft=f((Cb,ur)=>{"use strict";var Id=require("http"),Nd=require("https"),Ka=require("url"),Pd=require("zlib"),Hd=require("stream").PassThrough,Qa=Va(),zd=oe(),Dd=require("net"),Fd=5;ur.exports=function(t,e){return Ja(t,e)};ur.exports.Cookies=Qa;function Ja(t,e){e=e||{},e.fetchRes=e.fetchRes||new Hd,e.cookies=e.cookies||new Qa,e.redirects=e.redirects||0,e.maxRedirects=isNaN(e.maxRedirects)?Fd:e.maxRedirects,e.cookie&&([].concat(e.cookie||[]).forEach(u=>{e.cookies.set(u,t)}),e.cookie=!1);let i=e.fetchRes,r=Ka.parse(t),n=(e.method||"").toString().trim().toUpperCase()||"GET",a=!1,s,o,l=r.protocol==="https:"?Nd:Id,c={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+zd.version};if(Object.keys(e.headers||{}).forEach(u=>{c[u.toLowerCase().trim()]=e.headers[u]}),e.userAgent&&(c["user-agent"]=e.userAgent),r.auth&&(c.Authorization="Basic "+Buffer.from(r.auth).toString("base64")),(s=e.cookies.get(t))&&(c.cookie=s),e.body){if(e.contentType!==!1&&(c["Content-Type"]=e.contentType||"application/x-www-form-urlencoded"),typeof e.body.pipe=="function")c["Transfer-Encoding"]="chunked",o=e.body,o.on("error",u=>{a||(a=!0,u.type="FETCH",u.sourceUrl=t,i.emit("error",u))});else{if(e.body instanceof Buffer)o=e.body;else if(typeof e.body=="object")try{o=Buffer.from(Object.keys(e.body).map(u=>{let d=e.body[u].toString().trim();return encodeURIComponent(u)+"="+encodeURIComponent(d)}).join("&"))}catch(u){if(a)return;a=!0,u.type="FETCH",u.sourceUrl=t,i.emit("error",u);return}else o=Buffer.from(e.body.toString().trim());c["Content-Type"]=e.contentType||"application/x-www-form-urlencoded",c["Content-Length"]=o.length}n=(e.method||"").toString().trim().toUpperCase()||"POST"}let p,h={method:n,host:r.hostname,path:r.path,port:r.port?r.port:r.protocol==="https:"?443:80,headers:c,rejectUnauthorized:!1,agent:!1};e.tls&&Object.keys(e.tls).forEach(u=>{h[u]=e.tls[u]}),r.protocol==="https:"&&r.hostname&&r.hostname!==h.host&&!Dd.isIP(r.hostname)&&!h.servername&&(h.servername=r.hostname);try{p=l.request(h)}catch(u){return a=!0,setImmediate(()=>{u.type="FETCH",u.sourceUrl=t,i.emit("error",u)}),i}return e.timeout&&p.setTimeout(e.timeout,()=>{if(a)return;a=!0,p.abort();let u=new Error("Request Timeout");u.type="FETCH",u.sourceUrl=t,i.emit("error",u)}),p.on("error",u=>{a||(a=!0,u.type="FETCH",u.sourceUrl=t,i.emit("error",u))}),p.on("response",u=>{let d;if(!a){switch(u.headers["content-encoding"]){case"gzip":case"deflate":d=Pd.createUnzip();break}if(u.headers["set-cookie"]&&[].concat(u.headers["set-cookie"]||[]).forEach(m=>{e.cookies.set(m,t)}),[301,302,303,307,308].includes(u.statusCode)&&u.headers.location){if(e.redirects++,e.redirects>e.maxRedirects){a=!0;let m=new Error("Maximum redirect count exceeded");m.type="FETCH",m.sourceUrl=t,i.emit("error",m),p.abort();return}return e.method="GET",e.body=!1,Ja(Ka.resolve(t,u.headers.location),e)}if(i.statusCode=u.statusCode,i.headers=u.headers,u.statusCode>=300&&!e.allowErrorResponse){a=!0;let m=new Error("Invalid status code "+u.statusCode);m.type="FETCH",m.sourceUrl=t,i.emit("error",m),p.abort();return}u.on("error",m=>{a||(a=!0,m.type="FETCH",m.sourceUrl=t,i.emit("error",m),p.abort())}),d?(u.pipe(d).pipe(i),d.on("error",m=>{a||(a=!0,m.type="FETCH",m.sourceUrl=t,i.emit("error",m),p.abort())})):u.pipe(i)}}),setImmediate(()=>{if(o)try{if(typeof o.pipe=="function")return o.pipe(p);p.write(o)}catch(u){a=!0,u.type="FETCH",u.sourceUrl=t,i.emit("error",u);return}p.end()}),i}});var Y=f((Ob,G)=>{"use strict";var Bd=require("url"),Ud=require("util"),$d=require("fs"),Gd=ft(),fe=require("dns"),Yd=require("net"),Wd=require("os"),dr=5*60*1e3,Za;try{Za=Wd.networkInterfaces()}catch{}G.exports.networkInterfaces=Za;var es=(t,e)=>{let i=G.exports.networkInterfaces;return i?Object.keys(i).map(n=>i[n]).reduce((n,a)=>n.concat(a),[]).filter(n=>!n.internal||e).filter(n=>n.family==="IPv"+t||n.family===t).length>0:!0},Xa=(t,e,i,r)=>{if(i=i||{},!es(t,i.allowInternalNetworkInterfaces))return r(null,[]);(fe.Resolver?new fe.Resolver(i):fe)["resolve"+t](e,(s,o)=>{if(s){switch(s.code){case fe.NODATA:case fe.NOTFOUND:case fe.NOTIMP:case fe.SERVFAIL:case fe.CONNREFUSED:case fe.REFUSED:case"EAI_AGAIN":return r(null,[])}return r(s)}return r(null,Array.isArray(o)?o:[].concat(o||[]))})},mt=G.exports.dnsCache=new Map,he=(t,e)=>t?Object.assign({servername:t.servername,host:!t.addresses||!t.addresses.length?null:t.addresses.length===1?t.addresses[0]:t.addresses[Math.floor(Math.random()*t.addresses.length)]},e||{}):Object.assign({},e||{});G.exports.resolveHostname=(t,e)=>{if(t=t||{},!t.host&&t.servername&&(t.host=t.servername),!t.host||Yd.isIP(t.host)){let r={addresses:[t.host],servername:t.servername||!1};return e(null,he(r,{cached:!1}))}let i;if(mt.has(t.host)&&(i=mt.get(t.host),!i.expires||i.expires>=Date.now()))return e(null,he(i.value,{cached:!0}));Xa(4,t.host,t,(r,n)=>{if(r)return i?e(null,he(i.value,{cached:!0,error:r})):e(r);if(n&&n.length){let a={addresses:n,servername:t.servername||t.host};return mt.set(t.host,{value:a,expires:Date.now()+(t.dnsTtl||dr)}),e(null,he(a,{cached:!1}))}Xa(6,t.host,t,(a,s)=>{if(a)return i?e(null,he(i.value,{cached:!0,error:a})):e(a);if(s&&s.length){let o={addresses:s,servername:t.servername||t.host};return mt.set(t.host,{value:o,expires:Date.now()+(t.dnsTtl||dr)}),e(null,he(o,{cached:!1}))}try{fe.lookup(t.host,{all:!0},(o,l)=>{if(o)return i?e(null,he(i.value,{cached:!0,error:o})):e(o);let c=l?l.filter(h=>es(h.family)).map(h=>h.address).shift():!1;if(l&&l.length&&!c&&console.warn(`Failed to resolve IPv${l[0].family} addresses with current network`),!c&&i)return e(null,he(i.value,{cached:!0}));let p={addresses:c?[c]:[t.host],servername:t.servername||t.host};return mt.set(t.host,{value:p,expires:Date.now()+(t.dnsTtl||dr)}),e(null,he(p,{cached:!1}))})}catch(o){return i?e(null,he(i.value,{cached:!0,error:o})):e(o)}})})};G.exports.parseConnectionUrl=t=>{t=t||"";let e={};return[Bd.parse(t,!0)].forEach(i=>{let r;switch(i.protocol){case"smtp:":e.secure=!1;break;case"smtps:":e.secure=!0;break;case"direct:":e.direct=!0;break}!isNaN(i.port)&&Number(i.port)&&(e.port=Number(i.port)),i.hostname&&(e.host=i.hostname),i.auth&&(r=i.auth.split(":"),e.auth||(e.auth={}),e.auth.user=r.shift(),e.auth.pass=r.join(":")),Object.keys(i.query||{}).forEach(n=>{let a=e,s=n,o=i.query[n];switch(isNaN(o)||(o=Number(o)),o){case"true":o=!0;break;case"false":o=!1;break}if(n.indexOf("tls.")===0)s=n.substr(4),e.tls||(e.tls={}),a=e.tls;else if(n.indexOf(".")>=0)return;s in a||(a[s]=o)})}),e};G.exports._logFunc=(t,e,i,r,n,...a)=>{let s={};Object.keys(i||{}).forEach(o=>{o!=="level"&&(s[o]=i[o])}),Object.keys(r||{}).forEach(o=>{o!=="level"&&(s[o]=r[o])}),t[e](s,n,...a)};G.exports.getLogger=(t,e)=>{t=t||{};let i={},r=["trace","debug","info","warn","error","fatal"];if(!t.logger)return r.forEach(a=>{i[a]=()=>!1}),i;let n=t.logger;return t.logger===!0&&(n=Vd(r)),r.forEach(a=>{i[a]=(s,o,...l)=>{G.exports._logFunc(n,a,e,s,o,...l)}}),i};G.exports.callbackPromise=(t,e)=>function(){let i=Array.from(arguments),r=i.shift();r?e(r):t(...i)};G.exports.parseDataURI=t=>{let e=t,i=e.indexOf(",");if(!i)return t;let r=e.substring(i+1),n=e.substring(5,i),a,s=n.split(";"),o=s.length>1?s[s.length-1]:!1;o&&o.indexOf("=")<0&&(a=o.toLowerCase(),s.pop());let l=s.shift()||"application/octet-stream",c={};for(let p of s){let h=p.indexOf("=");if(h>=0){let u=p.substring(0,h),d=p.substring(h+1);c[u]=d}}switch(a){case"base64":r=Buffer.from(r,"base64");break;case"utf8":r=Buffer.from(r);break;default:try{r=Buffer.from(decodeURIComponent(r))}catch{r=Buffer.from(r)}r=Buffer.from(r)}return{data:r,encoding:a,contentType:l,params:c}};G.exports.resolveContent=(t,e,i)=>{let r;i||(r=new Promise((o,l)=>{i=G.exports.callbackPromise(o,l)}));let n=t&&t[e]&&t[e].content||t[e],a,s=(typeof t[e]=="object"&&t[e].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!n)return i(null,n);if(typeof n=="object"){if(typeof n.pipe=="function")return hr(n,(o,l)=>{if(o)return i(o);t[e].content?t[e].content=l:t[e]=l,i(null,l)});if(/^https?:\/\//i.test(n.path||n.href))return a=Gd(n.path||n.href),hr(a,i);if(/^data:/i.test(n.path||n.href)){let o=G.exports.parseDataURI(n.path||n.href);return!o||!o.data?i(null,Buffer.from(0)):i(null,o.data)}else if(n.path)return hr($d.createReadStream(n.path),i)}return typeof t[e].content=="string"&&!["utf8","usascii","ascii"].includes(s)&&(n=Buffer.from(t[e].content,s)),setImmediate(()=>i(null,n)),r};G.exports.assign=function(){let t=Array.from(arguments),e=t.shift()||{};return t.forEach(i=>{Object.keys(i||{}).forEach(r=>{["tls","auth"].includes(r)&&i[r]&&typeof i[r]=="object"?(e[r]||(e[r]={}),Object.keys(i[r]).forEach(n=>{e[r][n]=i[r][n]})):e[r]=i[r]})}),e};G.exports.encodeXText=t=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(t))return t;let e=Buffer.from(t),i="";for(let r=0,n=e.length;r<n;r++){let a=e[r];a<33||a>126||a===43||a===61?i+="+"+(a<16?"0":"")+a.toString(16).toUpperCase():i+=String.fromCharCode(a)}return i};function hr(t,e){let i=!1,r=[],n=0;t.on("error",a=>{i||(i=!0,e(a))}),t.on("readable",()=>{let a;for(;(a=t.read())!==null;)r.push(a),n+=a.length}),t.on("end",()=>{if(i)return;i=!0;let a;try{a=Buffer.concat(r,n)}catch(s){return e(s)}e(null,a)})}function Vd(t){let e=0,i=new Map;t.forEach(a=>{a.length>e&&(e=a.length)}),t.forEach(a=>{let s=a.toUpperCase();s.length<e&&(s+=" ".repeat(e-s.length)),i.set(a,s)});let r=(a,s,o,...l)=>{let c="";s&&(s.tnx==="server"?c="S: ":s.tnx==="client"&&(c="C: "),s.sid&&(c="["+s.sid+"] "+c),s.cid&&(c="[#"+s.cid+"] "+c)),o=Ud.format(o,...l),o.split(/\r?\n/).forEach(p=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),i.get(a),c+p)})},n={};return t.forEach(a=>{n[a]=r.bind(null,a)}),n}});var fr=f((jb,ns)=>{"use strict";var Kd=require("path"),ts="application/octet-stream",Qd="bin",is=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),rs=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);ns.exports={detectMimeType(t){if(!t)return ts;let e=Kd.parse(t),i=(e.ext.substr(1)||e.name||"").split("?").shift().trim().toLowerCase(),r=ts;return rs.has(i)&&(r=rs.get(i)),Array.isArray(r)?r[0]:r},detectExtension(t){if(!t)return Qd;let e=(t||"").toLowerCase().trim().split("/"),i=e.shift().trim(),r=e.join("/").trim();if(is.has(i+"/"+r)){let n=is.get(i+"/"+r);return Array.isArray(n)?n[0]:n}switch(i){case"text":return"txt";default:return"bin"}}}});var vr=f((Rb,ds)=>{"use strict";var ss="-",Jd=/^xn--/,Xd=/[^\0-\x7F]/,Zd=/[\x2E\u3002\uFF0E\uFF61]/g,eh={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},mr=35,me=Math.floor,gr=String.fromCharCode;function Te(t){throw new RangeError(eh[t])}function th(t,e){let i=[],r=t.length;for(;r--;)i[r]=e(t[r]);return i}function os(t,e){let i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]),t=t.replace(Zd,".");let n=t.split("."),a=th(n,e).join(".");return r+a}function ls(t){let e=[],i=0,r=t.length;for(;i<r;){let n=t.charCodeAt(i++);if(n>=55296&&n<=56319&&i<r){let a=t.charCodeAt(i++);(a&64512)==56320?e.push(((n&1023)<<10)+(a&1023)+65536):(e.push(n),i--)}else e.push(n)}return e}var ih=t=>String.fromCodePoint(...t),rh=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:36},as=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},cs=function(t,e,i){let r=0;for(t=i?me(t/700):t>>1,t+=me(t/e);t>mr*26>>1;r+=36)t=me(t/mr);return me(r+(mr+1)*t/(t+38))},ps=function(t){let e=[],i=t.length,r=0,n=128,a=72,s=t.lastIndexOf(ss);s<0&&(s=0);for(let o=0;o<s;++o)t.charCodeAt(o)>=128&&Te("not-basic"),e.push(t.charCodeAt(o));for(let o=s>0?s+1:0;o<i;){let l=r;for(let p=1,h=36;;h+=36){o>=i&&Te("invalid-input");let u=rh(t.charCodeAt(o++));u>=36&&Te("invalid-input"),u>me((2147483647-r)/p)&&Te("overflow"),r+=u*p;let d=h<=a?1:h>=a+26?26:h-a;if(u<d)break;let m=36-d;p>me(2147483647/m)&&Te("overflow"),p*=m}let c=e.length+1;a=cs(r-l,c,l==0),me(r/c)>2147483647-n&&Te("overflow"),n+=me(r/c),r%=c,e.splice(r++,0,n)}return String.fromCodePoint(...e)},us=function(t){let e=[];t=ls(t);let i=t.length,r=128,n=0,a=72;for(let l of t)l<128&&e.push(gr(l));let s=e.length,o=s;for(s&&e.push(ss);o<i;){let l=2147483647;for(let p of t)p>=r&&p<l&&(l=p);let c=o+1;l-r>me((2147483647-n)/c)&&Te("overflow"),n+=(l-r)*c,r=l;for(let p of t)if(p<r&&++n>2147483647&&Te("overflow"),p===r){let h=n;for(let u=36;;u+=36){let d=u<=a?1:u>=a+26?26:u-a;if(h<d)break;let m=h-d,v=36-d;e.push(gr(as(d+m%v,0))),h=me(m/v)}e.push(gr(as(h,0))),a=cs(n,c,o===s),n=0,++o}++n,++r}return e.join("")},nh=function(t){return os(t,function(e){return Jd.test(e)?ps(e.slice(4).toLowerCase()):e})},ah=function(t){return os(t,function(e){return Xd.test(e)?"xn--"+us(e):e})},sh={version:"2.3.1",ucs2:{decode:ls,encode:ih},decode:ps,encode:us,toASCII:ah,toUnicode:nh};ds.exports=sh});var wr=f((Lb,hs)=>{"use strict";var oh=require("stream").Transform;function xr(t){return typeof t=="string"&&(t=Buffer.from(t,"utf-8")),t.toString("base64")}function yr(t,e){if(t=(t||"").toString(),e=e||76,t.length<=e)return t;let i=[],r=0,n=e*1024;for(;r<t.length;){let a=t.substr(r,n).replace(new RegExp(".{"+e+"}","g"),`$&\r
`).trim();i.push(a),r+=n}return i.join(`\r
`).trim()}var br=class extends oh{constructor(e){super(),this.options=e||{},this.options.lineLength!==!1&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(e,i,r){if(i!=="buffer"&&(e=Buffer.from(e,i)),!e||!e.length)return setImmediate(r);this.inputBytes+=e.length,this._remainingBytes&&this._remainingBytes.length&&(e=Buffer.concat([this._remainingBytes,e],this._remainingBytes.length+e.length),this._remainingBytes=!1),e.length%3?(this._remainingBytes=e.slice(e.length-e.length%3),e=e.slice(0,e.length-e.length%3)):this._remainingBytes=!1;let n=this._curLine+xr(e);if(this.options.lineLength){n=yr(n,this.options.lineLength);let a=n.lastIndexOf(`
`);a<0?(this._curLine=n,n=""):a===n.length-1?this._curLine="":(this._curLine=n.substr(a+1),n=n.substr(0,a+1))}n&&(this.outputBytes+=n.length,this.push(Buffer.from(n,"ascii"))),setImmediate(r)}_flush(e){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=xr(this._remainingBytes)),this._curLine&&(this._curLine=yr(this._curLine,this.options.lineLength),this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii"),this._curLine=""),e()}};hs.exports={encode:xr,wrap:yr,Encoder:br}});var Sr=f((Ib,ms)=>{"use strict";var lh=require("stream").Transform;function _r(t){typeof t=="string"&&(t=Buffer.from(t,"utf-8"));let e=[[9],[10],[13],[32,60],[62,126]],i="",r;for(let n=0,a=t.length;n<a;n++){if(r=t[n],ch(r,e)&&!((r===32||r===9)&&(n===a-1||t[n+1]===10||t[n+1]===13))){i+=String.fromCharCode(r);continue}i+="="+(r<16?"0":"")+r.toString(16).toUpperCase()}return i}function fs(t,e){if(t=(t||"").toString(),e=e||76,t.length<=e)return t;let i=0,r=t.length,n,a,s,o=Math.floor(e/3),l="";for(;i<r;){if(s=t.substr(i,e),n=s.match(/\r\n/)){s=s.substr(0,n.index+n[0].length),l+=s,i+=s.length;continue}if(s.substr(-1)===`
`){l+=s,i+=s.length;continue}else if(n=s.substr(-o).match(/\n.*?$/)){s=s.substr(0,s.length-(n[0].length-1)),l+=s,i+=s.length;continue}else if(s.length>e-o&&(n=s.substr(-o).match(/[ \t.,!?][^ \t.,!?]*$/)))s=s.substr(0,s.length-(n[0].length-1));else if(s.match(/[=][\da-f]{0,2}$/i))for((n=s.match(/[=][\da-f]{0,1}$/i))&&(s=s.substr(0,s.length-n[0].length));s.length>3&&s.length<r-i&&!s.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(n=s.match(/[=][\da-f]{2}$/gi))&&(a=parseInt(n[0].substr(1,2),16),!(a<128||(s=s.substr(0,s.length-3),a>=192))););i+s.length<r&&s.substr(-1)!==`
`?(s.length===e&&s.match(/[=][\da-f]{2}$/i)?s=s.substr(0,s.length-3):s.length===e&&(s=s.substr(0,s.length-1)),i+=s.length,s+=`=\r
`):i+=s.length,l+=s}return l}function ch(t,e){for(let i=e.length-1;i>=0;i--)if(e[i].length&&(e[i].length===1&&t===e[i][0]||e[i].length===2&&t>=e[i][0]&&t<=e[i][1]))return!0;return!1}var Er=class extends lh{constructor(e){super(),this.options=e||{},this.options.lineLength!==!1&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(e,i,r){let n;if(i!=="buffer"&&(e=Buffer.from(e,i)),!e||!e.length)return r();this.inputBytes+=e.length,this.options.lineLength?(n=this._curLine+_r(e),n=fs(n,this.options.lineLength),n=n.replace(/(^|\n)([^\n]*)$/,(a,s,o)=>(this._curLine=o,s)),n&&(this.outputBytes+=n.length,this.push(n))):(n=_r(e),this.outputBytes+=n.length,this.push(n,"ascii")),r()}_flush(e){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),e()}};ms.exports={encode:_r,wrap:fs,Encoder:Er}});var vt=f((Nb,vs)=>{"use strict";var gt=wr(),ph=Sr(),gs=fr();vs.exports={isPlainText(t,e){return!(typeof t!="string"||(e?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/).test(t))},hasLongerLines(t,e){return t.length>128*1024?!0:new RegExp("^.{"+(e+1)+",}","m").test(t)},encodeWord(t,e,i){e=(e||"Q").toString().toUpperCase().trim().charAt(0),i=i||0;let r,n="UTF-8";if(i&&i>7+n.length&&(i-=7+n.length),e==="Q"?r=ph.encode(t).replace(/[^a-z0-9!*+\-/=]/gi,a=>{let s=a.charCodeAt(0).toString(16).toUpperCase();return a===" "?"_":"="+(s.length===1?"0"+s:s)}):e==="B"&&(r=typeof t=="string"?t:gt.encode(t),i=i?Math.max(3,(i-i%4)/4*3):0),i&&(e!=="B"?r:gt.encode(t)).length>i)if(e==="Q")r=this.splitMimeEncodedString(r,i).join("?= =?"+n+"?"+e+"?");else{let a=[],s="";for(let o=0,l=r.length;o<l;o++){let c=r.charAt(o);/[\ud83c\ud83d\ud83e]/.test(c)&&o<l-1&&(c+=r.charAt(++o)),Buffer.byteLength(s+c)<=i||o===0?s+=c:(a.push(gt.encode(s)),s=c)}s&&a.push(gt.encode(s)),a.length>1?r=a.join("?= =?"+n+"?"+e+"?"):r=a.join("")}else e==="B"&&(r=gt.encode(t));return"=?"+n+"?"+e+"?"+r+(r.substr(-2)==="?="?"":"?=")},encodeWords(t,e,i,r){i=i||0;let n,a=t.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!a)return t;if(r)return this.encodeWord(t,e,i);let s=t.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!s)return t;let o=a.index+(a[0].match(/[^\s]/)||{index:0}).index,l=s.index+(s[1]||"").length;return n=(o?t.substr(0,o):"")+this.encodeWord(t.substring(o,l),e||"Q",i)+(l<t.length?t.substr(l):""),n},buildHeaderValue(t){let e=[];return Object.keys(t.params||{}).forEach(i=>{let r=t.params[i];!this.isPlainText(r,!0)||r.length>=75?this.buildHeaderParam(i,r,50).forEach(n=>{!/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(n.value)||n.key.substr(-1)==="*"?e.push(n.key+"="+n.value):e.push(n.key+"="+JSON.stringify(n.value))}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(r)?e.push(i+"="+JSON.stringify(r)):e.push(i+"="+r)}),t.value+(e.length?"; "+e.join("; "):"")},buildHeaderParam(t,e,i){let r=[],n=typeof e=="string"?e:(e||"").toString(),a,s,o,l,c=0,p,h;if(i=i||50,this.isPlainText(e,!0)){if(n.length<=i)return[{key:t,value:n}];n=n.replace(new RegExp(".{"+i+"}","g"),u=>(r.push({line:u}),"")),n&&r.push({line:n})}else{if(/[\uD800-\uDBFF]/.test(n)){for(a=[],p=0,h=n.length;p<h;p++)s=n.charAt(p),o=s.charCodeAt(0),o>=55296&&o<=56319&&p<h-1?(s+=n.charAt(p+1),a.push(s),p++):a.push(s);n=a}l="utf-8''";let u=!0;for(c=0,p=0,h=n.length;p<h;p++){if(s=n[p],u)s=this.safeEncodeURIComponent(s);else if(s=s===" "?s:this.safeEncodeURIComponent(s),s!==n[p])if((this.safeEncodeURIComponent(l)+s).length>=i)r.push({line:l,encoded:u}),l="",c=p-1;else{u=!0,p=c,l="";continue}(l+s).length>=i?(r.push({line:l,encoded:u}),l=s=n[p]===" "?" ":this.safeEncodeURIComponent(n[p]),s===n[p]?(u=!1,c=p-1):u=!0):l+=s}l&&r.push({line:l,encoded:u})}return r.map((u,d)=>({key:t+"*"+d+(u.encoded?"*":""),value:u.line}))},parseHeaderValue(t){let e={value:!1,params:{}},i=!1,r="",n="value",a=!1,s=!1,o;for(let l=0,c=t.length;l<c;l++)if(o=t.charAt(l),n==="key"){if(o==="="){i=r.trim().toLowerCase(),n="value",r="";continue}r+=o}else{if(s)r+=o;else if(o==="\\"){s=!0;continue}else a&&o===a?a=!1:!a&&o==='"'?a=o:!a&&o===";"?(i===!1?e.value=r.trim():e.params[i]=r.trim(),n="key",r=""):r+=o;s=!1}return n==="value"?i===!1?e.value=r.trim():e.params[i]=r.trim():r.trim()&&(e.params[r.trim().toLowerCase()]=""),Object.keys(e.params).forEach(l=>{let c,p,h,u;(h=l.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(c=l.substr(0,h.index),p=Number(h[2]||h[3])||0,(!e.params[c]||typeof e.params[c]!="object")&&(e.params[c]={charset:!1,values:[]}),u=e.params[l],p===0&&h[0].substr(-1)==="*"&&(h=u.match(/^([^']*)'[^']*'(.*)$/))&&(e.params[c].charset=h[1]||"iso-8859-1",u=h[2]),e.params[c].values[p]=u,delete e.params[l])}),Object.keys(e.params).forEach(l=>{let c;e.params[l]&&Array.isArray(e.params[l].values)&&(c=e.params[l].values.map(p=>p||"").join(""),e.params[l].charset?e.params[l]="=?"+e.params[l].charset+"?Q?"+c.replace(/[=?_\s]/g,p=>{let h=p.charCodeAt(0).toString(16);return p===" "?"_":"%"+(h.length<2?"0":"")+h}).replace(/%/g,"=")+"?=":e.params[l]=c)}),e},detectExtension:t=>gs.detectExtension(t),detectMimeType:t=>gs.detectMimeType(t),foldLines(t,e,i){t=(t||"").toString(),e=e||76;let r=0,n=t.length,a="",s,o;for(;r<n;){if(s=t.substr(r,e),s.length<e){a+=s;break}if(o=s.match(/^[^\n\r]*(\r?\n|\r)/)){s=o[0],a+=s,r+=s.length;continue}else(o=s.match(/(\s+)[^\s]*$/))&&o[0].length-(i?(o[1]||"").length:0)<s.length?s=s.substr(0,s.length-(o[0].length-(i?(o[1]||"").length:0))):(o=t.substr(r+s.length).match(/^[^\s]+(\s*)/))&&(s=s+o[0].substr(0,o[0].length-(i?0:(o[1]||"").length)));a+=s,r+=s.length,r<n&&(a+=`\r
`)}return a},splitMimeEncodedString:(t,e)=>{let i,r,n,a,s=[];for(e=Math.max(e||0,12);t.length;){for(i=t.substr(0,e),(r=i.match(/[=][0-9A-F]?$/i))&&(i=i.substr(0,r.index)),a=!1;!a;)a=!0,(r=t.substr(i.length).match(/^[=]([0-9A-F]{2})/i))&&(n=parseInt(r[1],16),n<194&&n>127&&(i=i.substr(0,i.length-3),a=!1));i.length&&s.push(i),t=t.substr(i.length)}return s},encodeURICharComponent:t=>{let e="",i=t.charCodeAt(0).toString(16).toUpperCase();if(i.length%2&&(i="0"+i),i.length>2)for(let r=0,n=i.length/2;r<n;r++)e+="%"+i.substr(r,2);else e+="%"+i;return e},safeEncodeURIComponent(t){t=(t||"").toString();try{t=encodeURIComponent(t)}catch{return t.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return t.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,e=>this.encodeURICharComponent(e))}}});var bs=f((Pb,ys)=>{"use strict";function uh(t){let e,i=!1,r="text",n,a=[],s={address:[],comment:[],group:[],text:[]},o,l;for(o=0,l=t.length;o<l;o++)if(e=t[o],e.type==="operator")switch(e.value){case"<":r="address";break;case"(":r="comment";break;case":":r="group",i=!0;break;default:r="text"}else e.value&&(r==="address"&&(e.value=e.value.replace(/^[^<]*<\s*/,"")),s[r].push(e.value));if(!s.text.length&&s.comment.length&&(s.text=s.comment,s.comment=[]),i)s.text=s.text.join(" "),a.push({name:s.text||n&&n.name,group:s.group.length?xs(s.group.join(",")):[]});else{if(!s.address.length&&s.text.length){for(o=s.text.length-1;o>=0;o--)if(s.text[o].match(/^[^@\s]+@[^@\s]+$/)){s.address=s.text.splice(o,1);break}let c=function(p){return s.address.length?p:(s.address=[p.trim()]," ")};if(!s.address.length)for(o=s.text.length-1;o>=0&&(s.text[o]=s.text[o].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,c).trim(),!s.address.length);o--);}if(!s.text.length&&s.comment.length&&(s.text=s.comment,s.comment=[]),s.address.length>1&&(s.text=s.text.concat(s.address.splice(1))),s.text=s.text.join(" "),s.address=s.address.join(" "),!s.address&&i)return[];n={address:s.address||s.text||"",name:s.text||s.address||""},n.address===n.name&&((n.address||"").match(/@/)?n.name="":n.address=""),a.push(n)}return a}var Tr=class{constructor(e){this.str=(e||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let e,i=[];for(let r=0,n=this.str.length;r<n;r++)e=this.str.charAt(r),this.checkChar(e);return this.list.forEach(r=>{r.value=(r.value||"").toString().trim(),r.value&&i.push(r)}),i}checkChar(e){if(!this.escaped){if(e===this.operatorExpecting){this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&e in this.operators){this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[e],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&e==="\\"){this.escaped=!0;return}}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),e===`
`&&(e=" "),(e.charCodeAt(0)>=33||[" ","	"].includes(e))&&(this.node.value+=e),this.escaped=!1}};function xs(t,e){e=e||{};let r=new Tr(t).tokenize(),n=[],a=[],s=[];if(r.forEach(o=>{o.type==="operator"&&(o.value===","||o.value===";")?(a.length&&n.push(a),a=[]):a.push(o)}),a.length&&n.push(a),n.forEach(o=>{o=uh(o),o.length&&(s=s.concat(o))}),e.flatten){let o=[],l=c=>{c.forEach(p=>{if(p.group)return l(p.group);o.push(p)})};return l(s),o}return s}ys.exports=xs});var _s=f((Hb,ws)=>{"use strict";var dh=require("stream").Transform,kr=class extends dh{constructor(){super(),this.lastByte=!1}_transform(e,i,r){e.length&&(this.lastByte=e[e.length-1]),this.push(e),r()}_flush(e){return this.lastByte===10?e():this.lastByte===13?(this.push(Buffer.from(`
`)),e()):(this.push(Buffer.from(`\r
`)),e())}};ws.exports=kr});var qr=f((zb,Es)=>{"use strict";var hh=require("stream"),fh=hh.Transform,Ar=class extends fh{constructor(e){super(e),this.options=e||{},this.lastByte=!1}_transform(e,i,r){let n,a=0;for(let s=0,o=e.length;s<o;s++)e[s]===10&&(s&&e[s-1]!==13||!s&&this.lastByte!==13)&&(s>a&&(n=e.slice(a,s),this.push(n)),this.push(Buffer.from(`\r
`)),a=s+1);a&&a<e.length?(n=e.slice(a),this.push(n)):a||this.push(e),this.lastByte=e[e.length-1],r()}};Es.exports=Ar});var Ts=f((Db,Ss)=>{"use strict";var mh=require("stream"),gh=mh.Transform,Mr=class extends gh{constructor(e){super(e),this.options=e||{}}_transform(e,i,r){let n,a=0;for(let s=0,o=e.length;s<o;s++)e[s]===13&&(n=e.slice(a,s),a=s+1,this.push(n));a&&a<e.length?(n=e.slice(a),this.push(n)):a||this.push(e),r()}};Ss.exports=Mr});var jr=f((Fb,ks)=>{"use strict";var Cr=require("crypto"),vh=require("fs"),xh=vr(),xt=require("stream").PassThrough,yh=Y(),le=vt(),bh=Sr(),wh=wr(),_h=bs(),Eh=ft(),Sh=_s(),Th=qr(),kh=Ts(),Or=class t{constructor(e,i){this.nodeCounter=0,i=i||{},this.baseBoundary=i.baseBoundary||Cr.randomBytes(8).toString("hex"),this.boundaryPrefix=i.boundaryPrefix||"--_NmP",this.disableFileAccess=!!i.disableFileAccess,this.disableUrlAccess=!!i.disableUrlAccess,this.normalizeHeaderKey=i.normalizeHeaderKey,this.date=new Date,this.rootNode=i.rootNode||this,this.keepBcc=!!i.keepBcc,i.filename&&(this.filename=i.filename,e||(e=le.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(i.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=i.parentNode,this.hostname=i.hostname,this.newline=i.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],e&&this.setHeader("Content-Type",e)}createChild(e,i){!i&&typeof e=="object"&&(i=e,e=void 0);let r=new t(e,i);return this.appendChild(r),r}appendChild(e){return e.rootNode!==this.rootNode&&(e.rootNode=this.rootNode,e._nodeId=++this.rootNode.nodeCounter),e.parentNode=this,this.childNodes.push(e),e}replace(e){return e===this?this:(this.parentNode.childNodes.forEach((i,r)=>{i===this&&(e.rootNode=this.rootNode,e.parentNode=this.parentNode,e._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,e.parentNode.childNodes[r]=e)}),e)}remove(){if(!this.parentNode)return this;for(let e=this.parentNode.childNodes.length-1;e>=0;e--)if(this.parentNode.childNodes[e]===this)return this.parentNode.childNodes.splice(e,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(e,i){let r=!1,n;if(!i&&e&&typeof e=="object")return e.key&&"value"in e?this.setHeader(e.key,e.value):Array.isArray(e)?e.forEach(a=>{this.setHeader(a.key,a.value)}):Object.keys(e).forEach(a=>{this.setHeader(a,e[a])}),this;e=this._normalizeHeaderKey(e),n={key:e,value:i};for(let a=0,s=this._headers.length;a<s;a++)this._headers[a].key===e&&(r?(this._headers.splice(a,1),a--,s--):(this._headers[a]=n,r=!0));return r||this._headers.push(n),this}addHeader(e,i){return!i&&e&&typeof e=="object"?(e.key&&e.value?this.addHeader(e.key,e.value):Array.isArray(e)?e.forEach(r=>{this.addHeader(r.key,r.value)}):Object.keys(e).forEach(r=>{this.addHeader(r,e[r])}),this):Array.isArray(i)?(i.forEach(r=>{this.addHeader(e,r)}),this):(this._headers.push({key:this._normalizeHeaderKey(e),value:i}),this)}getHeader(e){e=this._normalizeHeaderKey(e);for(let i=0,r=this._headers.length;i<r;i++)if(this._headers[i].key===e)return this._headers[i].value}setContent(e){return this.content=e,typeof this.content.pipe=="function"?(this._contentErrorHandler=i=>{this.content.removeListener("error",this._contentErrorHandler),this.content=i},this.content.once("error",this._contentErrorHandler)):typeof this.content=="string"&&(this._isPlainText=le.isPlainText(this.content),this._isPlainText&&le.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(e){let i;e||(i=new Promise((o,l)=>{e=yh.callbackPromise(o,l)}));let r=this.createReadStream(),n=[],a=0,s=!1;return r.on("readable",()=>{let o;for(;(o=r.read())!==null;)n.push(o),a+=o.length}),r.once("error",o=>{if(!s)return s=!0,e(o)}),r.once("end",o=>{if(!s)return s=!0,o&&o.length&&(n.push(o),a+=o.length),e(null,Buffer.concat(n,a))}),i}getTransferEncoding(){let e=!1,i=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return this.content&&(e=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim(),(!e||!["base64","quoted-printable"].includes(e))&&(/^text\//i.test(i)?this._isPlainText&&!this._hasLongLines?e="7bit":typeof this.content=="string"||this.content instanceof Buffer?e=this._getTextEncoding(this.content)==="Q"?"quoted-printable":"base64":e=this.textEncoding==="B"?"base64":"quoted-printable":/^(multipart|message)\//i.test(i)||(e=e||"base64"))),e}buildHeaders(){let e=this.getTransferEncoding(),i=[];if(e&&this.setHeader("Content-Transfer-Encoding",e),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this){this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0");for(let r=this._headers.length-2;r>=0;r--){let n=this._headers[r];n.key==="Content-Type"&&(this._headers.splice(r,1),this._headers.push(n))}}return this._headers.forEach(r=>{let n=r.key,a=r.value,s,o,l={};if(!(a&&typeof a=="object"&&!["From","Sender","To","Cc","Bcc","Reply-To","Date","References"].includes(n)&&(Object.keys(a).forEach(p=>{p!=="value"&&(l[p]=a[p])}),a=(a.value||"").toString(),!a.trim()))){if(l.prepared){l.foldLines?i.push(le.foldLines(n+": "+a)):i.push(n+": "+a);return}switch(r.key){case"Content-Disposition":s=le.parseHeaderValue(a),this.filename&&(s.params.filename=this.filename),a=le.buildHeaderValue(s);break;case"Content-Type":s=le.parseHeaderValue(a),this._handleContentType(s),s.value.match(/^text\/plain\b/)&&typeof this.content=="string"&&/[\u0080-\uFFFF]/.test(this.content)&&(s.params.charset="utf-8"),a=le.buildHeaderValue(s),this.filename&&(o=this._encodeWords(this.filename),(o!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(o))&&(o='"'+o+'"'),a+="; name="+o);break;case"Bcc":if(!this.keepBcc)return;break}if(a=this._encodeHeaderValue(n,a),!!(a||"").toString().trim()){if(typeof this.normalizeHeaderKey=="function"){let p=this.normalizeHeaderKey(n,a);p&&typeof p=="string"&&p.length&&(n=p)}i.push(le.foldLines(n+": "+a,76))}}}),i.join(`\r
`)}createReadStream(e){e=e||{};let i=new xt(e),r=i,n;this.stream(i,e,a=>{if(a){r.emit("error",a);return}i.end()});for(let a=0,s=this._transforms.length;a<s;a++)n=typeof this._transforms[a]=="function"?this._transforms[a]():this._transforms[a],r.once("error",o=>{n.emit("error",o)}),r=r.pipe(n);n=new Sh,r.once("error",a=>{n.emit("error",a)}),r=r.pipe(n);for(let a=0,s=this._processFuncs.length;a<s;a++)n=this._processFuncs[a],r=n(r);if(this.newline){let s=["win","windows","dos",`\r
`].includes(this.newline.toString().toLowerCase())?new Th:new kh,o=r.pipe(s);return r.on("error",l=>o.emit("error",l)),o}return r}transform(e){this._transforms.push(e)}processFunc(e){this._processFuncs.push(e)}stream(e,i,r){let n=this.getTransferEncoding(),a,s,o=!1,l=h=>{o||(o=!0,r(h))},c=()=>{let h=0,u=()=>{if(h>=this.childNodes.length)return e.write(`\r
--`+this.boundary+`--\r
`),l();let d=this.childNodes[h++];e.write((h>1?`\r
`:"")+"--"+this.boundary+`\r
`),d.stream(e,i,m=>{if(m)return l(m);setImmediate(u)})};if(this.multipart)setImmediate(u);else return l()},p=()=>{if(this.content){if(Object.prototype.toString.call(this.content)==="[object Error]")return l(this.content);typeof this.content.pipe=="function"&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=u=>l(u),this.content.once("error",this._contentErrorHandler));let h=()=>{["quoted-printable","base64"].includes(n)?(a=new(n==="base64"?wh:bh).Encoder(i),a.pipe(e,{end:!1}),a.once("end",c),a.once("error",u=>l(u)),s=this._getStream(this.content),s.pipe(a)):(s=this._getStream(this.content),s.pipe(e,{end:!1}),s.once("end",c)),s.once("error",u=>l(u))};if(this.content._resolve){let u=[],d=0,m=!1,v=this._getStream(this.content);v.on("error",x=>{m||(m=!0,l(x))}),v.on("readable",()=>{let x;for(;(x=v.read())!==null;)u.push(x),d+=x.length}),v.on("end",()=>{m||(m=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(u,d),setImmediate(h))})}else setImmediate(h);return}else return setImmediate(c)};this._raw?setImmediate(()=>{if(Object.prototype.toString.call(this._raw)==="[object Error]")return l(this._raw);typeof this._raw.pipe=="function"&&this._raw.removeListener("error",this._contentErrorHandler);let h=this._getStream(this._raw);h.pipe(e,{end:!1}),h.on("error",u=>e.emit("error",u)),h.on("end",c)}):(e.write(this.buildHeaders()+`\r
\r
`),setImmediate(p))}setEnvelope(e){let i;this._envelope={from:!1,to:[]},e.from&&(i=[],this._convertAddresses(this._parseAddresses(e.from),i),i=i.filter(n=>n&&n.address),i.length&&i[0]&&(this._envelope.from=i[0].address)),["to","cc","bcc"].forEach(n=>{e[n]&&this._convertAddresses(this._parseAddresses(e[n]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(n=>n.address).filter(n=>n);let r=["to","cc","bcc","from"];return Object.keys(e).forEach(n=>{r.includes(n)||(this._envelope[n]=e[n])}),this}getAddresses(){let e={};return this._headers.forEach(i=>{let r=i.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(r)&&(Array.isArray(e[r])||(e[r]=[]),this._convertAddresses(this._parseAddresses(i.value),e[r]))}),e}getEnvelope(){if(this._envelope)return this._envelope;let e={from:!1,to:[]};return this._headers.forEach(i=>{let r=[];i.key==="From"||!e.from&&["Reply-To","Sender"].includes(i.key)?(this._convertAddresses(this._parseAddresses(i.value),r),r.length&&r[0]&&(e.from=r[0].address)):["To","Cc","Bcc"].includes(i.key)&&this._convertAddresses(this._parseAddresses(i.value),e.to)}),e.to=e.to.map(i=>i.address),e}messageId(){let e=this.getHeader("Message-ID");return e||(e=this._generateMessageId(),this.setHeader("Message-ID",e)),e}setRaw(e){return this._raw=e,this._raw&&typeof this._raw.pipe=="function"&&(this._contentErrorHandler=i=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=i},this._raw.once("error",this._contentErrorHandler)),this}_getStream(e){let i;return e._resolvedValue?(i=new xt,setImmediate(()=>{try{i.end(e._resolvedValue)}catch(r){i.emit("error",r)}}),i):typeof e.pipe=="function"?e:e&&typeof e.path=="string"&&!e.href?this.disableFileAccess?(i=new xt,setImmediate(()=>i.emit("error",new Error("File access rejected for "+e.path))),i):vh.createReadStream(e.path):e&&typeof e.href=="string"?this.disableUrlAccess?(i=new xt,setImmediate(()=>i.emit("error",new Error("Url access rejected for "+e.href))),i):Eh(e.href,{headers:e.httpHeaders}):(i=new xt,setImmediate(()=>{try{i.end(e||"")}catch(r){i.emit("error",r)}}),i)}_parseAddresses(e){return[].concat.apply([],[].concat(e).map(i=>i&&i.address?(i.address=this._normalizeAddress(i.address),i.name=i.name||"",[i]):_h(i)))}_normalizeHeaderKey(e){return e=(e||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,i=>i.toUpperCase()).replace(/^Content-Features$/i,"Content-features"),e}_handleContentType(e){this.contentType=e.value.trim().toLowerCase(),this.multipart=/^multipart\//i.test(this.contentType)?this.contentType.substr(this.contentType.indexOf("/")+1):!1,this.multipart?this.boundary=e.params.boundary=e.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(e,i){switch(e=this._normalizeHeaderKey(e),e){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(i));case"Message-ID":case"In-Reply-To":case"Content-Id":return i=(i||"").toString().replace(/\r?\n|\r/g," "),i.charAt(0)!=="<"&&(i="<"+i),i.charAt(i.length-1)!==">"&&(i=i+">"),i;case"References":return i=[].concat.apply([],[].concat(i||"").map(r=>(r=(r||"").toString().replace(/\r?\n|\r/g," ").trim(),r.replace(/<[^>]*>/g,n=>n.replace(/\s/g,"")).split(/\s+/)))).map(r=>(r.charAt(0)!=="<"&&(r="<"+r),r.charAt(r.length-1)!==">"&&(r=r+">"),r)),i.join(" ").trim();case"Date":return Object.prototype.toString.call(i)==="[object Date]"?i.toUTCString().replace(/GMT/,"+0000"):(i=(i||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(i));case"Content-Type":case"Content-Disposition":return(i||"").toString().replace(/\r?\n|\r/g," ");default:return i=(i||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(i)}}_convertAddresses(e,i){let r=[];return i=i||[],[].concat(e||[]).forEach(n=>{if(n.address)n.address=this._normalizeAddress(n.address),n.name?n.name&&r.push(`${this._encodeAddressName(n.name)} <${n.address}>`):r.push(n.address.indexOf(" ")>=0?`<${n.address}>`:`${n.address}`),n.address&&(i.filter(a=>a.address===n.address).length||i.push(n));else if(n.group){let a=(n.group.length?this._convertAddresses(n.group,i):"").trim();r.push(`${this._encodeAddressName(n.name)}:${a};`)}}),r.join(", ")}_normalizeAddress(e){e=(e||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim();let i=e.lastIndexOf("@");if(i<0)return e;let r=e.substr(0,i),n=e.substr(i+1),a;try{a=xh.toASCII(n.toLowerCase())}catch{}return r.indexOf(" ")>=0&&(r.charAt(0)!=='"'&&(r='"'+r),r.substr(-1)!=='"'&&(r=r+'"')),`${r}@${a}`}_encodeAddressName(e){return/^[\w ]*$/.test(e)?e:/^[\x20-\x7e]*$/.test(e)?'"'+e.replace(/([\\"])/g,"\\$1")+'"':le.encodeWord(e,this._getTextEncoding(e),52)}_encodeWords(e){return le.encodeWords(e,this._getTextEncoding(e),52,!0)}_getTextEncoding(e){e=(e||"").toString();let i=this.textEncoding,r,n;return i||(n=(e.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length,r=(e.match(/[a-z]/gi)||[]).length,i=n<r?"Q":"B"),i}_generateMessageId(){return"<"+[2,2,2,6].reduce((e,i)=>e+"-"+Cr.randomBytes(i).toString("hex"),Cr.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}};ks.exports=Or});var qs=f((Bb,As)=>{"use strict";var yt=jr(),Rr=vt(),Ah=Y().parseDataURI,Lr=class{constructor(e){this.mail=e||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(e=>/^text\/html\b/i.test(e.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&&this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&this._attachments.attached.length===1,this.mail.raw?this.message=new yt("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(e=>{let i=e.replace(/-(\w)/g,(r,n)=>n.toUpperCase());this.mail[i]&&this.message.setHeader(e,this.mail[i])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(e){let i,r,n=[].concat(this.mail.attachments||[]).map((a,s)=>{let o,l=/^message\//i.test(a.contentType);/^data:/i.test(a.path||a.href)&&(a=this._processDataUrl(a));let c=a.contentType||Rr.detectMimeType(a.filename||a.path||a.href||"bin"),p=/^image\//i.test(c),h=a.contentDisposition||(l||p&&a.cid?"inline":"attachment");return o={contentType:c,contentDisposition:h,contentTransferEncoding:"contentTransferEncoding"in a?a.contentTransferEncoding:"base64"},a.filename?o.filename=a.filename:!l&&a.filename!==!1&&(o.filename=(a.path||a.href||"").split("/").pop().split("?").shift()||"attachment-"+(s+1),o.filename.indexOf(".")<0&&(o.filename+="."+Rr.detectExtension(o.contentType))),/^https?:\/\//i.test(a.path)&&(a.href=a.path,a.path=void 0),a.cid&&(o.cid=a.cid),a.raw?o.raw=a.raw:a.path?o.content={path:a.path}:a.href?o.content={href:a.href,httpHeaders:a.httpHeaders}:o.content=a.content||"",a.encoding&&(o.encoding=a.encoding),a.headers&&(o.headers=a.headers),o});return this.mail.icalEvent&&(typeof this.mail.icalEvent=="object"&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?i=this.mail.icalEvent:i={content:this.mail.icalEvent},r={},Object.keys(i).forEach(a=>{r[a]=i[a]}),r.contentType="application/ics",r.headers||(r.headers={}),r.filename=r.filename||"invite.ics",r.headers["Content-Disposition"]="attachment",r.headers["Content-Transfer-Encoding"]="base64"),e?{attached:n.filter(a=>!a.cid).concat(r||[]),related:n.filter(a=>!!a.cid)}:{attached:n.concat(r||[]),related:[]}}getAlternatives(){let e=[],i,r,n,a,s,o;return this.mail.text&&(typeof this.mail.text=="object"&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?i=this.mail.text:i={content:this.mail.text},i.contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&(typeof this.mail.watchHtml=="object"&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?n=this.mail.watchHtml:n={content:this.mail.watchHtml},n.contentType="text/watch-html; charset=utf-8"),this.mail.amp&&(typeof this.mail.amp=="object"&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?a=this.mail.amp:a={content:this.mail.amp},a.contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(typeof this.mail.icalEvent=="object"&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?s=this.mail.icalEvent:s={content:this.mail.icalEvent},o={},Object.keys(s).forEach(l=>{o[l]=s[l]}),o.content&&typeof o.content=="object"&&(o.content._resolve=!0),o.filename=!1,o.contentType="text/calendar; charset=utf-8; method="+(o.method||"PUBLISH").toString().trim().toUpperCase(),o.headers||(o.headers={})),this.mail.html&&(typeof this.mail.html=="object"&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?r=this.mail.html:r={content:this.mail.html},r.contentType="text/html; charset=utf-8"),[].concat(i||[]).concat(n||[]).concat(a||[]).concat(r||[]).concat(o||[]).concat(this.mail.alternatives||[]).forEach(l=>{let c;/^data:/i.test(l.path||l.href)&&(l=this._processDataUrl(l)),c={contentType:l.contentType||Rr.detectMimeType(l.filename||l.path||l.href||"txt"),contentTransferEncoding:l.contentTransferEncoding},l.filename&&(c.filename=l.filename),/^https?:\/\//i.test(l.path)&&(l.href=l.path,l.path=void 0),l.raw?c.raw=l.raw:l.path?c.content={path:l.path}:l.href?c.content={href:l.href}:c.content=l.content||"",l.encoding&&(c.encoding=l.encoding),l.headers&&(c.headers=l.headers),e.push(c)}),e}_createMixed(e){let i;return e?i=e.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):i=new yt("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(i):this._useRelated&&this._createRelated(i),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(r=>{(!this._useRelated||r!==this._htmlNode)&&this._createContentNode(i,r)}),i}_createAlternative(e){let i;return e?i=e.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):i=new yt("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(r=>{this._useRelated&&this._htmlNode===r?this._createRelated(i):this._createContentNode(i,r)}),i}_createRelated(e){let i;return e?i=e.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):i=new yt('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(i,this._htmlNode),this._attachments.related.forEach(r=>this._createContentNode(i,r)),i}_createContentNode(e,i){i=i||{},i.content=i.content||"";let r,n=(i.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return e?r=e.createChild(i.contentType,{filename:i.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):r=new yt(i.contentType,{filename:i.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),i.headers&&r.addHeader(i.headers),i.cid&&r.setHeader("Content-Id","<"+i.cid.replace(/[<>]/g,"")+">"),i.contentTransferEncoding?r.setHeader("Content-Transfer-Encoding",i.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(i.contentType)&&r.setHeader("Content-Transfer-Encoding",this.mail.encoding),(!/^text\//i.test(i.contentType)||i.contentDisposition)&&r.setHeader("Content-Disposition",i.contentDisposition||(i.cid&&/^image\//i.test(i.contentType)?"inline":"attachment")),typeof i.content=="string"&&!["utf8","usascii","ascii"].includes(n)&&(i.content=Buffer.from(i.content,n)),i.raw?r.setRaw(i.raw):r.setContent(i.content),r}_processDataUrl(e){let i;return(e.path||e.href).match(/^data:/)&&(i=Ah(e.path||e.href)),i&&(e.content=i.data,e.contentType=e.contentType||i.contentType,"path"in e&&(e.path=!1),"href"in e&&(e.href=!1)),e}};As.exports=Lr});var Cs=f((Ub,Ms)=>{"use strict";var qh=require("stream").Transform,Ir=class extends qh{constructor(e){super(e),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(e){let i=this.lastBytes.length,r=Math.min(e.length,i);for(let n=0,a=i-r;n<a;n++)this.lastBytes[n]=this.lastBytes[n+r];for(let n=1;n<=r;n++)this.lastBytes[i-n]=e[e.length-n]}checkHeaders(e){if(this.headersParsed)return!0;let i=this.lastBytes.length,r=0;this.curLinePos=0;for(let n=0,a=this.lastBytes.length+e.length;n<a;n++){let s;if(n<i?s=this.lastBytes[n]:s=e[n-i],s===10&&n){let o=n-1<i?this.lastBytes[n-1]:e[n-1-i],l=n>1?n-2<i?this.lastBytes[n-2]:e[n-2-i]:!1;if(o===10){this.headersParsed=!0,r=n-i+1,this.headerBytes+=r;break}else if(o===13&&l===10){this.headersParsed=!0,r=n-i+1,this.headerBytes+=r;break}}}if(this.headersParsed){if(this.headerChunks.push(e.slice(0,r)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),e.length-1>r){let n=e.slice(r);this.bodySize+=n.length,setImmediate(()=>this.push(n))}return!1}else this.headerBytes+=e.length,this.headerChunks.push(e);return this.updateLastBytes(e),!1}_transform(e,i,r){if(!e||!e.length)return r();typeof e=="string"&&(e=Buffer.from(e,i));let n;try{n=this.checkHeaders(e)}catch(a){return r(a)}n&&(this.bodySize+=e.length,this.push(e)),setImmediate(r)}_flush(e){if(this.headerChunks){let i=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=i.length,this.push(i),this.headerChunks=null}e()}parseHeaders(){let e=(this.rawHeaders||"").toString().split(/\r?\n/);for(let i=e.length-1;i>0;i--)/^\s/.test(e[i])&&(e[i-1]+=`
`+e[i],e.splice(i,1));return e.filter(i=>i.trim()).map(i=>({key:i.substr(0,i.indexOf(":")).trim().toLowerCase(),line:i}))}};Ms.exports=Ir});var js=f(($b,Os)=>{"use strict";var Mh=require("stream").Transform,Ch=require("crypto"),Nr=class extends Mh{constructor(e){super(),e=e||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=Ch.createHash(e.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=e.debug,this._debugBody=e.debug?[]:!1}updateHash(e){let i,r="",n="file";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(n==="file"&&(o===10||o===13))){if(n==="file"&&(o===9||o===32))n="line";else if(!(n==="line"&&(o===9||o===32))){if((n==="file"||n==="line")&&(n="body",s===e.length-1))break}}if(s===0){if(n==="file"&&(!this.remainder||/[\r\n]$/.test(this.remainder))||n==="line"&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=e.toString("binary");return}else if(n==="line"||n==="file"){r=e.toString("binary"),e=!1;break}}if(n==="body"){r=e.slice(s+1).toString("binary"),e=e.slice(0,s+1);break}}let a=!!this.remainder;if(e&&!a){for(let s=0,o=e.length;s<o;s++)if(s&&e[s]===10&&e[s-1]!==13){a=!0;break}else if(s&&e[s]===13&&e[s-1]===32){a=!0;break}else if(s&&e[s]===32&&e[s-1]===32){a=!0;break}else if(e[s]===9){a=!0;break}}a?(i=this.remainder+(e?e.toString("binary"):""),this.remainder=r,i=i.replace(/\r?\n/g,`
`).replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,`\r
`),e=Buffer.from(i,"binary")):r&&(this.remainder=r),this.debug&&this._debugBody.push(e),this.bodyHash.update(e)}_transform(e,i,r){if(!e||!e.length)return r();typeof e=="string"&&(e=Buffer.from(e,i)),this.updateHash(e),this.byteLength+=e.length,this.push(e),r()}_flush(e){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from(`\r
`)),this.byteLength||this.push(Buffer.from(`\r
`)),this.emit("hash",this.bodyHash.digest("base64"),this.debug?Buffer.concat(this._debugBody):!1),e()}};Os.exports=Nr});var Is=f((Gb,Pr)=>{"use strict";var Oh=vr(),jh=vt(),Rh=require("crypto");Pr.exports=(t,e,i,r)=>{r=r||{};let a=r.headerFieldNames||"From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",s=Rs(t,a,r.skipFields),o=Lh(r.domainName,r.keySelector,s.fieldNames,e,i),l,c;s.headers+="dkim-signature:"+Ls(o),l=Rh.createSign(("rsa-"+e).toUpperCase()),l.update(s.headers);try{c=l.sign(r.privateKey,"base64")}catch{return!1}return o+c.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,`$&\r
 `).trim()};Pr.exports.relaxedHeaders=Rs;function Lh(t,e,i,r,n){let a=["v=1","a=rsa-"+r,"c=relaxed/relaxed","d="+Oh.toASCII(t),"q=dns/txt","s="+e,"bh="+n,"h="+i].join("; ");return jh.foldLines("DKIM-Signature: "+a,76)+`;\r
 b=`}function Rs(t,e,i){let r=new Set,n=new Set,a=new Map;(i||"").toLowerCase().split(":").forEach(l=>{n.add(l.trim())}),(e||"").toLowerCase().split(":").filter(l=>!n.has(l.trim())).forEach(l=>{r.add(l.trim())});for(let l=t.length-1;l>=0;l--){let c=t[l];r.has(c.key)&&!a.has(c.key)&&a.set(c.key,Ls(c.line))}let s=[],o=[];return r.forEach(l=>{a.has(l)&&(o.push(l),s.push(l+":"+a.get(l)))}),{headers:s.join(`\r
`)+`\r
`,fieldNames:o.join(":")}}function Ls(t){return t.substr(t.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}});var Ps=f((Yb,Ns)=>{"use strict";var Ih=Cs(),Nh=js(),Ph=Is(),Hr=require("stream").PassThrough,zr=require("fs"),Hh=require("path"),zh=require("crypto"),Dh="sha256",Fh=128*1024,Dr=class{constructor(e,i,r,n){this.options=e||{},this.keys=i,this.cacheTreshold=Number(this.options.cacheTreshold)||Fh,this.hashAlgo=this.options.hashAlgo||Dh,this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=this.cacheDir?Hh.join(this.cacheDir,"message."+Date.now()+"-"+zh.randomBytes(14).toString("hex")):!1,this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=r,this.output=n,this.output.usingCache=!1,this.hasErrored=!1,this.input.on("error",a=>{this.hasErrored=!0,this.cleanup(),n.emit("error",a)})}cleanup(){!this.cache||!this.cachePath||zr.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=zr.createReadStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.output.emit("error",e)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let e=this.chunks[this.readPos++];if(this.output.write(e)===!1)return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let e=0,i=()=>{if(e>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let r=this.keys[e++],n=Ph(this.headers,this.hashAlgo,this.bodyHash,{domainName:r.domainName,keySelector:r.keySelector,privateKey:r.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return n&&this.output.write(Buffer.from(n+`\r
`)),setImmediate(i)};if(this.bodyHash&&this.headers)return i();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=zr.createWriteStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;this.relaxedBody.read()!==null;);}),this.hasErrored=!0,this.output.emit("error",e)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new Ih,this.relaxedBody=new Nh({hashAlgo:this.hashAlgo}),this.parser.on("headers",e=>{this.headers=e}),this.relaxedBody.on("hash",e=>{this.bodyHash=e}),this.relaxedBody.on("readable",()=>{let e;if(!this.cache){for(;(e=this.relaxedBody.read())!==null;)if(this.chunks.push(e),this.chunklen+=e.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}},Fr=class{constructor(e){this.options=e||{},this.keys=[].concat(this.options.keys||{domainName:e.domainName,keySelector:e.keySelector,privateKey:e.privateKey})}sign(e,i){let r=new Hr,n=e,a=!1;Buffer.isBuffer(e)?(a=e,n=new Hr):typeof e=="string"&&(a=Buffer.from(e),n=new Hr);let s=this.options;i&&Object.keys(i).length&&(s={},Object.keys(this.options||{}).forEach(l=>{s[l]=this.options[l]}),Object.keys(i||{}).forEach(l=>{l in s||(s[l]=i[l])}));let o=new Dr(s,this.keys,n,r);return setImmediate(()=>{o.signStream(),a&&setImmediate(()=>{n.end(a)})}),r}};Ns.exports=Fr});var Bs=f((Wb,Fs)=>{"use strict";var Hs=require("net"),zs=require("tls"),Bh=require("url");function Ds(t,e,i,r){let n=Bh.parse(t),a,s,o;a={host:n.hostname,port:Number(n.port)?Number(n.port):n.protocol==="https:"?443:80},n.protocol==="https:"?(a.rejectUnauthorized=!1,s=zs.connect.bind(zs)):s=Hs.connect.bind(Hs);let l=!1,c=h=>{if(!l){l=!0;try{o.destroy()}catch{}r(h)}},p=()=>{let h=new Error("Proxy socket timed out");h.code="ETIMEDOUT",c(h)};o=s(a,()=>{if(l)return;let h={Host:i+":"+e,Connection:"close"};n.auth&&(h["Proxy-Authorization"]="Basic "+Buffer.from(n.auth).toString("base64")),o.write("CONNECT "+i+":"+e+` HTTP/1.1\r
`+Object.keys(h).map(m=>m+": "+h[m]).join(`\r
`)+`\r
\r
`);let u="",d=m=>{let v,x;if(!l&&(u+=m.toString("binary"),v=u.match(/\r\n\r\n/))){if(o.removeListener("data",d),x=u.substr(v.index+v[0].length),u=u.substr(0,v.index),x&&o.unshift(Buffer.from(x,"binary")),l=!0,v=u.match(/^HTTP\/\d+\.\d+ (\d+)/i),!v||(v[1]||"").charAt(0)!=="2"){try{o.destroy()}catch{}return r(new Error("Invalid response from proxy"+(v&&": "+v[1]||"")))}return o.removeListener("error",c),o.removeListener("timeout",p),o.setTimeout(0),r(null,o)}};o.on("data",d)}),o.setTimeout(Ds.timeout||30*1e3),o.on("timeout",p),o.once("error",c)}Fs.exports=Ds});var Gs=f((Vb,$s)=>{"use strict";var Us=Y(),Uh=jr(),Qe=vt(),Br=class{constructor(e,i){this.mailer=e,this.data={},this.message=null,i=i||{};let r=e.options||{},n=e._defaults||{};Object.keys(i).forEach(a=>{this.data[a]=i[a]}),this.data.headers=this.data.headers||{},Object.keys(n).forEach(a=>{a in this.data?a==="headers"&&Object.keys(n.headers).forEach(s=>{s in this.data.headers||(this.data.headers[s]=n.headers[s])}):this.data[a]=n[a]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(a=>{a in r&&(this.data[a]=r[a])})}resolveContent(...e){return Us.resolveContent(...e)}resolveAll(e){let i=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((l,c)=>{i.push([this.data.alternatives,c])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((l,c)=>{l.filename||(l.filename=(l.path||l.href||"").split("/").pop().split("?").shift()||"attachment-"+(c+1),l.filename.indexOf(".")<0&&(l.filename+="."+Qe.detectExtension(l.contentType))),l.contentType||(l.contentType=Qe.detectMimeType(l.filename||l.path||l.href||"bin")),i.push([this.data.attachments,c])});let r=new Uh;["from","to","cc","bcc","sender","replyTo"].forEach(l=>{let c;this.message?c=[].concat(r._parseAddresses(this.message.getHeader(l==="replyTo"?"reply-to":l))||[]):this.data[l]&&(c=[].concat(r._parseAddresses(this.data[l])||[])),c&&c.length?this.data[l]=c:l in this.data&&(this.data[l]=null)}),["from","sender"].forEach(l=>{this.data[l]&&(this.data[l]=this.data[l].shift())});let s=0,o=()=>{if(s>=i.length)return e(null,this.data);let l=i[s++];if(!l[0]||!l[0][l[1]])return o();Us.resolveContent(...l,(c,p)=>{if(c)return e(c);let h={content:p};l[0][l[1]]&&typeof l[0][l[1]]=="object"&&!Buffer.isBuffer(l[0][l[1]])&&Object.keys(l[0][l[1]]).forEach(u=>{!(u in h)&&!["content","path","href","raw"].includes(u)&&(h[u]=l[0][l[1]][u])}),l[0][l[1]]=h,o()})};setImmediate(()=>o())}normalize(e){let i=this.data.envelope||this.message.getEnvelope(),r=this.message.messageId();this.resolveAll((n,a)=>n?e(n):(a.envelope=i,a.messageId=r,["html","text","watchHtml","amp"].forEach(s=>{a[s]&&a[s].content&&(typeof a[s].content=="string"?a[s]=a[s].content:Buffer.isBuffer(a[s].content)&&(a[s]=a[s].content.toString()))}),a.icalEvent&&Buffer.isBuffer(a.icalEvent.content)&&(a.icalEvent.content=a.icalEvent.content.toString("base64"),a.icalEvent.encoding="base64"),a.alternatives&&a.alternatives.length&&a.alternatives.forEach(s=>{s&&s.content&&Buffer.isBuffer(s.content)&&(s.content=s.content.toString("base64"),s.encoding="base64")}),a.attachments&&a.attachments.length&&a.attachments.forEach(s=>{s&&s.content&&Buffer.isBuffer(s.content)&&(s.content=s.content.toString("base64"),s.encoding="base64")}),a.normalizedHeaders={},Object.keys(a.headers||{}).forEach(s=>{let o=[].concat(a.headers[s]||[]).shift();o=o&&o.value||o,o&&(["references","in-reply-to","message-id","content-id"].includes(s)&&(o=this.message._encodeHeaderValue(s,o)),a.normalizedHeaders[s]=o)}),a.list&&typeof a.list=="object"&&this._getListHeaders(a.list).forEach(o=>{a.normalizedHeaders[o.key]=o.value.map(l=>l&&l.value||l).join(", ")}),a.references&&(a.normalizedHeaders.references=this.message._encodeHeaderValue("references",a.references)),a.inReplyTo&&(a.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",a.inReplyTo)),e(null,a)))}setMailerHeader(){!this.message||!this.data.xMailer||this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(!(!this.message||!this.data.priority))switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low");break;default:}}setListHeaders(){!this.message||!this.data.list||typeof this.data.list!="object"||this.data.list&&typeof this.data.list=="object"&&this._getListHeaders(this.data.list).forEach(e=>{e.value.forEach(i=>{this.message.addHeader(e.key,i)})})}_getListHeaders(e){return Object.keys(e).map(i=>({key:"list-"+i.toLowerCase().trim(),value:[].concat(e[i]||[]).map(r=>({prepared:!0,foldLines:!0,value:[].concat(r||[]).map(n=>{if(typeof n=="string"&&(n={url:n}),n&&n.url){if(i.toLowerCase().trim()==="id"){let s=n.comment||"";return Qe.isPlainText(s)?s='"'+s+'"':s=Qe.encodeWord(s),(n.comment?s+" ":"")+this._formatListUrl(n.url).replace(/^<[^:]+\/{,2}/,"")}let a=n.comment||"";return Qe.isPlainText(a)||(a=Qe.encodeWord(a)),this._formatListUrl(n.url)+(n.comment?" ("+a+")":"")}return""}).filter(n=>n).join(", ")}))}))}_formatListUrl(e){return e=e.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(e)?"<"+e+">":/^[^@]+@[^@]+$/.test(e)?"<mailto:"+e+">":"<http://"+e+">"}};$s.exports=Br});var Ks=f((Kb,Vs)=>{"use strict";var $h=require("events"),Ys=Y(),Gh=fr(),Yh=qs(),Ws=Ps(),Wh=Bs(),Vh=require("util"),Kh=require("url"),Ur=oe(),Qh=Gs(),Jh=require("net"),Xh=require("dns"),Zh=require("crypto"),$r=class extends $h{constructor(e,i,r){super(),this.options=i||{},this._defaults=r||{},this._defaultPlugins={compile:[(...n)=>this._convertDataImages(...n)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=this.options.dkim?new Ws(this.options.dkim):!1,this.transporter=e,this.transporter.mailer=this,this.logger=Ys.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),typeof this.transporter.on=="function"&&(this.transporter.on("log",n=>{this.logger.debug({tnx:"transport"},"%s: %s",n.type,n.message)}),this.transporter.on("error",n=>{this.logger.error({err:n,tnx:"transport"},"Transport Error: %s",n.message),this.emit("error",n)}),this.transporter.on("idle",(...n)=>{this.emit("idle",...n)})),["close","isIdle","verify"].forEach(n=>{this[n]=(...a)=>typeof this.transporter[n]=="function"?(n==="verify"&&typeof this.getSocket=="function"&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[n](...a)):(this.logger.warn({tnx:"transport",methodName:n},"Non existing method %s called for transport",n),!1)}),this.options.proxy&&typeof this.options.proxy=="string"&&this.setupProxy(this.options.proxy)}use(e,i){return e=(e||"").toString(),this._userPlugins.hasOwnProperty(e)?this._userPlugins[e].push(i):this._userPlugins[e]=[i],this}sendMail(e,i=null){let r;i||(r=new Promise((a,s)=>{i=Ys.callbackPromise(a,s)})),typeof this.getSocket=="function"&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let n=new Qh(this,e);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",n,a=>{if(a)return this.logger.error({err:a,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",a.message),i(a);n.message=new Yh(n.data).compile(),n.setMailerHeader(),n.setPriorityHeaders(),n.setListHeaders(),this._processPlugins("stream",n,s=>{if(s)return this.logger.error({err:s,tnx:"plugin",action:"stream"},"PluginStream Error: %s",s.message),i(s);(n.data.dkim||this.dkim)&&n.message.processFunc(o=>{let l=n.data.dkim?new Ws(n.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:n.message.messageId(),dkimDomains:l.keys.map(c=>c.keySelector+"."+c.domainName).join(", ")},"Signing outgoing message with %s keys",l.keys.length),l.sign(o,n.data._dkim)}),this.transporter.send(n,(...o)=>{o[0]&&this.logger.error({err:o[0],tnx:"transport",action:"send"},"Send Error: %s",o[0].message),i(...o)})})}),r}getVersionString(){return Vh.format("%s (%s; +%s; %s/%s)",Ur.name,Ur.version,Ur.homepage,this.transporter.name,this.transporter.version)}_processPlugins(e,i,r){if(e=(e||"").toString(),!this._userPlugins.hasOwnProperty(e))return r();let n=this._userPlugins[e]||[],a=this._defaultPlugins[e]||[];if(n.length&&this.logger.debug({tnx:"transaction",pluginCount:n.length,step:e},"Using %s plugins for %s",n.length,e),n.length+a.length===0)return r();let s=0,o="default",l=()=>{let c=o==="default"?a:n;if(s>=c.length)if(o==="default"&&n.length)o="user",s=0,c=n;else return r();let p=c[s++];p(i,h=>{if(h)return r(h);l()})};l()}setupProxy(e){let i=Kh.parse(e);this.getSocket=(r,n)=>{let a=i.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+a))return this.meta.get("proxy_handler_"+a)(i,r,n);switch(a){case"http":case"https":Wh(i.href,r.port,r.host,(s,o)=>s?n(s):n(null,{connection:o}));return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return n(new Error("Socks module not loaded"));let s=o=>{let l=!!this.meta.get("proxy_socks_module").SocksClient,c=l?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),p=Number(i.protocol.replace(/\D/g,""))||5,h={proxy:{ipaddress:o,port:Number(i.port),type:p},[l?"destination":"target"]:{host:r.host,port:r.port},command:"connect"};if(i.auth){let u=decodeURIComponent(i.auth.split(":").shift()),d=decodeURIComponent(i.auth.split(":").pop());l?(h.proxy.userId=u,h.proxy.password=d):p===4?h.userid=u:h.authentication={username:u,password:d}}c.createConnection(h,(u,d)=>u?n(u):n(null,{connection:d.socket||d}))};return Jh.isIP(i.hostname)?s(i.hostname):Xh.resolve(i.hostname,(o,l)=>{if(o)return n(o);s(Array.isArray(l)?l[0]:l)})}}n(new Error("Unknown proxy configuration"))}}_convertDataImages(e,i){if(!this.options.attachDataUrls&&!e.data.attachDataUrls||!e.data.html)return i();e.resolveContent(e.data,"html",(r,n)=>{if(r)return i(r);let a=0;n=(n||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(s,o,l,c)=>{let p=Zh.randomBytes(10).toString("hex")+"@localhost";return e.data.attachments||(e.data.attachments=[]),Array.isArray(e.data.attachments)||(e.data.attachments=[].concat(e.data.attachments||[])),e.data.attachments.push({path:l,cid:p,filename:"image-"+ ++a+"."+Gh.detectExtension(c)}),o+"cid:"+p}),e.data.html=n,i()})}set(e,i){return this.meta.set(e,i)}get(e){return this.meta.get(e)}};Vs.exports=$r});var Js=f((Qb,Qs)=>{"use strict";var ef=require("stream"),tf=ef.Transform,Gr=class extends tf{constructor(e){super(e),this.options=e||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(e,i,r){let n=[],a=0,s,o,l=0,c;if(!e||!e.length)return r();for(typeof e=="string"&&(e=Buffer.from(e)),this.inByteCount+=e.length,s=0,o=e.length;s<o;s++)e[s]===46?(s&&e[s-1]===10||!s&&(!this.lastByte||this.lastByte===10))&&(c=e.slice(l,s+1),n.push(c),n.push(Buffer.from(".")),a+=c.length+1,l=s+1):e[s]===10&&(s&&e[s-1]!==13||!s&&this.lastByte!==13)&&(s>l?(c=e.slice(l,s),n.push(c),a+=c.length+2):a+=2,n.push(Buffer.from(`\r
`)),l=s+1);a?(l<e.length&&(c=e.slice(l),n.push(c),a+=c.length),this.outByteCount+=a,this.push(Buffer.concat(n,a))):(this.outByteCount+=e.length,this.push(e)),this.lastByte=e[e.length-1],r()}_flush(e){let i;this.lastByte===10?i=Buffer.from(`.\r
`):this.lastByte===13?i=Buffer.from(`
.\r
`):i=Buffer.from(`\r
.\r
`),this.outByteCount+=i.length,this.push(i),e()}};Qs.exports=Gr});var Xt=f((Jb,io)=>{"use strict";var rf=oe(),nf=require("events").EventEmitter,Xs=require("net"),Zs=require("tls"),af=require("os"),eo=require("crypto"),sf=Js(),of=require("stream").PassThrough,we=Y(),lf=2*60*1e3,to=10*60*1e3,cf=30*1e3,pf=30*1e3,Yr=class extends nf{constructor(e){super(e),this.id=eo.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=e||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",this.servername=this.options.servername?this.options.servername:Xs.isIP(this.host)?!1:this.host,this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,typeof this.options.secure>"u"&&this.port===465&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=we.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(i=>{let r=(i||"").toString().trim().toUpperCase();r&&this.customAuth.set(r,this.options.customAuth[i])}),this.version=rf.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=i=>this._onData(i),this._onSocketError=i=>this._onError(i,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(e){if(typeof e=="function"){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),e()});let n=this._isDestroyedMessage("connect");if(n)return e(this._formatError(n,"ECONNECTION",!1,"CONN"))}let i={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||pf};this.options.localAddress&&(i.localAddress=this.options.localAddress);let r=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||lf),this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection,this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(n=>{if(n){this._onError(new Error("Error initiating TLS - "+(n.message||n)),"ETLS",!1,"CONN");return}this._onConnect()})):setImmediate(()=>this._onConnect());return}else return this.options.socket?(this._socket=this.options.socket,we.resolveHostname(i,(n,a)=>{if(n)return setImmediate(()=>this._onError(n,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:i.host,resolved:a.host,cached:!!a.cached},"Resolved %s as %s [cache %s]",i.host,a.host,a.cached?"hit":"miss"),Object.keys(a).forEach(s=>{s.charAt(0)!=="_"&&a[s]&&(i[s]=a[s])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),r()}catch(s){return setImmediate(()=>this._onError(s,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(n=>{i[n]=this.options.tls[n]}),this.servername&&!i.servername&&(i.servername=this.servername),we.resolveHostname(i,(n,a)=>{if(n)return setImmediate(()=>this._onError(n,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:i.host,resolved:a.host,cached:!!a.cached},"Resolved %s as %s [cache %s]",i.host,a.host,a.cached?"hit":"miss"),Object.keys(a).forEach(s=>{s.charAt(0)!=="_"&&a[s]&&(i[s]=a[s])});try{this._socket=Zs.connect(i,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),r()}catch(s){return setImmediate(()=>this._onError(s,"ECONNECTION",!1,"CONN"))}})):we.resolveHostname(i,(n,a)=>{if(n)return setImmediate(()=>this._onError(n,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:i.host,resolved:a.host,cached:!!a.cached},"Resolved %s as %s [cache %s]",i.host,a.host,a.cached?"hit":"miss"),Object.keys(a).forEach(s=>{s.charAt(0)!=="_"&&a[s]&&(i[s]=a[s])});try{this._socket=Xs.connect(i,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),r()}catch(s){return setImmediate(()=>this._onError(s,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let e="end";this.stage==="init"&&(e="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',e);let i=this._socket&&this._socket.socket||this._socket;if(i&&!i.destroyed)try{this._socket[e]()}catch{}this._destroy()}login(e,i){let r=this._isDestroyedMessage("login");if(r)return i(this._formatError(r,"ECONNECTION",!1,"API"));if(this._auth=e||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,!this._authMethod&&this._auth.oauth2&&!this._auth.credentials?this._authMethod="XOAUTH2":(!this._authMethod||this._authMethod==="XOAUTH2"&&!this._auth.oauth2)&&(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()),this._authMethod!=="XOAUTH2"&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass))if(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod))this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options};else return i(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));if(this.customAuth.has(this._authMethod)){let n=this.customAuth.get(this._authMethod),a,s=!1,o=()=>{s||(s=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,i(null,!0))},l=p=>{s||(s=!0,i(this._formatError(p,"EAUTH",a,"AUTH "+this._authMethod)))},c=n({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(p,h)=>{let u;return h||(u=new Promise((d,m)=>{h=we.callbackPromise(d,m)})),this._responseActions.push(d=>{a=d;let m=d.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),v={command:p,response:d};m?(v.status=Number(m[1])||0,m[2]&&(v.code=m[2]),v.text=d.substr(m[0].length)):(v.text=d,v.status=0),h(null,v)}),setImmediate(()=>this._sendCommand(p)),u},resolve:o,reject:l});c&&typeof c.catch=="function"&&c.then(o).catch(l);return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(!1,i);return;case"LOGIN":this._responseActions.push(n=>{this._actionAUTH_LOGIN_USER(n,i)}),this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(n=>{this._actionAUTHComplete(n,i)}),this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(n=>{this._actionAUTH_CRAM_MD5(n,i)}),this._sendCommand("AUTH CRAM-MD5");return}return i(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}send(e,i,r){if(!i)return r(this._formatError("Empty message","EMESSAGE",!1,"API"));let n=this._isDestroyedMessage("send message");if(n)return r(this._formatError(n,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&e.size>this._maxAllowedSize)return setImmediate(()=>{r(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let a=!1,s=function(){a||(a=!0,r(...arguments))};typeof i.on=="function"&&i.on("error",l=>s(this._formatError(l,"ESTREAM",!1,"API")));let o=Date.now();this._setEnvelope(e,(l,c)=>{if(l)return s(l);let p=Date.now(),h=this._createSendStream((u,d)=>u?s(u):(c.envelopeTime=p-o,c.messageTime=Date.now()-p,c.messageSize=h.outByteCount,c.response=d,s(null,c)));typeof i.pipe=="function"?i.pipe(h):(h.write(i),h.end())})}reset(e){this._sendCommand("RSET"),this._responseActions.push(i=>i.charAt(0)!=="2"?e(this._formatError("Could not reset session state. response="+i,"EPROTOCOL",i,"RSET")):(this._envelope=!1,e(null,!0)))}_onConnect(){if(clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed){this.close();return}this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||to),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||cf),this._responseActions.push(this._actionGreeting),this._socket.resume()}_onData(e){if(this._destroyed||!e||!e.length)return;let i=(e||"").toString("binary"),r=(this._remainder+i).split(/\r?\n/),n;this._remainder=r.pop();for(let a=0,s=r.length;a<s;a++){if(this._responseQueue.length&&(n=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(n.split(`
`).pop()))){this._responseQueue[this._responseQueue.length-1]+=`
`+r[a];continue}this._responseQueue.push(r[a])}this._responseQueue.length&&(n=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(n.split(`
`).pop()))||this._processResponse()}_onError(e,i,r,n){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),!this._destroyed&&(e=this._formatError(e,i,r,n),this.logger.error(r,e.message),this.emit("error",e),this.close())}_formatError(e,i,r,n){let a;/Error\]$/i.test(Object.prototype.toString.call(e))?a=e:a=new Error(e),i&&i!=="Error"&&(a.code=i),r&&(a.response=r,a.message+=": "+r);let s=typeof r=="string"&&Number((r.match(/^\d+/)||[])[0])||!1;return s&&(a.responseCode=s),n&&(a.command=n),a}_onClose(){let e=!1;if(this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,"")),this.lastServerResponse=e=this._remainder.trim()),this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed)return this._onError(new Error("Connection closed unexpectedly"),"ETLS",e,"CONN");if(![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed)return this._onError(new Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN");if(/^[45]\d{2}\b/.test(e))return this._onError(new Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN");this._destroy()}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(new Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(e){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let i=this._socket,r={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(n=>{r[n]=this.options.tls[n]}),this.servername&&!r.servername&&(r.servername=this.servername),this.upgrading=!0;try{this._socket=Zs.connect(r,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),i.removeListener("close",this._onSocketClose),i.removeListener("end",this._onSocketEnd),e(null,!0)))}catch(n){return e(n)}this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||to),this._socket.on("timeout",this._onSocketTimeout),i.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let e=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(e.split(`
`).pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},e.replace(/\r?\n$/,"")),e.trim()||setImmediate(()=>this._processResponse());let i=this._responseActions.shift();if(typeof i=="function")i.call(this,e),setImmediate(()=>this._processResponse());else return this._onError(new Error("Unexpected Response"),"EPROTOCOL",e,"CONN")}_sendCommand(e,i){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(i||e||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(e+`\r
`,"utf-8"))}}_setEnvelope(e,i){let r=[],n=!1;if(this._envelope=e||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(a=>(a&&a.address||a||"").toString().trim()),!this._envelope.to.length)return i(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return i(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(n=!0);for(let a=0,s=this._envelope.to.length;a<s;a++){if(!this._envelope.to[a]||/[\r\n<>]/.test(this._envelope.to[a]))return i(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[a]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[a])&&(n=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(a){return i(this._formatError("Invalid DSN "+a.message,"EENVELOPE",!1,"API"))}this._responseActions.push(a=>{this._actionMAIL(a,i)}),n&&this._supportedExtensions.includes("SMTPUTF8")&&(r.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(r.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&r.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&r.push("RET="+we.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&r.push("ENVID="+we.encodeXText(this._envelope.dsn.envid))),this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(r.length?" "+r.join(" "):""))}_setDsnEnvelope(e){let i=(e.ret||e.return||"").toString().toUpperCase()||null;if(i)switch(i){case"HDRS":case"HEADERS":i="HDRS";break;case"FULL":case"BODY":i="FULL";break}if(i&&!["FULL","HDRS"].includes(i))throw new Error("ret: "+JSON.stringify(i));let r=(e.envid||e.id||"").toString()||null,n=e.notify||null;if(n){typeof n=="string"&&(n=n.split(",")),n=n.map(l=>l.trim().toUpperCase());let s=["NEVER","SUCCESS","FAILURE","DELAY"];if(n.filter(l=>!s.includes(l)).length||n.length>1&&n.includes("NEVER"))throw new Error("notify: "+JSON.stringify(n.join(",")));n=n.join(",")}let a=(e.recipient||e.orcpt||"").toString()||null;return a&&a.indexOf(";")<0&&(a="rfc822;"+a),{ret:i,envid:r,notify:n,orcpt:a}}_getDsnRcptToArgs(){let e=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&e.push("NOTIFY="+we.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&e.push("ORCPT="+we.encodeXText(this._envelope.dsn.orcpt))),e.length?" "+e.join(" "):""}_createSendStream(e){let i=new sf,r;return this.options.lmtp?this._envelope.accepted.forEach((n,a)=>{let s=a===this._envelope.accepted.length-1;this._responseActions.push(o=>{this._actionLMTPStream(n,s,o,e)})}):this._responseActions.push(n=>{this._actionSMTPStream(n,e)}),i.pipe(this._socket,{end:!1}),this.options.debug&&(r=new of,r.on("readable",()=>{let n;for(;n=r.read();)this.logger.debug({tnx:"message"},n.toString("binary").replace(/\r?\n$/,""))}),i.pipe(r)),i.once("end",()=>{this.logger.info({tnx:"message",inByteCount:i.inByteCount,outByteCount:i.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",i.outByteCount,i.inByteCount)}),i}_actionGreeting(e){if(clearTimeout(this._greetingTimeout),e.substr(0,3)!=="220"){this._onError(new Error("Invalid greeting. response="+e),"EPROTOCOL",e,"CONN");return}this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name))}_actionLHLO(e){if(e.charAt(0)!=="2"){this._onError(new Error("Invalid LHLO. response="+e),"EPROTOCOL",e,"LHLO");return}this._actionEHLO(e)}_actionEHLO(e){let i;if(e.substr(0,3)==="421"){this._onError(new Error("Server terminates connection. response="+e),"ECONNECTION",e,"EHLO");return}if(e.charAt(0)!=="2"){if(this.options.requireTLS){this._onError(new Error("EHLO failed but HELO does not support required STARTTLS. response="+e),"ECONNECTION",e,"EHLO");return}this._responseActions.push(this._actionHELO),this._sendCommand("HELO "+this.name);return}if(this._ehloLines=e.split(/\r?\n/).map(r=>r.replace(/^\d+[ -]/,"").trim()).filter(r=>r).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(e)||this.options.requireTLS)){this._sendCommand("STARTTLS"),this._responseActions.push(this._actionSTARTTLS);return}/[ -]SMTPUTF8\b/im.test(e)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(e)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(e)&&this._supportedExtensions.push("8BITMIME"),/[ -]PIPELINING\b/im.test(e)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(e)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(e)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(e)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(e)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(e)&&this._supportedAuth.push("XOAUTH2"),(i=e.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(i[1])||0),this.emit("connect")}_actionHELO(e){if(e.charAt(0)!=="2"){this._onError(new Error("Invalid HELO. response="+e),"EPROTOCOL",e,"HELO");return}this.allowsAuth=!0,this.emit("connect")}_actionSTARTTLS(e){if(e.charAt(0)!=="2"){if(this.options.opportunisticTLS)return this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect");this._onError(new Error("Error upgrading connection with STARTTLS"),"ETLS",e,"STARTTLS");return}this._upgradeConnection((i,r)=>{if(i){this._onError(new Error("Error initiating TLS - "+(i.message||i)),"ETLS",!1,"STARTTLS");return}this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),r?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect")})}_actionAUTH_LOGIN_USER(e,i){if(!/^334[ -]/.test(e)){i(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",e,"AUTH LOGIN"));return}this._responseActions.push(r=>{this._actionAUTH_LOGIN_PASS(r,i)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))}_actionAUTH_CRAM_MD5(e,i){let r=e.match(/^334\s+(.+)$/),n="";if(r)n=r[1];else return i(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",e,"AUTH CRAM-MD5"));let a=Buffer.from(n,"base64").toString("ascii"),s=eo.createHmac("md5",this._auth.credentials.pass);s.update(a);let o=this._auth.credentials.user+" "+s.digest("hex");this._responseActions.push(l=>{this._actionAUTH_CRAM_MD5_PASS(l,i)}),this._sendCommand(Buffer.from(o).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(e,i){if(!e.match(/^235\s+/))return i(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",e,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,i(null,!0)}_actionAUTH_LOGIN_PASS(e,i){if(!/^334[ -]/.test(e))return i(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",e,"AUTH LOGIN"));this._responseActions.push(r=>{this._actionAUTHComplete(r,i)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(e,i,r){if(!r&&typeof i=="function"&&(r=i,i=!1),e.substr(0,3)==="334"){this._responseActions.push(n=>{i||this._authMethod!=="XOAUTH2"?this._actionAUTHComplete(n,!0,r):setImmediate(()=>this._handleXOauth2Token(!0,r))}),this._sendCommand("");return}if(e.charAt(0)!=="2")return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),r(this._formatError("Invalid login","EAUTH",e,"AUTH "+this._authMethod));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,r(null,!0)}_actionMAIL(e,i){let r,n;if(Number(e.charAt(0))!==2)return this._usingSmtpUtf8&&/^550 /.test(e)&&/[\x80-\uFFFF]/.test(this._envelope.from)?r="Internationalized mailbox name not allowed":r="Mail command failed",i(this._formatError(r,"EENVELOPE",e,"MAIL FROM"));if(this._envelope.rcptQueue.length)if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)n=this._envelope.rcptQueue.shift(),this._recipientQueue.push(n),this._responseActions.push(a=>{this._actionRCPT(a,i)}),this._sendCommand("RCPT TO:<"+n+">"+this._getDsnRcptToArgs());else n=this._envelope.rcptQueue.shift(),this._recipientQueue.push(n),this._responseActions.push(a=>{this._actionRCPT(a,i)}),this._sendCommand("RCPT TO:<"+n+">"+this._getDsnRcptToArgs());else return i(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"))}_actionRCPT(e,i){let r,n,a=this._recipientQueue.shift();if(Number(e.charAt(0))!==2?(this._usingSmtpUtf8&&/^553 /.test(e)&&/[\x80-\uFFFF]/.test(a)?r="Internationalized mailbox name not allowed":r="Recipient command failed",this._envelope.rejected.push(a),n=this._formatError(r,"EENVELOPE",e,"RCPT TO"),n.recipient=a,this._envelope.rejectedErrors.push(n)):this._envelope.accepted.push(a),!this._envelope.rcptQueue.length&&!this._recipientQueue.length)if(this._envelope.rejected.length<this._envelope.to.length)this._responseActions.push(s=>{this._actionDATA(s,i)}),this._sendCommand("DATA");else return n=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",e,"RCPT TO"),n.rejected=this._envelope.rejected,n.rejectedErrors=this._envelope.rejectedErrors,i(n);else this._envelope.rcptQueue.length&&(a=this._envelope.rcptQueue.shift(),this._recipientQueue.push(a),this._responseActions.push(s=>{this._actionRCPT(s,i)}),this._sendCommand("RCPT TO:<"+a+">"+this._getDsnRcptToArgs()))}_actionDATA(e,i){if(!/^[23]/.test(e))return i(this._formatError("Data command failed","EENVELOPE",e,"DATA"));let r={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(r.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(r.rejectedErrors=this._envelope.rejectedErrors),i(null,r)}_actionSMTPStream(e,i){return Number(e.charAt(0))!==2?i(this._formatError("Message failed","EMESSAGE",e,"DATA")):i(null,e)}_actionLMTPStream(e,i,r,n){let a;if(Number(r.charAt(0))!==2){a=this._formatError("Message failed for recipient "+e,"EMESSAGE",r,"DATA"),a.recipient=e,this._envelope.rejected.push(e),this._envelope.rejectedErrors.push(a);for(let s=0,o=this._envelope.accepted.length;s<o;s++)this._envelope.accepted[s]===e&&this._envelope.accepted.splice(s,1)}if(i)return n(null,r)}_handleXOauth2Token(e,i){this._auth.oauth2.getToken(e,(r,n)=>{if(r)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),i(this._formatError(r,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(a=>{this._actionAUTHComplete(a,e,i)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(n),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(e){if(this._destroyed)return"Cannot "+e+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+e+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+e+" - smtp connection socket is already half-closed."}}_getHostname(){let e;try{e=af.hostname()||""}catch{e="localhost"}return(!e||e.indexOf(".")<0)&&(e="[127.0.0.1]"),e.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(e="["+e+"]"),e}};io.exports=Yr});var Vr=f((Xb,ro)=>{"use strict";var uf=require("stream").Stream,df=ft(),hf=require("crypto"),ff=Y(),Wr=class extends uf{constructor(e,i){if(super(),this.options=e||{},e&&e.serviceClient){if(!e.privateKey||!e.user){setImmediate(()=>this.emit("error",new Error('Options "privateKey" and "user" are required for service account!')));return}let r=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=r||5*60}if(this.logger=ff.getLogger({logger:i},{component:this.options.component||"OAuth2"}),this.provisionCallback=typeof this.options.provisionCallback=="function"?this.options.provisionCallback:!1,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let r=Math.max(Number(this.options.timeout)||0,0);this.expires=r&&Date.now()+r*1e3||0}}getToken(e,i){if(!e&&this.accessToken&&(!this.expires||this.expires>Date.now()))return i(null,this.accessToken);let r=(...n)=>{n[0]?this.logger.error({err:n[0],tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),i(...n)};this.provisionCallback?this.provisionCallback(this.options.user,!!e,(n,a,s)=>{!n&&a&&(this.accessToken=a,this.expires=s||0),r(n,a)}):this.generateToken(r)}updateToken(e,i){this.accessToken=e,i=Math.max(Number(i)||0,0),this.expires=i&&Date.now()+i*1e3||0,this.emit("token",{user:this.options.user,accessToken:e||"",expires:this.expires})}generateToken(e){let i,r;if(this.options.serviceClient){let n=Math.floor(Date.now()/1e3),a={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:n,exp:n+this.options.serviceRequestTimeout},s;try{s=this.jwtSignRS256(a)}catch{return e(new Error("Can't generate token. Check your auth options"))}i={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:s},r={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:a}}else{if(!this.options.refreshToken)return e(new Error("Can't create new access token for user"));i={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},r={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(n=>{i[n]=this.options.customParams[n],r[n]=this.options.customParams[n]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(r)),this.postRequest(this.options.accessUrl,i,this.options,(n,a)=>{let s;if(n)return e(n);try{s=JSON.parse(a.toString())}catch(l){return e(l)}if(!s||typeof s!="object")return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(a||"").toString()),e(new Error("Invalid authentication response"));let o={};if(Object.keys(s).forEach(l=>{l!=="access_token"?o[l]=s[l]:o[l]=(s[l]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(o)),s.error){let l=s.error;return s.error_description&&(l+=": "+s.error_description),s.error_uri&&(l+=" ("+s.error_uri+")"),e(new Error(l))}return s.access_token?(this.updateToken(s.access_token,s.expires_in),e(null,this.accessToken)):e(new Error("No access token"))})}buildXOAuth2Token(e){let i=["user="+(this.options.user||""),"auth=Bearer "+(e||this.accessToken),"",""];return Buffer.from(i.join(""),"utf-8").toString("base64")}postRequest(e,i,r,n){let a=!1,s=[],o=0,l=df(e,{method:"post",headers:r.customHeaders,body:i,allowErrorResponse:!0});l.on("readable",()=>{let c;for(;(c=l.read())!==null;)s.push(c),o+=c.length}),l.once("error",c=>{if(!a)return a=!0,n(c)}),l.once("end",()=>{if(!a)return a=!0,n(null,Buffer.concat(s,o))})}toBase64URL(e){return typeof e=="string"&&(e=Buffer.from(e)),e.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(e){e=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(e)].map(r=>this.toBase64URL(r)).join(".");let i=hf.createSign("RSA-SHA256").update(e).sign(this.options.privateKey);return e+"."+this.toBase64URL(i)}};ro.exports=Wr});var ao=f((Zb,no)=>{"use strict";var mf=Xt(),gf=Y().assign,vf=Vr(),xf=require("events"),Kr=class extends xf{constructor(e){if(super(),this.pool=e,this.options=e.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let i=new vf(this.options.auth,this.logger);i.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||i.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:i,method:"XOAUTH2"},i.on("token",r=>this.pool.mailer.emit("token",r)),i.on("error",r=>this.emit("error",r));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(e){this.pool.getSocket(this.options,(i,r)=>{if(i)return e(i);let n=!1,a=this.options;r&&r.connection&&(this.logger.info({tnx:"proxy",remoteAddress:r.connection.remoteAddress,remotePort:r.connection.remotePort,destHost:a.host||"",destPort:a.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",r.connection.remoteAddress,r.connection.remotePort,a.host||"",a.port||""),a=gf(!1,a),Object.keys(r).forEach(s=>{a[s]=r[s]})),this.connection=new mf(a),this.connection.once("error",s=>{if(this.emit("error",s),!n)return n=!0,e(s)}),this.connection.once("end",()=>{if(this.close(),n)return;n=!0;let s=setTimeout(()=>{if(n)return;let o=new Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(o.code="ETLS"),e(o)},1e3);try{s.unref()}catch{}}),this.connection.connect(()=>{if(!n)if(this.auth&&(this.connection.allowsAuth||a.forceAuth))this.connection.login(this.auth,s=>{if(!n){if(n=!0,s)return this.connection.close(),this.emit("error",s),e(s);this._connected=!0,e(null,!0)}});else return n=!0,this._connected=!0,e(null,!0)})})}send(e,i){if(!this._connected)return this.connect(s=>s?i(s):this.send(e,i));let r=e.message.getEnvelope(),n=e.message.messageId(),a=[].concat(r.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n,cid:this.id},"Sending message %s using #%s to <%s>",n,this.id,a.join(", ")),e.data.dsn&&(r.dsn=e.data.dsn),this.connection.send(r,e.message.createReadStream(),(s,o)=>{if(this.messages++,s)return this.connection.close(),this.emit("error",s),i(s);o.envelope={from:r.from,to:r.to},o.messageId=n,setImmediate(()=>{let l;this.messages>=this.options.maxMessages?(l=new Error("Resource exhausted"),l.code="EMAXLIMIT",this.connection.close(),this.emit("error",l)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),i(null,o)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}};no.exports=Kr});var so=f((ew,yf)=>{yf.exports={"1und1":{host:"smtp.1und1.de",port:465,secure:!0,authMethod:"LOGIN"},Aliyun:{domains:["aliyun.com"],host:"smtp.aliyun.com",port:465,secure:!0},AOL:{domains:["aol.com"],host:"smtp.aol.com",port:587},Bluewin:{host:"smtpauths.bluewin.ch",domains:["bluewin.ch"],port:465},DebugMail:{host:"debugmail.io",port:25},DynectEmail:{aliases:["Dynect"],host:"smtp.dynect.net",port:25},Ethereal:{aliases:["ethereal.email"],host:"smtp.ethereal.email",port:587},FastMail:{domains:["fastmail.fm"],host:"smtp.fastmail.com",port:465,secure:!0},"Forward Email":{aliases:["FE","ForwardEmail"],domains:["forwardemail.net"],host:"smtp.forwardemail.net",port:465,secure:!0},"Feishu Mail":{aliases:["Feishu","FeishuMail"],domains:["www.feishu.cn"],host:"smtp.feishu.cn",port:465,secure:!0},GandiMail:{aliases:["Gandi","Gandi Mail"],host:"mail.gandi.net",port:587},Gmail:{aliases:["Google Mail"],domains:["gmail.com","googlemail.com"],host:"smtp.gmail.com",port:465,secure:!0},Godaddy:{host:"smtpout.secureserver.net",port:25},GodaddyAsia:{host:"smtp.asia.secureserver.net",port:25},GodaddyEurope:{host:"smtp.europe.secureserver.net",port:25},"hot.ee":{host:"mail.hot.ee"},Hotmail:{aliases:["Outlook","Outlook.com","Hotmail.com"],domains:["hotmail.com","outlook.com"],host:"smtp-mail.outlook.com",port:587},iCloud:{aliases:["Me","Mac"],domains:["me.com","mac.com"],host:"smtp.mail.me.com",port:587},Infomaniak:{host:"mail.infomaniak.com",domains:["ik.me","ikmail.com","etik.com"],port:587},Loopia:{host:"mailcluster.loopia.se",port:465},"mail.ee":{host:"smtp.mail.ee"},"Mail.ru":{host:"smtp.mail.ru",port:465,secure:!0},"Mailcatch.app":{host:"sandbox-smtp.mailcatch.app",port:2525},Maildev:{port:1025,ignoreTLS:!0},Mailgun:{host:"smtp.mailgun.org",port:465,secure:!0},Mailjet:{host:"in.mailjet.com",port:587},Mailosaur:{host:"mailosaur.io",port:25},Mailtrap:{host:"live.smtp.mailtrap.io",port:587},Mandrill:{host:"smtp.mandrillapp.com",port:587},Naver:{host:"smtp.naver.com",port:587},One:{host:"send.one.com",port:465,secure:!0},OpenMailBox:{aliases:["OMB","openmailbox.org"],host:"smtp.openmailbox.org",port:465,secure:!0},Outlook365:{host:"smtp.office365.com",port:587,secure:!1},OhMySMTP:{host:"smtp.ohmysmtp.com",port:587,secure:!1},Postmark:{aliases:["PostmarkApp"],host:"smtp.postmarkapp.com",port:2525},"qiye.aliyun":{host:"smtp.mxhichina.com",port:"465",secure:!0},QQ:{domains:["qq.com"],host:"smtp.qq.com",port:465,secure:!0},QQex:{aliases:["QQ Enterprise"],domains:["exmail.qq.com"],host:"smtp.exmail.qq.com",port:465,secure:!0},SendCloud:{host:"smtp.sendcloud.net",port:2525},SendGrid:{host:"smtp.sendgrid.net",port:587},SendinBlue:{aliases:["Brevo"],host:"smtp-relay.brevo.com",port:587},SendPulse:{host:"smtp-pulse.com",port:465,secure:!0},SES:{host:"email-smtp.us-east-1.amazonaws.com",port:465,secure:!0},"SES-US-EAST-1":{host:"email-smtp.us-east-1.amazonaws.com",port:465,secure:!0},"SES-US-WEST-2":{host:"email-smtp.us-west-2.amazonaws.com",port:465,secure:!0},"SES-EU-WEST-1":{host:"email-smtp.eu-west-1.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTH-1":{host:"email-smtp.ap-south-1.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-1":{host:"email-smtp.ap-northeast-1.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-2":{host:"email-smtp.ap-northeast-2.amazonaws.com",port:465,secure:!0},"SES-AP-NORTHEAST-3":{host:"email-smtp.ap-northeast-3.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTHEAST-1":{host:"email-smtp.ap-southeast-1.amazonaws.com",port:465,secure:!0},"SES-AP-SOUTHEAST-2":{host:"email-smtp.ap-southeast-2.amazonaws.com",port:465,secure:!0},Sparkpost:{aliases:["SparkPost","SparkPost Mail"],domains:["sparkpost.com"],host:"smtp.sparkpostmail.com",port:587,secure:!1},Tipimail:{host:"smtp.tipimail.com",port:587},Yahoo:{domains:["yahoo.com"],host:"smtp.mail.yahoo.com",port:465,secure:!0},Yandex:{domains:["yandex.ru"],host:"smtp.yandex.ru",port:465,secure:!0},Zoho:{host:"smtp.zoho.com",port:465,secure:!0,authMethod:"LOGIN"},"126":{host:"smtp.126.com",port:465,secure:!0},"163":{host:"smtp.163.com",port:465,secure:!0}}});var Jr=f((tw,lo)=>{"use strict";var oo=so(),Zt={};Object.keys(oo).forEach(t=>{let e=oo[t];Zt[ei(t)]=Qr(e),[].concat(e.aliases||[]).forEach(i=>{Zt[ei(i)]=Qr(e)}),[].concat(e.domains||[]).forEach(i=>{Zt[ei(i)]=Qr(e)})});function ei(t){return t.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function Qr(t){let e=["domains","aliases"],i={};return Object.keys(t).forEach(r=>{e.indexOf(r)<0&&(i[r]=t[r])}),i}lo.exports=function(t){return t=ei(t.split("@").pop()),Zt[t]||!1}});var ho=f((iw,uo)=>{"use strict";var bf=require("events"),co=ao(),po=Xt(),wf=Jr(),bt=Y(),_f=oe(),Xr=class extends bf{constructor(e){super(),e=e||{},typeof e=="string"&&(e={url:e});let i,r=e.service;typeof e.getSocket=="function"&&(this.getSocket=e.getSocket),e.url&&(i=bt.parseConnectionUrl(e.url),r=r||i.service),this.options=bt.assign(!1,e,i,r&&wf(r)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=bt.getLogger(this.options,{component:this.options.component||"smtp-pool"});let n=new po(this.options);this.name="SMTP (pool)",this.version=_f.version+"[client:"+n.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(e,i){return setImmediate(()=>i(null,!1))}send(e,i){return this._closed?!1:(this._queue.push({mail:e,requeueAttempts:0,callback:i}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let e,i=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!i&&!this._queue.length)return;for(let n=i-1;n>=0;n--)this._connections[n]&&this._connections[n].available&&(e=this._connections[n],e.close(),this.logger.info({tnx:"connection",cid:e.id,action:"removed"},"Connection #%s removed",e.id));if(i&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let r=()=>{if(!this._queue.length){this.logger.debug({tnx:"connection"},"Pending queue entries cleared");return}let n=this._queue.shift();if(n&&typeof n.callback=="function")try{n.callback(new Error("Connection pool was closed"))}catch(a){this.logger.error({err:a,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,a.message)}setImmediate(r)};setImmediate(r)}_processMessages(){let e,i,r;if(this._closed)return;if(!this._queue.length){this.idling||(this.idling=!0,this.emit("idle"));return}for(i=0,r=this._connections.length;i<r;i++)if(this._connections[i].available){e=this._connections[i];break}if(!e&&this._connections.length<this.options.maxConnections&&(e=this._createConnection()),!e){this.idling=!1;return}!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let n=e.queueEntry=this._queue.shift();n.messageId=(e.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),e.available=!1,this.logger.debug({tnx:"pool",cid:e.id,messageId:n.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",n.messageId,e.id,e.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),e.send(n.mail,(a,s)=>{if(n===e.queueEntry){try{n.callback(a,s)}catch(o){this.logger.error({err:o,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,o.message)}e.queueEntry=!1}})}_createConnection(){let e=new co(this);return e.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:e.id,action:"conection"},"Created new pool resource #%s",e.id),e.on("available",()=>{this.logger.debug({tnx:"connection",cid:e.id,action:"available"},"Connection #%s became available",e.id),this._closed?this.close():this._processMessages()}),e.once("error",i=>{if(i.code!=="EMAXLIMIT"?this.logger.error({err:i,tnx:"pool",cid:e.id},"Pool Error for #%s: %s",e.id,i.message):this.logger.debug({tnx:"pool",cid:e.id,action:"maxlimit"},"Max messages limit exchausted for #%s",e.id),e.queueEntry){try{e.queueEntry.callback(i)}catch(r){this.logger.error({err:r,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,r.message)}e.queueEntry=!1}this._removeConnection(e),this._continueProcessing()}),e.once("close",()=>{this.logger.info({tnx:"connection",cid:e.id,action:"closed"},"Connection #%s was closed",e.id),this._removeConnection(e),e.queueEntry?setTimeout(()=>{e.queueEntry&&(this._shouldRequeuOnConnectionClose(e.queueEntry)?this._requeueEntryOnConnectionClose(e):this._failDeliveryOnConnectionClose(e)),this._continueProcessing()},50):this._continueProcessing()}),this._connections.push(e),e}_shouldRequeuOnConnectionClose(e){return this.options.maxRequeues===void 0||this.options.maxRequeues<0?!0:e.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(e){if(e.queueEntry&&e.queueEntry.callback){try{e.queueEntry.callback(new Error("Reached maximum number of retries after connection was closed"))}catch(i){this.logger.error({err:i,tnx:"callback",messageId:e.queueEntry.messageId,cid:e.id},"Callback error for #%s: %s",e.id,i.message)}e.queueEntry=!1}}_requeueEntryOnConnectionClose(e){e.queueEntry.requeueAttempts=e.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:e.id,messageId:e.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",e.queueEntry.messageId,e.id,e.queueEntry.requeueAttempts),this._queue.unshift(e.queueEntry),e.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(e){let i=this._connections.indexOf(e);i!==-1&&this._connections.splice(i,1)}_checkRateLimit(e){if(!this._rateLimit.limit)return e();let i=Date.now();if(this._rateLimit.counter<this._rateLimit.limit)return e();if(this._rateLimit.waiting.push(e),this._rateLimit.checkpoint<=i-this._rateLimit.delta)return this._clearRateLimit();this._rateLimit.timeout||(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(i-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=i)}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;){let e=this._rateLimit.waiting.shift();setImmediate(e)}}isIdle(){return this.idling}verify(e){let i;e||(i=new Promise((n,a)=>{e=bt.callbackPromise(n,a)}));let r=new co(this).auth;return this.getSocket(this.options,(n,a)=>{if(n)return e(n);let s=this.options;a&&a.connection&&(this.logger.info({tnx:"proxy",remoteAddress:a.connection.remoteAddress,remotePort:a.connection.remotePort,destHost:s.host||"",destPort:s.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",a.connection.remoteAddress,a.connection.remotePort,s.host||"",s.port||""),s=bt.assign(!1,s),Object.keys(a).forEach(p=>{s[p]=a[p]}));let o=new po(s),l=!1;o.once("error",p=>{if(!l)return l=!0,o.close(),e(p)}),o.once("end",()=>{if(!l)return l=!0,e(new Error("Connection closed"))});let c=()=>{if(!l)return l=!0,o.quit(),e(null,!0)};o.connect(()=>{if(!l)if(r&&(o.allowsAuth||s.forceAuth))o.login(r,p=>{if(!l){if(p)return l=!0,o.close(),e(p);c()}});else if(!r&&o.allowsAuth&&s.forceAuth){let p=new Error("Authentication info was not provided");return p.code="NoAuth",l=!0,o.close(),e(p)}else c()})}),i}};uo.exports=Xr});var mo=f((rw,fo)=>{"use strict";var Ef=require("events"),Zr=Xt(),Sf=Jr(),Je=Y(),Tf=Vr(),kf=oe(),en=class extends Ef{constructor(e){super(),e=e||{},typeof e=="string"&&(e={url:e});let i,r=e.service;typeof e.getSocket=="function"&&(this.getSocket=e.getSocket),e.url&&(i=Je.parseConnectionUrl(e.url),r=r||i.service),this.options=Je.assign(!1,e,i,r&&Sf(r)),this.logger=Je.getLogger(this.options,{component:this.options.component||"smtp-transport"});let n=new Zr(this.options);this.name="SMTP",this.version=kf.version+"[client:"+n.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(e,i){return setImmediate(()=>i(null,!1))}getAuth(e){if(!e)return this.auth;let i=!1,r={};if(this.options.auth&&typeof this.options.auth=="object"&&Object.keys(this.options.auth).forEach(n=>{i=!0,r[n]=this.options.auth[n]}),e&&typeof e=="object"&&Object.keys(e).forEach(n=>{i=!0,r[n]=e[n]}),!i)return!1;switch((r.type||"").toString().toUpperCase()){case"OAUTH2":{if(!r.service&&!r.user)return!1;let n=new Tf(r,this.logger);return n.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||n.provisionCallback,n.on("token",a=>this.mailer.emit("token",a)),n.on("error",a=>this.emit("error",a)),{type:"OAUTH2",user:r.user,oauth2:n,method:"XOAUTH2"}}default:return{type:(r.type||"").toString().toUpperCase()||"LOGIN",user:r.user,credentials:{user:r.user||"",pass:r.pass,options:r.options},method:(r.method||"").trim().toUpperCase()||this.options.authMethod||!1}}}send(e,i){this.getSocket(this.options,(r,n)=>{if(r)return i(r);let a=!1,s=this.options;n&&n.connection&&(this.logger.info({tnx:"proxy",remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:s.host||"",destPort:s.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",n.connection.remoteAddress,n.connection.remotePort,s.host||"",s.port||""),s=Je.assign(!1,s),Object.keys(n).forEach(c=>{s[c]=n[c]}));let o=new Zr(s);o.once("error",c=>{if(!a)return a=!0,o.close(),i(c)}),o.once("end",()=>{if(a)return;let c=setTimeout(()=>{if(a)return;a=!0;let p=new Error("Unexpected socket close");o&&o._socket&&o._socket.upgrading&&(p.code="ETLS"),i(p)},1e3);try{c.unref()}catch{}});let l=()=>{let c=e.message.getEnvelope(),p=e.message.messageId(),h=[].concat(c.to||[]);h.length>3&&h.push("...and "+h.splice(2).length+" more"),e.data.dsn&&(c.dsn=e.data.dsn),this.logger.info({tnx:"send",messageId:p},"Sending message %s to <%s>",p,h.join(", ")),o.send(c,e.message.createReadStream(),(u,d)=>{if(a=!0,o.close(),u)return this.logger.error({err:u,tnx:"send"},"Send error for %s: %s",p,u.message),i(u);d.envelope={from:c.from,to:c.to},d.messageId=p;try{return i(null,d)}catch(m){this.logger.error({err:m,tnx:"callback"},"Callback error for %s: %s",p,m.message)}})};o.connect(()=>{if(a)return;let c=this.getAuth(e.data.auth);c&&(o.allowsAuth||s.forceAuth)?o.login(c,p=>{if(c&&c!==this.auth&&c.oauth2&&c.oauth2.removeAllListeners(),!a){if(p)return a=!0,o.close(),i(p);l()}}):l()})})}verify(e){let i;return e||(i=new Promise((r,n)=>{e=Je.callbackPromise(r,n)})),this.getSocket(this.options,(r,n)=>{if(r)return e(r);let a=this.options;n&&n.connection&&(this.logger.info({tnx:"proxy",remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:a.host||"",destPort:a.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",n.connection.remoteAddress,n.connection.remotePort,a.host||"",a.port||""),a=Je.assign(!1,a),Object.keys(n).forEach(c=>{a[c]=n[c]}));let s=new Zr(a),o=!1;s.once("error",c=>{if(!o)return o=!0,s.close(),e(c)}),s.once("end",()=>{if(!o)return o=!0,e(new Error("Connection closed"))});let l=()=>{if(!o)return o=!0,s.quit(),e(null,!0)};s.connect(()=>{if(o)return;let c=this.getAuth({});if(c&&(s.allowsAuth||a.forceAuth))s.login(c,p=>{if(!o){if(p)return o=!0,s.close(),e(p);l()}});else if(!c&&s.allowsAuth&&a.forceAuth){let p=new Error("Authentication info was not provided");return p.code="NoAuth",o=!0,s.close(),e(p)}else l()})}),i}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}};fo.exports=en});var vo=f((nw,go)=>{"use strict";var Af=require("child_process").spawn,qf=oe(),Mf=Y(),tn=class{constructor(e){e=e||{},this._spawn=Af,this.options=e||{},this.name="Sendmail",this.version=qf.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=Mf.getLogger(this.options,{component:this.options.component||"sendmail"}),e&&(typeof e=="string"?this.path=e:typeof e=="object"&&(e.path&&(this.path=e.path),Array.isArray(e.args)&&(this.args=e.args),this.winbreak=["win","windows","dos",`\r
`].includes((e.newline||"").toString().toLowerCase())))}send(e,i){e.message.keepBcc=!0;let r=e.data.envelope||e.message.getEnvelope(),n=e.message.messageId(),a,s,o;if([].concat(r.from||[]).concat(r.to||[]).some(p=>/^-/.test(p)))return i(new Error("Can not send mail. Invalid envelope addresses."));this.args?a=["-i"].concat(this.args).concat(r.to):a=["-i"].concat(r.from?["-f",r.from]:[]).concat(r.to);let c=p=>{if(!o&&(o=!0,typeof i=="function"))return p?i(p):i(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:n,response:"Messages queued for delivery"})};try{s=this._spawn(this.path,a)}catch(p){return this.logger.error({err:p,tnx:"spawn",messageId:n},"Error occurred while spawning sendmail. %s",p.message),c(p)}if(s){s.on("error",u=>{this.logger.error({err:u,tnx:"spawn",messageId:n},"Error occurred when sending message %s. %s",n,u.message),c(u)}),s.once("exit",u=>{if(!u)return c();let d;u===127?d=new Error("Sendmail command not found, process exited with code "+u):d=new Error("Sendmail exited with code "+u),this.logger.error({err:d,tnx:"stdin",messageId:n},"Error sending message %s to sendmail. %s",n,d.message),c(d)}),s.once("close",c),s.stdin.on("error",u=>{this.logger.error({err:u,tnx:"stdin",messageId:n},"Error occurred when piping message %s to sendmail. %s",n,u.message),c(u)});let p=[].concat(r.to||[]);p.length>3&&p.push("...and "+p.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n},"Sending message %s to <%s>",n,p.join(", "));let h=e.message.createReadStream();h.once("error",u=>{this.logger.error({err:u,tnx:"stdin",messageId:n},"Error occurred when generating message %s. %s",n,u.message),s.kill("SIGINT"),c(u)}),h.pipe(s.stdin)}else return c(new Error("sendmail was not found"))}};go.exports=tn});var yo=f((aw,xo)=>{"use strict";var Cf=oe(),Of=Y(),rn=class{constructor(e){e=e||{},this.options=e||{},this.name="StreamTransport",this.version=Cf.version,this.logger=Of.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos",`\r
`].includes((e.newline||"").toString().toLowerCase())}send(e,i){e.message.keepBcc=!0;let r=e.data.envelope||e.message.getEnvelope(),n=e.message.messageId(),a=[].concat(r.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n},"Sending message %s to <%s> using %s line breaks",n,a.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let s;try{s=e.message.createReadStream()}catch(c){return this.logger.error({err:c,tnx:"send",messageId:n},"Creating send stream failed for %s. %s",n,c.message),i(c)}if(!this.options.buffer)return s.once("error",c=>{this.logger.error({err:c,tnx:"send",messageId:n},"Failed creating message for %s. %s",n,c.message)}),i(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:n,message:s});let o=[],l=0;s.on("readable",()=>{let c;for(;(c=s.read())!==null;)o.push(c),l+=c.length}),s.once("error",c=>(this.logger.error({err:c,tnx:"send",messageId:n},"Failed creating message for %s. %s",n,c.message),i(c))),s.on("end",()=>i(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:n,message:Buffer.concat(o,l)}))})}};xo.exports=rn});var wo=f((sw,bo)=>{"use strict";var jf=oe(),Rf=Y(),nn=class{constructor(e){e=e||{},this.options=e||{},this.name="JSONTransport",this.version=jf.version,this.logger=Rf.getLogger(this.options,{component:this.options.component||"json-transport"})}send(e,i){e.message.keepBcc=!0;let r=e.data.envelope||e.message.getEnvelope(),n=e.message.messageId(),a=[].concat(r.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:n},"Composing JSON structure of %s to <%s>",n,a.join(", ")),setImmediate(()=>{e.normalize((s,o)=>s?(this.logger.error({err:s,tnx:"send",messageId:n},"Failed building JSON structure for %s. %s",n,s.message),i(s)):(delete o.envelope,delete o.normalizedHeaders,i(null,{envelope:r,messageId:n,message:this.options.skipEncoding?o:JSON.stringify(o)})))})}};bo.exports=nn});var So=f((ow,Eo)=>{"use strict";var Lf=require("events"),If=oe(),_o=Y(),Nf=qr(),an=class extends Lf{constructor(e){super(),e=e||{},this.options=e||{},this.ses=this.options.SES,this.name="SESTransport",this.version=If.version,this.logger=_o.getLogger(this.options,{component:this.options.component||"ses-transport"}),this.maxConnections=Number(this.options.maxConnections)||1/0,this.connections=0,this.sendingRate=Number(this.options.sendingRate)||1/0,this.sendingRateTTL=null,this.rateInterval=1e3,this.rateMessages=[],this.pending=[],this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}send(e,i){if(this.connections>=this.maxConnections)return this.idling=!1,this.pending.push({mail:e,callback:i});if(!this._checkSendingRate())return this.idling=!1,this.pending.push({mail:e,callback:i});this._send(e,(...r)=>{setImmediate(()=>i(...r)),this._sent()})}_checkRatedQueue(){if(this.connections>=this.maxConnections||!this._checkSendingRate())return;if(!this.pending.length){this.idling||(this.idling=!0,this.emit("idle"));return}let e=this.pending.shift();this._send(e.mail,(...i)=>{setImmediate(()=>e.callback(...i)),this._sent()})}_checkSendingRate(){clearTimeout(this.sendingRateTTL);let e=Date.now(),i=!1;for(let n=this.rateMessages.length-1;n>=0;n--)this.rateMessages[n].ts>=e-this.rateInterval&&(!i||this.rateMessages[n].ts<i)&&(i=this.rateMessages[n].ts),this.rateMessages[n].ts<e-this.rateInterval&&!this.rateMessages[n].pending&&this.rateMessages.splice(n,1);if(this.rateMessages.length<this.sendingRate)return!0;let r=Math.max(i+1001,e+20);this.sendingRateTTL=setTimeout(()=>this._checkRatedQueue(),e-r);try{this.sendingRateTTL.unref()}catch{}return!1}_sent(){this.connections--,this._checkRatedQueue()}isIdle(){return this.idling}_send(e,i){let r={ts:Date.now(),pending:!0};this.connections++,this.rateMessages.push(r);let n=e.data.envelope||e.message.getEnvelope(),a=e.message.messageId(),s=[].concat(n.to||[]);s.length>3&&s.push("...and "+s.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:a},"Sending message %s to <%s>",a,s.join(", "));let o=l=>{e.data._dkim||(e.data._dkim={}),e.data._dkim.skipFields&&typeof e.data._dkim.skipFields=="string"?e.data._dkim.skipFields+=":date:message-id":e.data._dkim.skipFields="date:message-id";let c=e.message.createReadStream(),p=c.pipe(new Nf),h=[],u=0;p.on("readable",()=>{let d;for(;(d=p.read())!==null;)h.push(d),u+=d.length}),c.once("error",d=>p.emit("error",d)),p.once("error",d=>{l(d)}),p.once("end",()=>l(null,Buffer.concat(h,u)))};setImmediate(()=>o((l,c)=>{if(l)return this.logger.error({err:l,tnx:"send",messageId:a},"Failed creating message for %s. %s",a,l.message),r.pending=!1,i(l);let p={RawMessage:{Data:c},Source:n.from,Destinations:n.to};Object.keys(e.data.ses||{}).forEach(m=>{p[m]=e.data.ses[m]});let h=(this.ses.aws?this.ses.ses:this.ses)||{},u=this.ses.aws||{};(m=>h.config&&typeof h.config.region=="function"?h.config.region().then(v=>m(null,v)).catch(v=>m(v)):m(null,h.config&&h.config.region||"us-east-1"))((m,v)=>{(m||!v)&&(v="us-east-1");let x;typeof h.send=="function"&&u.SendRawEmailCommand?x=h.send(new u.SendRawEmailCommand(p)):x=h.sendRawEmail(p).promise(),x.then(w=>{v==="us-east-1"&&(v="email"),r.pending=!1,i(null,{envelope:{from:n.from,to:n.to},messageId:"<"+w.MessageId+(/@/.test(w.MessageId)?"":"@"+v+".amazonses.com")+">",response:w.MessageId,raw:c})}).catch(w=>{this.logger.error({err:w,tnx:"send"},"Send error for %s: %s",a,w.message),r.pending=!1,i(w)})})}))}verify(e){let i,r=(this.ses.aws?this.ses.ses:this.ses)||{},n=this.ses.aws||{},a={RawMessage:{Data:`From: invalid@invalid\r
To: invalid@invalid\r
 Subject: Invalid\r
\r
Invalid`},Source:"invalid@invalid",Destinations:["invalid@invalid"]};e||(i=new Promise((o,l)=>{e=_o.callbackPromise(o,l)}));let s=o=>o&&(o.code||o.Code)!=="InvalidParameterValue"?e(o):e(null,!0);return typeof r.send=="function"&&n.SendRawEmailCommand?(a.RawMessage.Data=Buffer.from(a.RawMessage.Data),r.send(new n.SendRawEmailCommand(a),s)):r.sendRawEmail(a,s),i}};Eo.exports=an});var qo=f((lw,ti)=>{"use strict";var Pf=Ks(),Ao=Y(),Hf=ho(),zf=mo(),Df=vo(),Ff=yo(),Bf=wo(),Uf=So(),$f=ft(),To=oe(),Gf=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),Yf=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),ko=(process.env.ETHEREAL_API_KEY||"").replace(/\s*/g,"")||null,Wf=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase()),wt=!1;ti.exports.createTransport=function(t,e){let i,r,n;return(typeof t=="object"&&typeof t.send!="function"||typeof t=="string"&&/^(smtps?|direct):/i.test(t))&&((i=typeof t=="string"?t:t.url)?r=Ao.parseConnectionUrl(i):r=t,r.pool?t=new Hf(r):r.sendmail?t=new Df(r):r.streamTransport?t=new Ff(r):r.jsonTransport?t=new Bf(r):r.SES?t=new Uf(r):t=new zf(r)),n=new Pf(t,r,e),n};ti.exports.createTestAccount=function(t,e){let i;if(!e&&typeof t=="function"&&(e=t,t=!1),e||(i=new Promise((l,c)=>{e=Ao.callbackPromise(l,c)})),Wf&&wt)return setImmediate(()=>e(null,wt)),i;t=t||Gf;let r=[],n=0,a={},s={requestor:To.name,version:To.version};ko&&(a.Authorization="Bearer "+ko);let o=$f(t+"/user",{contentType:"application/json",method:"POST",headers:a,body:Buffer.from(JSON.stringify(s))});return o.on("readable",()=>{let l;for(;(l=o.read())!==null;)r.push(l),n+=l.length}),o.once("error",l=>e(l)),o.once("end",()=>{let l=Buffer.concat(r,n),c,p;try{c=JSON.parse(l.toString())}catch(h){p=h}if(p)return e(p);if(c.status!=="success"||c.error)return e(new Error(c.error||"Request failed"));delete c.status,wt=c,e(null,wt)}),i};ti.exports.getTestMessageUrl=function(t){if(!t||!t.response)return!1;let e=new Map;return t.response.replace(/\[([^\]]+)\]$/,(i,r)=>{r.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(n,a,s)=>{e.set(a,s)})}),e.has("STATUS")&&e.has("MSGID")?(wt.web||Yf)+"/message/"+e.get("MSGID"):!1}});var J=f((cw,Mo)=>{"use strict";var sn=class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,t)}};Mo.exports=t=>{if(t.length>2)throw new sn(t);function e(r={}){this.options=r}e.prototype.transform=t;function i(r){return new e(r)}return i.Format=e,i}});var Ro=f((pw,jo)=>{var Oo={};jo.exports=Oo;var Co={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(Co).forEach(function(t){var e=Co[t],i=Oo[t]=[];i.open="\x1B["+e[0]+"m",i.close="\x1B["+e[1]+"m"})});var Io=f((uw,Lo)=>{"use strict";Lo.exports=function(t,e){e=e||process.argv||[];var i=e.indexOf("--"),r=/^-{1,2}/.test(t)?"":"--",n=e.indexOf(r+t);return n!==-1&&(i===-1?!0:n<i)}});var Po=f((dw,No)=>{"use strict";var Vf=require("os"),ce=Io(),W=process.env,Xe=void 0;ce("no-color")||ce("no-colors")||ce("color=false")?Xe=!1:(ce("color")||ce("colors")||ce("color=true")||ce("color=always"))&&(Xe=!0);"FORCE_COLOR"in W&&(Xe=W.FORCE_COLOR.length===0||parseInt(W.FORCE_COLOR,10)!==0);function Kf(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Qf(t){if(Xe===!1)return 0;if(ce("color=16m")||ce("color=full")||ce("color=truecolor"))return 3;if(ce("color=256"))return 2;if(t&&!t.isTTY&&Xe!==!0)return 0;var e=Xe?1:0;if(process.platform==="win32"){var i=Vf.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in W)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(n){return n in W})||W.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in W)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(W.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in W){var r=parseInt((W.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(W.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(W.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(W.TERM)||"COLORTERM"in W?1:(W.TERM==="dumb",e)}function on(t){var e=Qf(t);return Kf(e)}No.exports={supportsColor:on,stdout:on(process.stdout),stderr:on(process.stderr)}});var zo=f((hw,Ho)=>{Ho.exports=function(e,i){var r="";e=e||"Run the trap, drop the bass",e=e.split("");var n={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(a){a=a.toLowerCase();var s=n[a]||[" "],o=Math.floor(Math.random()*s.length);typeof n[a]<"u"?r+=n[a][o]:r+=a}),r}});var Fo=f((fw,Do)=>{Do.exports=function(e,i){e=e||"   he is here   ";var r={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},n=[].concat(r.up,r.down,r.mid);function a(l){var c=Math.floor(Math.random()*l);return c}function s(l){var c=!1;return n.filter(function(p){c=p===l}),c}function o(l,c){var p="",h,u;c=c||{},c.up=typeof c.up<"u"?c.up:!0,c.mid=typeof c.mid<"u"?c.mid:!0,c.down=typeof c.down<"u"?c.down:!0,c.size=typeof c.size<"u"?c.size:"maxi",l=l.split("");for(u in l)if(!s(u)){switch(p=p+l[u],h={up:0,down:0,mid:0},c.size){case"mini":h.up=a(8),h.mid=a(2),h.down=a(8);break;case"maxi":h.up=a(16)+3,h.mid=a(4)+1,h.down=a(64)+3;break;default:h.up=a(8)+1,h.mid=a(6)/2,h.down=a(8)+1;break}var d=["up","mid","down"];for(var m in d)for(var v=d[m],x=0;x<=h[v];x++)c[v]&&(p=p+r[v][a(r[v].length)])}return p}return o(e,i)}});var Uo=f((mw,Bo)=>{Bo.exports=function(t){return function(e,i,r){if(e===" ")return e;switch(i%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var Go=f((gw,$o)=>{$o.exports=function(t){return function(e,i,r){return i%2===0?e:t.inverse(e)}}});var Wo=f((vw,Yo)=>{Yo.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(i,r,n){return i===" "?i:t[e[r++%e.length]](i)}}});var Ko=f((xw,Vo)=>{Vo.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(i,r,n){return i===" "?i:t[e[Math.round(Math.random()*(e.length-2))]](i)}}});var tl=f((bw,el)=>{var k={};el.exports=k;k.themes={};var Jf=require("util"),Ne=k.styles=Ro(),Jo=Object.defineProperties,Xf=new RegExp(/[\r\n]+/g);k.supportsColor=Po().supportsColor;typeof k.enabled>"u"&&(k.enabled=k.supportsColor()!==!1);k.enable=function(){k.enabled=!0};k.disable=function(){k.enabled=!1};k.stripColors=k.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var yw=k.stylize=function(e,i){if(!k.enabled)return e+"";var r=Ne[i];return!r&&i in k?k[i](e):r.open+e+r.close},Zf=/[|\\{}()[\]^$+*?.]/g,em=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(Zf,"\\$&")};function Xo(t){var e=function i(){return im.apply(i,arguments)};return e._styles=t,e.__proto__=tm,e}var Zo=function(){var t={};return Ne.grey=Ne.gray,Object.keys(Ne).forEach(function(e){Ne[e].closeRe=new RegExp(em(Ne[e].close),"g"),t[e]={get:function(){return Xo(this._styles.concat(e))}}}),t}(),tm=Jo(function(){},Zo);function im(){var t=Array.prototype.slice.call(arguments),e=t.map(function(s){return s!=null&&s.constructor===String?s:Jf.inspect(s)}).join(" ");if(!k.enabled||!e)return e;for(var i=e.indexOf(`
`)!=-1,r=this._styles,n=r.length;n--;){var a=Ne[r[n]];e=a.open+e.replace(a.closeRe,a.open)+a.close,i&&(e=e.replace(Xf,function(s){return a.close+s+a.open}))}return e}k.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(i){k[i]=function(r){if(typeof t[i]=="object"){var n=r;for(var a in t[i])n=k[t[i][a]](n);return n}return k[t[i]](r)}})(e)};function rm(){var t={};return Object.keys(Zo).forEach(function(e){t[e]={get:function(){return Xo([e])}}}),t}var nm=function(e,i){var r=i.split("");return r=r.map(e),r.join("")};k.trap=zo();k.zalgo=Fo();k.maps={};k.maps.america=Uo()(k);k.maps.zebra=Go()(k);k.maps.rainbow=Wo()(k);k.maps.random=Ko()(k);for(Qo in k.maps)(function(t){k[t]=function(e){return nm(k.maps[t],e)}})(Qo);var Qo;Jo(k,rm())});var ln=f((ww,il)=>{var am=tl();il.exports=am});var rl=f(cn=>{"use strict";cn.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};cn.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var nl=f(pn=>{"use strict";pn.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};pn.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var al=f(un=>{"use strict";un.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};un.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var sl=f(ii=>{"use strict";Object.defineProperty(ii,"cli",{value:rl()});Object.defineProperty(ii,"npm",{value:nl()});Object.defineProperty(ii,"syslog",{value:al()})});var P=f(_t=>{"use strict";Object.defineProperty(_t,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(_t,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(_t,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(_t,"configs",{value:sl()})});var ai=f((Aw,ni)=>{"use strict";var fn=ln(),{LEVEL:dn,MESSAGE:hn}=P();fn.enabled=!0;var ol=/\s+/,ri=class t{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){let i=Object.keys(e).reduce((r,n)=>(r[n]=ol.test(e[n])?e[n].split(ol):e[n],r),{});return t.allColors=Object.assign({},t.allColors||{},i),t.allColors}addColors(e){return t.addColors(e)}colorize(e,i,r){if(typeof r>"u"&&(r=i),!Array.isArray(t.allColors[e]))return fn[t.allColors[e]](r);for(let n=0,a=t.allColors[e].length;n<a;n++)r=fn[t.allColors[e][n]](r);return r}transform(e,i){return i.all&&typeof e[hn]=="string"&&(e[hn]=this.colorize(e[dn],e.level,e[hn])),(i.level||i.all||!i.message)&&(e.level=this.colorize(e[dn],e.level)),(i.all||i.message)&&(e.message=this.colorize(e[dn],e.level,e.message)),e}};ni.exports=t=>new ri(t);ni.exports.Colorizer=ni.exports.Format=ri});var cl=f((qw,ll)=>{"use strict";var{Colorizer:sm}=ai();ll.exports=t=>(sm.addColors(t.colors||t),t)});var ul=f((Mw,pl)=>{"use strict";var om=J();pl.exports=om(t=>(t.message=`	${t.message}`,t))});var fl=f((Cw,hl)=>{"use strict";var lm=J(),{LEVEL:dl,MESSAGE:mn}=P();hl.exports=lm((t,{stack:e,cause:i})=>{if(t instanceof Error){let n=Object.assign({},t,{level:t.level,[dl]:t[dl]||t.level,message:t.message,[mn]:t[mn]||t.message});return e&&(n.stack=t.stack),i&&(n.cause=t.cause),n}if(!(t.message instanceof Error))return t;let r=t.message;return Object.assign(t,r),t.message=r.message,t[mn]=r.message,e&&(t.stack=r.stack),i&&(t.cause=r.cause),t})});var vn=f((Ow,oi)=>{"use strict";var{configs:cm,LEVEL:ml,MESSAGE:gn}=P(),si=class t{constructor(e={levels:cm.npm.levels}){this.paddings=t.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){let i=Object.keys(e).map(r=>r.length);return Math.max(...i)}static paddingForLevel(e,i,r){let n=r+1-e.length,a=Math.floor(n/i.length);return`${i}${i.repeat(a)}`.slice(0,n)}static paddingForLevels(e,i=" "){let r=t.getLongestLevel(e);return Object.keys(e).reduce((n,a)=>(n[a]=t.paddingForLevel(a,i,r),n),{})}transform(e,i){return e.message=`${this.paddings[e[ml]]}${e.message}`,e[gn]&&(e[gn]=`${this.paddings[e[ml]]}${e[gn]}`),e}};oi.exports=t=>new si(t);oi.exports.Padder=oi.exports.Format=si});var gl=f((jw,xn)=>{"use strict";var{Colorizer:pm}=ai(),{Padder:um}=vn(),{configs:dm,MESSAGE:hm}=P(),li=class{constructor(e={}){e.levels||(e.levels=dm.cli.levels),this.colorizer=new pm(e),this.padder=new um(e),this.options=e}transform(e,i){return this.colorizer.transform(this.padder.transform(e,i),i),e[hm]=`${e.level}:${e.message}`,e}};xn.exports=t=>new li(t);xn.exports.Format=li});var xl=f((Rw,yn)=>{"use strict";var fm=J();function vl(t){if(t.every(mm))return e=>{let i=e;for(let r=0;r<t.length;r++)if(i=t[r].transform(i,t[r].options),!i)return!1;return i}}function mm(t){if(typeof t.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}yn.exports=(...t)=>{let e=fm(vl(t)),i=e();return i.Format=e.Format,i};yn.exports.cascade=vl});var Et=f((En,_l)=>{"use strict";var{hasOwnProperty:ci}=Object.prototype,He=_n();He.configure=_n;He.stringify=He;He.default=He;En.stringify=He;En.configure=_n;_l.exports=He;var gm=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function ke(t){return t.length<5e3&&!gm.test(t)?`"${t}"`:JSON.stringify(t)}function bn(t){if(t.length>200)return t.sort();for(let e=1;e<t.length;e++){let i=t[e],r=e;for(;r!==0&&t[r-1]>i;)t[r]=t[r-1],r--;t[r]=i}return t}var vm=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function wn(t){return vm.call(t)!==void 0&&t.length!==0}function yl(t,e,i){t.length<i&&(i=t.length);let r=e===","?"":" ",n=`"0":${r}${t[0]}`;for(let a=1;a<i;a++)n+=`${e}"${a}":${r}${t[a]}`;return n}function xm(t){if(ci.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function bl(t,e){let i;if(ci.call(t,e)&&(i=t[e],typeof i!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return i===void 0?!0:i}function wl(t,e){let i;if(ci.call(t,e)){if(i=t[e],typeof i!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(i))throw new TypeError(`The "${e}" argument must be an integer`);if(i<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return i===void 0?1/0:i}function Pe(t){return t===1?"1 item":`${t} items`}function ym(t){let e=new Set;for(let i of t)(typeof i=="string"||typeof i=="number")&&e.add(String(i));return e}function bm(t){if(ci.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return i=>{let r=`Object can not safely be stringified. Received type ${typeof i}`;throw typeof i!="function"&&(r+=` (${i.toString()})`),new Error(r)}}}function _n(t){t={...t};let e=bm(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let i=xm(t),r=bl(t,"bigint"),n=bl(t,"deterministic"),a=wl(t,"maximumDepth"),s=wl(t,"maximumBreadth");function o(u,d,m,v,x,w){let _=d[u];switch(typeof _=="object"&&_!==null&&typeof _.toJSON=="function"&&(_=_.toJSON(u)),_=v.call(d,u,_),typeof _){case"string":return ke(_);case"object":{if(_===null)return"null";if(m.indexOf(_)!==-1)return i;let E="",M=",",O=w;if(Array.isArray(_)){if(_.length===0)return"[]";if(a<m.length+1)return'"[Array]"';m.push(_),x!==""&&(w+=x,E+=`
${w}`,M=`,
${w}`);let H=Math.min(_.length,s),ee=0;for(;ee<H-1;ee++){let Le=o(String(ee),_,m,v,x,w);E+=Le!==void 0?Le:"null",E+=M}let te=o(String(ee),_,m,v,x,w);if(E+=te!==void 0?te:"null",_.length-1>s){let Le=_.length-s-1;E+=`${M}"... ${Pe(Le)} not stringified"`}return x!==""&&(E+=`
${O}`),m.pop(),`[${E}]`}let R=Object.keys(_),N=R.length;if(N===0)return"{}";if(a<m.length+1)return'"[Object]"';let q="",D="";x!==""&&(w+=x,M=`,
${w}`,q=" ");let Z=Math.min(N,s);n&&!wn(_)&&(R=bn(R)),m.push(_);for(let H=0;H<Z;H++){let ee=R[H],te=o(ee,_,m,v,x,w);te!==void 0&&(E+=`${D}${ke(ee)}:${q}${te}`,D=M)}if(N>s){let H=N-s;E+=`${D}"...":${q}"${Pe(H)} not stringified"`,D=M}return x!==""&&D.length>1&&(E=`
${w}${E}
${O}`),m.pop(),`{${E}}`}case"number":return isFinite(_)?String(_):e?e(_):"null";case"boolean":return _===!0?"true":"false";case"undefined":return;case"bigint":if(r)return String(_);default:return e?e(_):void 0}}function l(u,d,m,v,x,w){switch(typeof d=="object"&&d!==null&&typeof d.toJSON=="function"&&(d=d.toJSON(u)),typeof d){case"string":return ke(d);case"object":{if(d===null)return"null";if(m.indexOf(d)!==-1)return i;let _=w,E="",M=",";if(Array.isArray(d)){if(d.length===0)return"[]";if(a<m.length+1)return'"[Array]"';m.push(d),x!==""&&(w+=x,E+=`
${w}`,M=`,
${w}`);let N=Math.min(d.length,s),q=0;for(;q<N-1;q++){let Z=l(String(q),d[q],m,v,x,w);E+=Z!==void 0?Z:"null",E+=M}let D=l(String(q),d[q],m,v,x,w);if(E+=D!==void 0?D:"null",d.length-1>s){let Z=d.length-s-1;E+=`${M}"... ${Pe(Z)} not stringified"`}return x!==""&&(E+=`
${_}`),m.pop(),`[${E}]`}m.push(d);let O="";x!==""&&(w+=x,M=`,
${w}`,O=" ");let R="";for(let N of v){let q=l(N,d[N],m,v,x,w);q!==void 0&&(E+=`${R}${ke(N)}:${O}${q}`,R=M)}return x!==""&&R.length>1&&(E=`
${w}${E}
${_}`),m.pop(),`{${E}}`}case"number":return isFinite(d)?String(d):e?e(d):"null";case"boolean":return d===!0?"true":"false";case"undefined":return;case"bigint":if(r)return String(d);default:return e?e(d):void 0}}function c(u,d,m,v,x){switch(typeof d){case"string":return ke(d);case"object":{if(d===null)return"null";if(typeof d.toJSON=="function"){if(d=d.toJSON(u),typeof d!="object")return c(u,d,m,v,x);if(d===null)return"null"}if(m.indexOf(d)!==-1)return i;let w=x;if(Array.isArray(d)){if(d.length===0)return"[]";if(a<m.length+1)return'"[Array]"';m.push(d),x+=v;let q=`
${x}`,D=`,
${x}`,Z=Math.min(d.length,s),H=0;for(;H<Z-1;H++){let te=c(String(H),d[H],m,v,x);q+=te!==void 0?te:"null",q+=D}let ee=c(String(H),d[H],m,v,x);if(q+=ee!==void 0?ee:"null",d.length-1>s){let te=d.length-s-1;q+=`${D}"... ${Pe(te)} not stringified"`}return q+=`
${w}`,m.pop(),`[${q}]`}let _=Object.keys(d),E=_.length;if(E===0)return"{}";if(a<m.length+1)return'"[Object]"';x+=v;let M=`,
${x}`,O="",R="",N=Math.min(E,s);wn(d)&&(O+=yl(d,M,s),_=_.slice(d.length),N-=d.length,R=M),n&&(_=bn(_)),m.push(d);for(let q=0;q<N;q++){let D=_[q],Z=c(D,d[D],m,v,x);Z!==void 0&&(O+=`${R}${ke(D)}: ${Z}`,R=M)}if(E>s){let q=E-s;O+=`${R}"...": "${Pe(q)} not stringified"`,R=M}return R!==""&&(O=`
${x}${O}
${w}`),m.pop(),`{${O}}`}case"number":return isFinite(d)?String(d):e?e(d):"null";case"boolean":return d===!0?"true":"false";case"undefined":return;case"bigint":if(r)return String(d);default:return e?e(d):void 0}}function p(u,d,m){switch(typeof d){case"string":return ke(d);case"object":{if(d===null)return"null";if(typeof d.toJSON=="function"){if(d=d.toJSON(u),typeof d!="object")return p(u,d,m);if(d===null)return"null"}if(m.indexOf(d)!==-1)return i;let v="";if(Array.isArray(d)){if(d.length===0)return"[]";if(a<m.length+1)return'"[Array]"';m.push(d);let M=Math.min(d.length,s),O=0;for(;O<M-1;O++){let N=p(String(O),d[O],m);v+=N!==void 0?N:"null",v+=","}let R=p(String(O),d[O],m);if(v+=R!==void 0?R:"null",d.length-1>s){let N=d.length-s-1;v+=`,"... ${Pe(N)} not stringified"`}return m.pop(),`[${v}]`}let x=Object.keys(d),w=x.length;if(w===0)return"{}";if(a<m.length+1)return'"[Object]"';let _="",E=Math.min(w,s);wn(d)&&(v+=yl(d,",",s),x=x.slice(d.length),E-=d.length,_=","),n&&(x=bn(x)),m.push(d);for(let M=0;M<E;M++){let O=x[M],R=p(O,d[O],m);R!==void 0&&(v+=`${_}${ke(O)}:${R}`,_=",")}if(w>s){let M=w-s;v+=`${_}"...":"${Pe(M)} not stringified"`}return m.pop(),`{${v}}`}case"number":return isFinite(d)?String(d):e?e(d):"null";case"boolean":return d===!0?"true":"false";case"undefined":return;case"bigint":if(r)return String(d);default:return e?e(d):void 0}}function h(u,d,m){if(arguments.length>1){let v="";if(typeof m=="number"?v=" ".repeat(Math.min(m,10)):typeof m=="string"&&(v=m.slice(0,10)),d!=null){if(typeof d=="function")return o("",{"":u},[],d,v,"");if(Array.isArray(d))return l("",u,[],ym(d),v,"")}if(v.length!==0)return c("",u,[],v,"")}return p("",u,[])}return h}});var Sn=f((Lw,El)=>{"use strict";var wm=J(),{MESSAGE:_m}=P(),Em=Et();function Sm(t,e){return typeof e=="bigint"?e.toString():e}El.exports=wm((t,e)=>{let i=Em.configure(e);return t[_m]=i(t,e.replacer||Sm,e.space),t})});var Tl=f((Iw,Sl)=>{"use strict";var Tm=J();Sl.exports=Tm((t,e)=>e.message?(t.message=`[${e.label}] ${t.message}`,t):(t.label=e.label,t))});var Al=f((Nw,kl)=>{"use strict";var km=J(),{MESSAGE:Am}=P(),qm=Et();kl.exports=km(t=>{let e={};return t.message&&(e["@message"]=t.message,delete t.message),t.timestamp&&(e["@timestamp"]=t.timestamp,delete t.timestamp),e["@fields"]=t,t[Am]=qm(e),t})});var Ml=f((Pw,ql)=>{"use strict";var Mm=J();function Cm(t,e,i){let r=e.reduce((a,s)=>(a[s]=t[s],delete t[s],a),{}),n=Object.keys(t).reduce((a,s)=>(a[s]=t[s],delete t[s],a),{});return Object.assign(t,r,{[i]:n}),t}function Om(t,e,i){return t[i]=e.reduce((r,n)=>(r[n]=t[n],delete t[n],r),{}),t}ql.exports=Mm((t,e={})=>{let i="metadata";e.key&&(i=e.key);let r=[];return!e.fillExcept&&!e.fillWith&&(r.push("level"),r.push("message")),e.fillExcept&&(r=e.fillExcept),r.length>0?Cm(t,r,i):e.fillWith?Om(t,e.fillWith,i):t})});var Ol=f((Hw,Cl)=>{var Ze=1e3,et=Ze*60,tt=et*60,ze=tt*24,jm=ze*7,Rm=ze*365.25;Cl.exports=function(t,e){e=e||{};var i=typeof t;if(i==="string"&&t.length>0)return Lm(t);if(i==="number"&&isFinite(t))return e.long?Nm(t):Im(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Lm(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return i*Rm;case"weeks":case"week":case"w":return i*jm;case"days":case"day":case"d":return i*ze;case"hours":case"hour":case"hrs":case"hr":case"h":return i*tt;case"minutes":case"minute":case"mins":case"min":case"m":return i*et;case"seconds":case"second":case"secs":case"sec":case"s":return i*Ze;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function Im(t){var e=Math.abs(t);return e>=ze?Math.round(t/ze)+"d":e>=tt?Math.round(t/tt)+"h":e>=et?Math.round(t/et)+"m":e>=Ze?Math.round(t/Ze)+"s":t+"ms"}function Nm(t){var e=Math.abs(t);return e>=ze?pi(t,e,ze,"day"):e>=tt?pi(t,e,tt,"hour"):e>=et?pi(t,e,et,"minute"):e>=Ze?pi(t,e,Ze,"second"):t+" ms"}function pi(t,e,i,r){var n=e>=i*1.5;return Math.round(t/i)+" "+r+(n?"s":"")}});var Rl=f((St,jl)=>{"use strict";var Pm=J(),Hm=Ol();jl.exports=Pm(t=>{let e=+new Date;return St.diff=e-(St.prevTime||e),St.prevTime=e,t.ms=`+${Hm(St.diff)}`,t})});var Nl=f((zw,Il)=>{"use strict";var zm=require("util").inspect,Dm=J(),{LEVEL:Fm,MESSAGE:Ll,SPLAT:Bm}=P();Il.exports=Dm((t,e={})=>{let i=Object.assign({},t);return delete i[Fm],delete i[Ll],delete i[Bm],t[Ll]=zm(i,!1,e.depth||null,e.colorize),t})});var Pl=f((Dw,di)=>{"use strict";var{MESSAGE:Um}=P(),ui=class{constructor(e){this.template=e}transform(e){return e[Um]=this.template(e),e}};di.exports=t=>new ui(t);di.exports.Printf=di.exports.Format=ui});var Dl=f((Fw,zl)=>{"use strict";var $m=J(),{MESSAGE:Hl}=P(),Gm=Et();zl.exports=$m(t=>{let e=Gm(Object.assign({},t,{level:void 0,message:void 0,splat:void 0})),i=t.padding&&t.padding[t.level]||"";return e!=="{}"?t[Hl]=`${t.level}:${i} ${t.message} ${e}`:t[Hl]=`${t.level}:${i} ${t.message}`,t})});var Ul=f((Bw,Bl)=>{"use strict";var Ym=require("util"),{SPLAT:Fl}=P(),Wm=/%[scdjifoO%]/g,Vm=/%%/g,Tn=class{constructor(e){this.options=e}_splat(e,i){let r=e.message,n=e[Fl]||e.splat||[],a=r.match(Vm),s=a&&a.length||0,l=i.length-s-n.length,c=l<0?n.splice(l,-1*l):[],p=c.length;if(p)for(let h=0;h<p;h++)Object.assign(e,c[h]);return e.message=Ym.format(r,...n),e}transform(e){let i=e.message,r=e[Fl]||e.splat;if(!r||!r.length)return e;let n=i&&i.match&&i.match(Wm);if(!n&&(r||r.length)){let a=r.length>1?r.splice(0):r,s=a.length;if(s)for(let o=0;o<s;o++)Object.assign(e,a[o]);return e}return n?this._splat(e,n):e}};Bl.exports=t=>new Tn(t)});var Gl=f((hi,$l)=>{(function(t,e){typeof hi=="object"&&typeof $l<"u"?e(hi):typeof define=="function"&&define.amd?define(["exports"],e):e(t.fecha={})})(hi,function(t){"use strict";var e=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,i="\\d\\d?",r="\\d\\d",n="\\d{3}",a="\\d{4}",s="[^\\s]+",o=/\[([^]*?)\]/gm;function l(g,y){for(var j=[],Q=0,S=g.length;Q<S;Q++)j.push(g[Q].substr(0,y));return j}var c=function(g){return function(y,j){var Q=j[g].map(function(de){return de.toLowerCase()}),S=Q.indexOf(y.toLowerCase());return S>-1?S:null}};function p(g){for(var y=[],j=1;j<arguments.length;j++)y[j-1]=arguments[j];for(var Q=0,S=y;Q<S.length;Q++){var de=S[Q];for(var Ie in de)g[Ie]=de[Ie]}return g}var h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],d=l(u,3),m=l(h,3),v={dayNamesShort:m,dayNames:h,monthNamesShort:d,monthNames:u,amPm:["am","pm"],DoFn:function(g){return g+["th","st","nd","rd"][g%10>3?0:(g-g%10!==10?1:0)*g%10]}},x=p({},v),w=function(g){return x=p(x,g)},_=function(g){return g.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},E=function(g,y){for(y===void 0&&(y=2),g=String(g);g.length<y;)g="0"+g;return g},M={D:function(g){return String(g.getDate())},DD:function(g){return E(g.getDate())},Do:function(g,y){return y.DoFn(g.getDate())},d:function(g){return String(g.getDay())},dd:function(g){return E(g.getDay())},ddd:function(g,y){return y.dayNamesShort[g.getDay()]},dddd:function(g,y){return y.dayNames[g.getDay()]},M:function(g){return String(g.getMonth()+1)},MM:function(g){return E(g.getMonth()+1)},MMM:function(g,y){return y.monthNamesShort[g.getMonth()]},MMMM:function(g,y){return y.monthNames[g.getMonth()]},YY:function(g){return E(String(g.getFullYear()),4).substr(2)},YYYY:function(g){return E(g.getFullYear(),4)},h:function(g){return String(g.getHours()%12||12)},hh:function(g){return E(g.getHours()%12||12)},H:function(g){return String(g.getHours())},HH:function(g){return E(g.getHours())},m:function(g){return String(g.getMinutes())},mm:function(g){return E(g.getMinutes())},s:function(g){return String(g.getSeconds())},ss:function(g){return E(g.getSeconds())},S:function(g){return String(Math.round(g.getMilliseconds()/100))},SS:function(g){return E(Math.round(g.getMilliseconds()/10),2)},SSS:function(g){return E(g.getMilliseconds(),3)},a:function(g,y){return g.getHours()<12?y.amPm[0]:y.amPm[1]},A:function(g,y){return g.getHours()<12?y.amPm[0].toUpperCase():y.amPm[1].toUpperCase()},ZZ:function(g){var y=g.getTimezoneOffset();return(y>0?"-":"+")+E(Math.floor(Math.abs(y)/60)*100+Math.abs(y)%60,4)},Z:function(g){var y=g.getTimezoneOffset();return(y>0?"-":"+")+E(Math.floor(Math.abs(y)/60),2)+":"+E(Math.abs(y)%60,2)}},O=function(g){return+g-1},R=[null,i],N=[null,s],q=["isPm",s,function(g,y){var j=g.toLowerCase();return j===y.amPm[0]?0:j===y.amPm[1]?1:null}],D=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(g){var y=(g+"").match(/([+-]|\d\d)/gi);if(y){var j=+y[1]*60+parseInt(y[2],10);return y[0]==="+"?j:-j}return 0}],Z={D:["day",i],DD:["day",r],Do:["day",i+s,function(g){return parseInt(g,10)}],M:["month",i,O],MM:["month",r,O],YY:["year",r,function(g){var y=new Date,j=+(""+y.getFullYear()).substr(0,2);return+(""+(+g>68?j-1:j)+g)}],h:["hour",i,void 0,"isPm"],hh:["hour",r,void 0,"isPm"],H:["hour",i],HH:["hour",r],m:["minute",i],mm:["minute",r],s:["second",i],ss:["second",r],YYYY:["year",a],S:["millisecond","\\d",function(g){return+g*100}],SS:["millisecond",r,function(g){return+g*10}],SSS:["millisecond",n],d:R,dd:R,ddd:N,dddd:N,MMM:["month",s,c("monthNamesShort")],MMMM:["month",s,c("monthNames")],a:q,A:q,ZZ:D,Z:D},H={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},ee=function(g){return p(H,g)},te=function(g,y,j){if(y===void 0&&(y=H.default),j===void 0&&(j={}),typeof g=="number"&&(g=new Date(g)),Object.prototype.toString.call(g)!=="[object Date]"||isNaN(g.getTime()))throw new Error("Invalid Date pass to format");y=H[y]||y;var Q=[];y=y.replace(o,function(de,Ie){return Q.push(Ie),"@@@"});var S=p(p({},x),j);return y=y.replace(e,function(de){return M[de](g,S)}),y.replace(/@@@/g,function(){return Q.shift()})};function Le(g,y,j){if(j===void 0&&(j={}),typeof y!="string")throw new Error("Invalid format in fecha parse");if(y=H[y]||y,g.length>1e3)return null;var Q=new Date,S={year:Q.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},de=[],Ie=[],dt=y.replace(o,function(ht,Ke){return Ie.push(_(Ke)),"@@@"}),Vt={},Da={};dt=_(dt).replace(e,function(ht){var Ke=Z[ht],cr=Ke[0],Rd=Ke[1],$a=Ke[3];if(Vt[cr])throw new Error("Invalid format. "+cr+" specified twice in format");return Vt[cr]=!0,$a&&(Da[$a]=!0),de.push(Ke),"("+Rd+")"}),Object.keys(Da).forEach(function(ht){if(!Vt[ht])throw new Error("Invalid format. "+ht+" is required in specified format")}),dt=dt.replace(/@@@/g,function(){return Ie.shift()});var Kt=g.match(new RegExp(dt,"i"));if(!Kt)return null;for(var Cd=p(p({},x),j),se=1;se<Kt.length;se++){var Fa=de[se-1],Od=Fa[0],Ba=Fa[2],Ua=Ba?Ba(Kt[se],Cd):+Kt[se];if(Ua==null)return null;S[Od]=Ua}S.isPm===1&&S.hour!=null&&+S.hour!=12?S.hour=+S.hour+12:S.isPm===0&&+S.hour==12&&(S.hour=0);var Qt;if(S.timezoneOffset==null){Qt=new Date(S.year,S.month,S.day,S.hour,S.minute,S.second,S.millisecond);for(var Jt=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],se=0,jd=Jt.length;se<jd;se++)if(Vt[Jt[se][0]]&&S[Jt[se][0]]!==Qt[Jt[se][1]]())return null}else if(Qt=new Date(Date.UTC(S.year,S.month,S.day,S.hour,S.minute-S.timezoneOffset,S.second,S.millisecond)),S.month>11||S.month<0||S.day>31||S.day<1||S.hour>23||S.hour<0||S.minute>59||S.minute<0||S.second>59||S.second<0)return null;return Qt}var Md={format:te,parse:Le,defaultI18n:v,setGlobalDateI18n:w,setGlobalDateMasks:ee};t.assign=p,t.default=Md,t.format=te,t.parse=Le,t.defaultI18n=v,t.setGlobalDateI18n=w,t.setGlobalDateMasks=ee,Object.defineProperty(t,"__esModule",{value:!0})})});var Wl=f((Uw,Yl)=>{"use strict";var Km=Gl(),Qm=J();Yl.exports=Qm((t,e={})=>(e.format&&(t.timestamp=typeof e.format=="function"?e.format():Km.format(new Date,e.format)),t.timestamp||(t.timestamp=new Date().toISOString()),e.alias&&(t[e.alias]=t.timestamp),t))});var Kl=f(($w,Vl)=>{"use strict";var kn=ln(),Jm=J(),{MESSAGE:An}=P();Vl.exports=Jm((t,e)=>(e.level!==!1&&(t.level=kn.strip(t.level)),e.message!==!1&&(t.message=kn.strip(String(t.message))),e.raw!==!1&&t[An]&&(t[An]=kn.strip(String(t[An]))),t))});var Mn=f(qn=>{"use strict";var Xm=qn.format=J();qn.levels=cl();function U(t,e){Object.defineProperty(Xm,t,{get(){return e()},configurable:!0})}U("align",function(){return ul()});U("errors",function(){return fl()});U("cli",function(){return gl()});U("combine",function(){return xl()});U("colorize",function(){return ai()});U("json",function(){return Sn()});U("label",function(){return Tl()});U("logstash",function(){return Al()});U("metadata",function(){return Ml()});U("ms",function(){return Rl()});U("padLevels",function(){return vn()});U("prettyPrint",function(){return Nl()});U("printf",function(){return Pl()});U("simple",function(){return Dl()});U("splat",function(){return Ul()});U("timestamp",function(){return Wl()});U("uncolorize",function(){return Kl()})});var Cn=f(fi=>{"use strict";var{format:Ql}=require("util");fi.warn={deprecated(t){return()=>{throw new Error(Ql("{ %s } was removed in winston@3.0.0.",t))}},useFormat(t){return()=>{throw new Error([Ql("{ %s } was removed in winston@3.0.0.",t),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(t,e,i){i.forEach(r=>{t[r]=fi.warn[e](r)})},forProperties(t,e,i){i.forEach(r=>{let n=fi.warn[e](r);Object.defineProperty(t,r,{get:n,set:n})})}}});var Jl=f((Ww,Zm)=>{Zm.exports={name:"winston",description:"A logger for just about everything.",version:"3.13.1",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.6.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.7.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^15.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var Zl=f((Vw,Xl)=>{Xl.exports=require("util").deprecate});var On=f((Kw,ec)=>{ec.exports=require("stream")});var Rn=f((Qw,ic)=>{"use strict";function eg(t,e){var i=this,r=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return r||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(jn,this,t)):process.nextTick(jn,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?i._writableState?i._writableState.errorEmitted?process.nextTick(mi,i):(i._writableState.errorEmitted=!0,process.nextTick(tc,i,a)):process.nextTick(tc,i,a):e?(process.nextTick(mi,i),e(a)):process.nextTick(mi,i)}),this)}function tc(t,e){jn(t,e),mi(t)}function mi(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function tg(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function jn(t,e){t.emit("error",e)}function ig(t,e){var i=t._readableState,r=t._writableState;i&&i.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}ic.exports={destroy:eg,undestroy:tg,errorOrDestroy:ig}});var Ae=f((Jw,ac)=>{"use strict";var nc={};function ne(t,e,i){i||(i=Error);function r(a,s,o){return typeof e=="string"?e:e(a,s,o)}class n extends i{constructor(s,o,l){super(r(s,o,l))}}n.prototype.name=i.name,n.prototype.code=t,nc[t]=n}function rc(t,e){if(Array.isArray(t)){let i=t.length;return t=t.map(r=>String(r)),i>2?`one of ${e} ${t.slice(0,i-1).join(", ")}, or `+t[i-1]:i===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function rg(t,e,i){return t.substr(!i||i<0?0:+i,e.length)===e}function ng(t,e,i){return(i===void 0||i>t.length)&&(i=t.length),t.substring(i-e.length,i)===e}function ag(t,e,i){return typeof i!="number"&&(i=0),i+e.length>t.length?!1:t.indexOf(e,i)!==-1}ne("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ne("ERR_INVALID_ARG_TYPE",function(t,e,i){let r;typeof e=="string"&&rg(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";let n;if(ng(t," argument"))n=`The ${t} ${r} ${rc(e,"type")}`;else{let a=ag(t,".")?"property":"argument";n=`The "${t}" ${a} ${r} ${rc(e,"type")}`}return n+=`. Received type ${typeof i}`,n},TypeError);ne("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ne("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ne("ERR_STREAM_PREMATURE_CLOSE","Premature close");ne("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ne("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ne("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ne("ERR_STREAM_WRITE_AFTER_END","write after end");ne("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ne("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ne("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ac.exports.codes=nc});var Ln=f((Xw,sc)=>{"use strict";var sg=Ae().codes.ERR_INVALID_OPT_VALUE;function og(t,e,i){return t.highWaterMark!=null?t.highWaterMark:e?t[i]:null}function lg(t,e,i,r){var n=og(e,r,i);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var a=r?i:"highWaterMark";throw new sg(a,n)}return Math.floor(n)}return t.objectMode?16:16*1024}sc.exports={getHighWaterMark:lg}});var oc=f((Zw,In)=>{typeof Object.create=="function"?In.exports=function(e,i){i&&(e.super_=i,e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:In.exports=function(e,i){if(i){e.super_=i;var r=function(){};r.prototype=i.prototype,e.prototype=new r,e.prototype.constructor=e}}});var it=f((e_,Pn)=>{try{if(Nn=require("util"),typeof Nn.inherits!="function")throw"";Pn.exports=Nn.inherits}catch{Pn.exports=oc()}var Nn});var hc=f((t_,dc)=>{"use strict";function lc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function cc(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?lc(Object(i),!0).forEach(function(r){cg(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lc(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function cg(t,e,i){return e=uc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function pg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pc(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uc(r.key),r)}}function ug(t,e,i){return e&&pc(t.prototype,e),i&&pc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function uc(t){var e=dg(t,"string");return typeof e=="symbol"?e:String(e)}function dg(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hg=require("buffer"),gi=hg.Buffer,fg=require("util"),Hn=fg.inspect,mg=Hn&&Hn.custom||"inspect";function gg(t,e,i){gi.prototype.copy.call(t,e,i)}dc.exports=function(){function t(){pg(this,t),this.head=null,this.tail=null,this.length=0}return ug(t,[{key:"push",value:function(i){var r={data:i,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}},{key:"unshift",value:function(i){var r={data:i,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}},{key:"shift",value:function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(i){if(this.length===0)return"";for(var r=this.head,n=""+r.data;r=r.next;)n+=i+r.data;return n}},{key:"concat",value:function(i){if(this.length===0)return gi.alloc(0);for(var r=gi.allocUnsafe(i>>>0),n=this.head,a=0;n;)gg(n.data,r,a),a+=n.data.length,n=n.next;return r}},{key:"consume",value:function(i,r){var n;return i<this.head.data.length?(n=this.head.data.slice(0,i),this.head.data=this.head.data.slice(i)):i===this.head.data.length?n=this.shift():n=r?this._getString(i):this._getBuffer(i),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(i){var r=this.head,n=1,a=r.data;for(i-=a.length;r=r.next;){var s=r.data,o=i>s.length?s.length:i;if(o===s.length?a+=s:a+=s.slice(0,i),i-=o,i===0){o===s.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=s.slice(o));break}++n}return this.length-=n,a}},{key:"_getBuffer",value:function(i){var r=gi.allocUnsafe(i),n=this.head,a=1;for(n.data.copy(r),i-=n.data.length;n=n.next;){var s=n.data,o=i>s.length?s.length:i;if(s.copy(r,r.length-i,0,o),i-=o,i===0){o===s.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(o));break}++a}return this.length-=a,r}},{key:mg,value:function(i,r){return Hn(this,cc(cc({},r),{},{depth:0,customInspect:!1}))}}]),t}()});var gc=f((zn,mc)=>{var vi=require("buffer"),ge=vi.Buffer;function fc(t,e){for(var i in t)e[i]=t[i]}ge.from&&ge.alloc&&ge.allocUnsafe&&ge.allocUnsafeSlow?mc.exports=vi:(fc(vi,zn),zn.Buffer=De);function De(t,e,i){return ge(t,e,i)}De.prototype=Object.create(ge.prototype);fc(ge,De);De.from=function(t,e,i){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ge(t,e,i)};De.alloc=function(t,e,i){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=ge(t);return e!==void 0?typeof i=="string"?r.fill(e,i):r.fill(e):r.fill(0),r};De.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ge(t)};De.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return vi.SlowBuffer(t)}});var Bn=f(xc=>{"use strict";var Fn=gc().Buffer,vc=Fn.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function vg(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function xg(t){var e=vg(t);if(typeof e!="string"&&(Fn.isEncoding===vc||!vc(t)))throw new Error("Unknown encoding: "+t);return e||t}xc.StringDecoder=Tt;function Tt(t){this.encoding=xg(t);var e;switch(this.encoding){case"utf16le":this.text=Sg,this.end=Tg,e=4;break;case"utf8":this.fillLast=wg,e=4;break;case"base64":this.text=kg,this.end=Ag,e=3;break;default:this.write=qg,this.end=Mg;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Fn.allocUnsafe(e)}Tt.prototype.write=function(t){if(t.length===0)return"";var e,i;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""};Tt.prototype.end=Eg;Tt.prototype.text=_g;Tt.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Dn(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function yg(t,e,i){var r=e.length-1;if(r<i)return 0;var n=Dn(e[r]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--r<i||n===-2?0:(n=Dn(e[r]),n>=0?(n>0&&(t.lastNeed=n-2),n):--r<i||n===-2?0:(n=Dn(e[r]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function bg(t,e,i){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function wg(t){var e=this.lastTotal-this.lastNeed,i=bg(this,t,e);if(i!==void 0)return i;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function _g(t,e){var i=yg(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var r=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function Eg(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Sg(t,e){if((t.length-e)%2===0){var i=t.toString("utf16le",e);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Tg(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function kg(t,e){var i=(t.length-e)%3;return i===0?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,i===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function Ag(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function qg(t){return t.toString(this.encoding)}function Mg(t){return t&&t.length?this.write(t):""}});var xi=f((r_,wc)=>{"use strict";var yc=Ae().codes.ERR_STREAM_PREMATURE_CLOSE;function Cg(t){var e=!1;return function(){if(!e){e=!0;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];t.apply(this,r)}}}function Og(){}function jg(t){return t.setHeader&&typeof t.abort=="function"}function bc(t,e,i){if(typeof e=="function")return bc(t,null,e);e||(e={}),i=Cg(i||Og);var r=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||o()},s=t._writableState&&t._writableState.finished,o=function(){n=!1,s=!0,r||i.call(t)},l=t._readableState&&t._readableState.endEmitted,c=function(){r=!1,l=!0,n||i.call(t)},p=function(m){i.call(t,m)},h=function(){var m;if(r&&!l)return(!t._readableState||!t._readableState.ended)&&(m=new yc),i.call(t,m);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(m=new yc),i.call(t,m)},u=function(){t.req.on("finish",o)};return jg(t)?(t.on("complete",o),t.on("abort",h),t.req?u():t.on("request",u)):n&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",c),t.on("finish",o),e.error!==!1&&t.on("error",p),t.on("close",h),function(){t.removeListener("complete",o),t.removeListener("abort",h),t.removeListener("request",u),t.req&&t.req.removeListener("finish",o),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",o),t.removeListener("end",c),t.removeListener("error",p),t.removeListener("close",h)}}wc.exports=bc});var Ec=f((n_,_c)=>{"use strict";var yi;function qe(t,e,i){return e=Rg(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Rg(t){var e=Lg(t,"string");return typeof e=="symbol"?e:String(e)}function Lg(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ig=xi(),Me=Symbol("lastResolve"),Fe=Symbol("lastReject"),kt=Symbol("error"),bi=Symbol("ended"),Be=Symbol("lastPromise"),Un=Symbol("handlePromise"),Ue=Symbol("stream");function Ce(t,e){return{value:t,done:e}}function Ng(t){var e=t[Me];if(e!==null){var i=t[Ue].read();i!==null&&(t[Be]=null,t[Me]=null,t[Fe]=null,e(Ce(i,!1)))}}function Pg(t){process.nextTick(Ng,t)}function Hg(t,e){return function(i,r){t.then(function(){if(e[bi]){i(Ce(void 0,!0));return}e[Un](i,r)},r)}}var zg=Object.getPrototypeOf(function(){}),Dg=Object.setPrototypeOf((yi={get stream(){return this[Ue]},next:function(){var e=this,i=this[kt];if(i!==null)return Promise.reject(i);if(this[bi])return Promise.resolve(Ce(void 0,!0));if(this[Ue].destroyed)return new Promise(function(s,o){process.nextTick(function(){e[kt]?o(e[kt]):s(Ce(void 0,!0))})});var r=this[Be],n;if(r)n=new Promise(Hg(r,this));else{var a=this[Ue].read();if(a!==null)return Promise.resolve(Ce(a,!1));n=new Promise(this[Un])}return this[Be]=n,n}},qe(yi,Symbol.asyncIterator,function(){return this}),qe(yi,"return",function(){var e=this;return new Promise(function(i,r){e[Ue].destroy(null,function(n){if(n){r(n);return}i(Ce(void 0,!0))})})}),yi),zg),Fg=function(e){var i,r=Object.create(Dg,(i={},qe(i,Ue,{value:e,writable:!0}),qe(i,Me,{value:null,writable:!0}),qe(i,Fe,{value:null,writable:!0}),qe(i,kt,{value:null,writable:!0}),qe(i,bi,{value:e._readableState.endEmitted,writable:!0}),qe(i,Un,{value:function(a,s){var o=r[Ue].read();o?(r[Be]=null,r[Me]=null,r[Fe]=null,a(Ce(o,!1))):(r[Me]=a,r[Fe]=s)},writable:!0}),i));return r[Be]=null,Ig(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=r[Fe];a!==null&&(r[Be]=null,r[Me]=null,r[Fe]=null,a(n)),r[kt]=n;return}var s=r[Me];s!==null&&(r[Be]=null,r[Me]=null,r[Fe]=null,s(Ce(void 0,!0))),r[bi]=!0}),e.on("readable",Pg.bind(null,r)),r};_c.exports=Fg});var Ac=f((a_,kc)=>{"use strict";function Sc(t,e,i,r,n,a,s){try{var o=t[a](s),l=o.value}catch(c){i(c);return}o.done?e(l):Promise.resolve(l).then(r,n)}function Bg(t){return function(){var e=this,i=arguments;return new Promise(function(r,n){var a=t.apply(e,i);function s(l){Sc(a,r,n,s,o,"next",l)}function o(l){Sc(a,r,n,s,o,"throw",l)}s(void 0)})}}function Tc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Ug(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Tc(Object(i),!0).forEach(function(r){$g(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Tc(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function $g(t,e,i){return e=Gg(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Gg(t){var e=Yg(t,"string");return typeof e=="symbol"?e:String(e)}function Yg(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wg=Ae().codes.ERR_INVALID_ARG_TYPE;function Vg(t,e,i){var r;if(e&&typeof e.next=="function")r=e;else if(e&&e[Symbol.asyncIterator])r=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])r=e[Symbol.iterator]();else throw new Wg("iterable",["Iterable"],e);var n=new t(Ug({objectMode:!0},i)),a=!1;n._read=function(){a||(a=!0,s())};function s(){return o.apply(this,arguments)}function o(){return o=Bg(function*(){try{var l=yield r.next(),c=l.value,p=l.done;p?n.push(null):n.push(yield c)?s():a=!1}catch(h){n.destroy(h)}}),o.apply(this,arguments)}return n}kc.exports=Vg});var Zn=f((o_,Pc)=>{"use strict";Pc.exports=A;var rt;A.ReadableState=Oc;var s_=require("events").EventEmitter,Cc=function(e,i){return e.listeners(i).length},qt=On(),wi=require("buffer").Buffer,Kg=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Qg(t){return wi.from(t)}function Jg(t){return wi.isBuffer(t)||t instanceof Kg}var $n=require("util"),T;$n&&$n.debuglog?T=$n.debuglog("stream"):T=function(){};var Xg=hc(),Jn=Rn(),Zg=Ln(),ev=Zg.getHighWaterMark,_i=Ae().codes,tv=_i.ERR_INVALID_ARG_TYPE,iv=_i.ERR_STREAM_PUSH_AFTER_EOF,rv=_i.ERR_METHOD_NOT_IMPLEMENTED,nv=_i.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,nt,Gn,Yn;it()(A,qt);var At=Jn.errorOrDestroy,Wn=["error","close","destroy","pause","resume"];function av(t,e,i){if(typeof t.prependListener=="function")return t.prependListener(e,i);!t._events||!t._events[e]?t.on(e,i):Array.isArray(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]}function Oc(t,e,i){rt=rt||$e(),t=t||{},typeof i!="boolean"&&(i=e instanceof rt),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=ev(this,t,"readableHighWaterMark",i),this.buffer=new Xg,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(nt||(nt=Bn().StringDecoder),this.decoder=new nt(t.encoding),this.encoding=t.encoding)}function A(t){if(rt=rt||$e(),!(this instanceof A))return new A(t);var e=this instanceof rt;this._readableState=new Oc(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),qt.call(this)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});A.prototype.destroy=Jn.destroy;A.prototype._undestroy=Jn.undestroy;A.prototype._destroy=function(t,e){e(t)};A.prototype.push=function(t,e){var i=this._readableState,r;return i.objectMode?r=!0:typeof t=="string"&&(e=e||i.defaultEncoding,e!==i.encoding&&(t=wi.from(t,e),e=""),r=!0),jc(this,t,e,!1,r)};A.prototype.unshift=function(t){return jc(this,t,null,!0,!1)};function jc(t,e,i,r,n){T("readableAddChunk",e);var a=t._readableState;if(e===null)a.reading=!1,lv(t,a);else{var s;if(n||(s=sv(a,e)),s)At(t,s);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==wi.prototype&&(e=Qg(e)),r)a.endEmitted?At(t,new nv):Vn(t,a,e,!0);else if(a.ended)At(t,new iv);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!i?(e=a.decoder.write(e),a.objectMode||e.length!==0?Vn(t,a,e,!1):Qn(t,a)):Vn(t,a,e,!1)}else r||(a.reading=!1,Qn(t,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function Vn(t,e,i,r){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",i)):(e.length+=e.objectMode?1:i.length,r?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&Ei(t)),Qn(t,e)}function sv(t,e){var i;return!Jg(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(i=new tv("chunk",["string","Buffer","Uint8Array"],e)),i}A.prototype.isPaused=function(){return this._readableState.flowing===!1};A.prototype.setEncoding=function(t){nt||(nt=Bn().StringDecoder);var e=new nt(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";i!==null;)r+=e.write(i.data),i=i.next;return this._readableState.buffer.clear(),r!==""&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var qc=1073741824;function ov(t){return t>=qc?t=qc:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Mc(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=ov(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}A.prototype.read=function(t){T("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return T("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Kn(this):Ei(this),null;if(t=Mc(t,e),t===0&&e.ended)return e.length===0&&Kn(this),null;var r=e.needReadable;T("need readable",r),(e.length===0||e.length-t<e.highWaterMark)&&(r=!0,T("length less than watermark",r)),e.ended||e.reading?(r=!1,T("reading or ended",r)):r&&(T("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Mc(i,e)));var n;return t>0?n=Ic(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&Kn(this)),n!==null&&this.emit("data",n),n};function lv(t,e){if(T("onEofChunk"),!e.ended){if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,e.sync?Ei(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Rc(t)))}}function Ei(t){var e=t._readableState;T("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(T("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Rc,t))}function Rc(t){var e=t._readableState;T("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Xn(t)}function Qn(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(cv,t,e))}function cv(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var i=e.length;if(T("maybeReadMore read 0"),t.read(0),i===e.length)break}e.readingMore=!1}A.prototype._read=function(t){At(this,new rv("_read()"))};A.prototype.pipe=function(t,e){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t);break}r.pipesCount+=1,T("pipe count=%d opts=%j",r.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,a=n?o:v;r.endEmitted?process.nextTick(a):i.once("end",a),t.on("unpipe",s);function s(x,w){T("onunpipe"),x===i&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,p())}function o(){T("onend"),t.end()}var l=pv(i);t.on("drain",l);var c=!1;function p(){T("cleanup"),t.removeListener("close",d),t.removeListener("finish",m),t.removeListener("drain",l),t.removeListener("error",u),t.removeListener("unpipe",s),i.removeListener("end",o),i.removeListener("end",v),i.removeListener("data",h),c=!0,r.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}i.on("data",h);function h(x){T("ondata");var w=t.write(x);T("dest.write",w),w===!1&&((r.pipesCount===1&&r.pipes===t||r.pipesCount>1&&Nc(r.pipes,t)!==-1)&&!c&&(T("false write response, pause",r.awaitDrain),r.awaitDrain++),i.pause())}function u(x){T("onerror",x),v(),t.removeListener("error",u),Cc(t,"error")===0&&At(t,x)}av(t,"error",u);function d(){t.removeListener("finish",m),v()}t.once("close",d);function m(){T("onfinish"),t.removeListener("close",d),v()}t.once("finish",m);function v(){T("unpipe"),i.unpipe(t)}return t.emit("pipe",i),r.flowing||(T("pipe resume"),i.resume()),t};function pv(t){return function(){var i=t._readableState;T("pipeOnDrain",i.awaitDrain),i.awaitDrain&&i.awaitDrain--,i.awaitDrain===0&&Cc(t,"data")&&(i.flowing=!0,Xn(t))}}A.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Nc(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i),this)};A.prototype.on=function(t,e){var i=qt.prototype.on.call(this,t,e),r=this._readableState;return t==="data"?(r.readableListening=this.listenerCount("readable")>0,r.flowing!==!1&&this.resume()):t==="readable"&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,T("on readable",r.length,r.reading),r.length?Ei(this):r.reading||process.nextTick(uv,this)),i};A.prototype.addListener=A.prototype.on;A.prototype.removeListener=function(t,e){var i=qt.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Lc,this),i};A.prototype.removeAllListeners=function(t){var e=qt.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Lc,this),e};function Lc(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function uv(t){T("readable nexttick read 0"),t.read(0)}A.prototype.resume=function(){var t=this._readableState;return t.flowing||(T("resume"),t.flowing=!t.readableListening,dv(this,t)),t.paused=!1,this};function dv(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(hv,t,e))}function hv(t,e){T("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Xn(t),e.flowing&&!e.reading&&t.read(0)}A.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Xn(t){var e=t._readableState;for(T("flow",e.flowing);e.flowing&&t.read()!==null;);}A.prototype.wrap=function(t){var e=this,i=this._readableState,r=!1;t.on("end",function(){if(T("wrapped end"),i.decoder&&!i.ended){var s=i.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(T("wrapped data"),i.decoder&&(s=i.decoder.write(s)),!(i.objectMode&&s==null)&&!(!i.objectMode&&(!s||!s.length))){var o=e.push(s);o||(r=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(o){return function(){return t[o].apply(t,arguments)}}(n));for(var a=0;a<Wn.length;a++)t.on(Wn[a],this.emit.bind(this,Wn[a]));return this._read=function(s){T("wrapped _read",s),r&&(r=!1,t.resume())},this};typeof Symbol=="function"&&(A.prototype[Symbol.asyncIterator]=function(){return Gn===void 0&&(Gn=Ec()),Gn(this)});Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});A._fromList=Ic;Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Ic(t,e){if(e.length===0)return null;var i;return e.objectMode?i=e.buffer.shift():!t||t>=e.length?(e.decoder?i=e.buffer.join(""):e.buffer.length===1?i=e.buffer.first():i=e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(t,e.decoder),i}function Kn(t){var e=t._readableState;T("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(fv,e,t))}function fv(t,e){if(T("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var i=e._writableState;(!i||i.autoDestroy&&i.finished)&&e.destroy()}}typeof Symbol=="function"&&(A.from=function(t,e){return Yn===void 0&&(Yn=Ac()),Yn(A,t,e)});function Nc(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}});var $e=f((l_,zc)=>{"use strict";var mv=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};zc.exports=ve;var Hc=Zn(),ta=ki();it()(ve,Hc);for(ea=mv(ta.prototype),Si=0;Si<ea.length;Si++)Ti=ea[Si],ve.prototype[Ti]||(ve.prototype[Ti]=ta.prototype[Ti]);var ea,Ti,Si;function ve(t){if(!(this instanceof ve))return new ve(t);Hc.call(this,t),ta.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",gv)))}Object.defineProperty(ve.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(ve.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(ve.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function gv(){this._writableState.ended||process.nextTick(vv,this)}function vv(t){t.end()}Object.defineProperty(ve.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var ki=f((c_,Gc)=>{"use strict";Gc.exports=L;function Fc(t){var e=this;this.next=null,this.entry=null,this.finish=function(){$v(e,t)}}var at;L.WritableState=Ct;var xv={deprecate:Zl()},Bc=On(),qi=require("buffer").Buffer,yv=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function bv(t){return qi.from(t)}function wv(t){return qi.isBuffer(t)||t instanceof yv}var ra=Rn(),_v=Ln(),Ev=_v.getHighWaterMark,Oe=Ae().codes,Sv=Oe.ERR_INVALID_ARG_TYPE,Tv=Oe.ERR_METHOD_NOT_IMPLEMENTED,kv=Oe.ERR_MULTIPLE_CALLBACK,Av=Oe.ERR_STREAM_CANNOT_PIPE,qv=Oe.ERR_STREAM_DESTROYED,Mv=Oe.ERR_STREAM_NULL_VALUES,Cv=Oe.ERR_STREAM_WRITE_AFTER_END,Ov=Oe.ERR_UNKNOWN_ENCODING,st=ra.errorOrDestroy;it()(L,Bc);function jv(){}function Ct(t,e,i){at=at||$e(),t=t||{},typeof i!="boolean"&&(i=e instanceof at),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Ev(this,t,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r=t.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){zv(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Fc(this)}Ct.prototype.getBuffer=function(){for(var e=this.bufferedRequest,i=[];e;)i.push(e),e=e.next;return i};(function(){try{Object.defineProperty(Ct.prototype,"buffer",{get:xv.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ai;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ai=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(e){return Ai.call(this,e)?!0:this!==L?!1:e&&e._writableState instanceof Ct}})):Ai=function(e){return e instanceof this};function L(t){at=at||$e();var e=this instanceof at;if(!e&&!Ai.call(L,this))return new L(t);this._writableState=new Ct(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Bc.call(this)}L.prototype.pipe=function(){st(this,new Av)};function Rv(t,e){var i=new Cv;st(t,i),process.nextTick(e,i)}function Lv(t,e,i,r){var n;return i===null?n=new Mv:typeof i!="string"&&!e.objectMode&&(n=new Sv("chunk",["string","Buffer"],i)),n?(st(t,n),process.nextTick(r,n),!1):!0}L.prototype.write=function(t,e,i){var r=this._writableState,n=!1,a=!r.objectMode&&wv(t);return a&&!qi.isBuffer(t)&&(t=bv(t)),typeof e=="function"&&(i=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),typeof i!="function"&&(i=jv),r.ending?Rv(this,i):(a||Lv(this,r,t,i))&&(r.pendingcb++,n=Nv(this,r,a,t,e,i)),n};L.prototype.cork=function(){this._writableState.corked++};L.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Uc(this,t))};L.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Ov(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Iv(t,e,i){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=qi.from(e,i)),e}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Nv(t,e,i,r,n,a){if(!i){var s=Iv(e,r,n);r!==s&&(i=!0,n="buffer",r=s)}var o=e.objectMode?1:r.length;e.length+=o;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:a,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else ia(t,e,!1,o,r,n,a);return l}function ia(t,e,i,r,n,a,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new qv("write")):i?t._writev(n,e.onwrite):t._write(n,a,e.onwrite),e.sync=!1}function Pv(t,e,i,r,n){--e.pendingcb,i?(process.nextTick(n,r),process.nextTick(Mt,t,e),t._writableState.errorEmitted=!0,st(t,r)):(n(r),t._writableState.errorEmitted=!0,st(t,r),Mt(t,e))}function Hv(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function zv(t,e){var i=t._writableState,r=i.sync,n=i.writecb;if(typeof n!="function")throw new kv;if(Hv(i),e)Pv(t,i,r,e,n);else{var a=$c(i)||t.destroyed;!a&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&Uc(t,i),r?process.nextTick(Dc,t,i,a,n):Dc(t,i,a,n)}}function Dc(t,e,i,r){i||Dv(t,e),e.pendingcb--,r(),Mt(t,e)}function Dv(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Uc(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var r=e.bufferedRequestCount,n=new Array(r),a=e.corkedRequestsFree;a.entry=i;for(var s=0,o=!0;i;)n[s]=i,i.isBuf||(o=!1),i=i.next,s+=1;n.allBuffers=o,ia(t,e,!0,e.length,n,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new Fc(e),e.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,c=i.encoding,p=i.callback,h=e.objectMode?1:l.length;if(ia(t,e,!1,h,l,c,p),i=i.next,e.bufferedRequestCount--,e.writing)break}i===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}L.prototype._write=function(t,e,i){i(new Tv("_write()"))};L.prototype._writev=null;L.prototype.end=function(t,e,i){var r=this._writableState;return typeof t=="function"?(i=t,t=null,e=null):typeof e=="function"&&(i=e,e=null),t!=null&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||Uv(this,r,i),this};Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $c(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Fv(t,e){t._final(function(i){e.pendingcb--,i&&st(t,i),e.prefinished=!0,t.emit("prefinish"),Mt(t,e)})}function Bv(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Fv,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Mt(t,e){var i=$c(e);if(i&&(Bv(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return i}function Uv(t,e,i){e.ending=!0,Mt(t,e),i&&(e.finished?process.nextTick(i):t.once("finish",i)),e.ended=!0,t.writable=!1}function $v(t,e,i){var r=t.entry;for(t.entry=null;r;){var n=r.callback;e.pendingcb--,n(i),r=r.next}e.corkedRequestsFree.next=t}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});L.prototype.destroy=ra.destroy;L.prototype._undestroy=ra.undestroy;L.prototype._destroy=function(t,e){e(t)}});var na=f((p_,Vc)=>{"use strict";var Gv=require("util"),Yc=ki(),{LEVEL:Wc}=P(),Ot=Vc.exports=function(e={}){Yc.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",i=>{this.levels=i.levels,this.parent=i}),this.once("unpipe",i=>{i===this.parent&&(this.parent=null,this.close&&this.close())})};Gv.inherits(Ot,Yc);Ot.prototype._write=function(e,i,r){if(this.silent||e.exception===!0&&!this.handleExceptions)return r(null);let n=this.level||this.parent&&this.parent.level;if(!n||this.levels[n]>=this.levels[e[Wc]]){if(e&&!this.format)return this.log(e,r);let a,s;try{s=this.format.transform(Object.assign({},e),this.format.options)}catch(o){a=o}if(a||!s){if(r(),a)throw a;return}return this.log(s,r)}return this._writableState.sync=!1,r(null)};Ot.prototype._writev=function(e,i){if(this.logv){let r=e.filter(this._accept,this);return r.length?this.logv(r,i):i(null)}for(let r=0;r<e.length;r++){if(!this._accept(e[r]))continue;if(e[r].chunk&&!this.format){this.log(e[r].chunk,e[r].callback);continue}let n,a;try{a=this.format.transform(Object.assign({},e[r].chunk),this.format.options)}catch(s){n=s}if(n||!a){if(e[r].callback(),n)throw i(null),n}else this.log(a,e[r].callback)}return i(null)};Ot.prototype._accept=function(e){let i=e.chunk;if(this.silent)return!1;let r=this.level||this.parent&&this.parent.level;return!!((i.exception===!0||!r||this.levels[r]>=this.levels[i[Wc]])&&(this.handleExceptions||i.exception!==!0))};Ot.prototype._nop=function(){}});var sa=f((u_,Qc)=>{"use strict";var Yv=require("util"),{LEVEL:aa}=P(),Kc=na(),jt=Qc.exports=function(e={}){if(Kc.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function i(r){this.emit("error",r,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=i.bind(this),this.transport.on("error",this.transport.__winstonError))};Yv.inherits(jt,Kc);jt.prototype._write=function(e,i,r){if(this.silent||e.exception===!0&&!this.handleExceptions)return r(null);(!this.level||this.levels[this.level]>=this.levels[e[aa]])&&this.transport.log(e[aa],e.message,e,this._nop),r(null)};jt.prototype._writev=function(e,i){for(let r=0;r<e.length;r++)this._accept(e[r])&&(this.transport.log(e[r].chunk[aa],e[r].chunk.message,e[r].chunk,this._nop),e[r].callback());return i(null)};jt.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};jt.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var ot=f((d_,oa)=>{"use strict";oa.exports=na();oa.exports.LegacyTransportStream=sa()});var Zc=f((f_,Xc)=>{"use strict";var Wv=require("os"),{LEVEL:Jc,MESSAGE:lt}=P(),Vv=ot();Xc.exports=class extends Vv{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=typeof e.eol=="string"?e.eol:Wv.EOL,this.setMaxListeners(30)}log(e,i){if(setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[Jc]]){console._stderr?console._stderr.write(`${e[lt]}${this.eol}`):console.error(e[lt]),i&&i();return}else if(this.consoleWarnLevels[e[Jc]]){console._stderr?console._stderr.write(`${e[lt]}${this.eol}`):console.warn(e[lt]),i&&i();return}console._stdout?console._stdout.write(`${e[lt]}${this.eol}`):console.log(e[lt]),i&&i()}_stringArrayToSet(e,i){if(!e)return{};if(i=i||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(i);return e.reduce((r,n)=>{if(typeof n!="string")throw new Error(i);return r[n]=!0,r},{})}}});var Ci=f((Mi,ep)=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.default=Kv;function Kv(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}ep.exports=Mi.default});var ip=f((Oi,tp)=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.default=function(t){return function(...e){var i=e.pop();return t.call(this,e,i)}};tp.exports=Oi.default});var ap=f(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.fallback=rp;je.wrap=np;var Qv=je.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,Jv=je.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,Xv=je.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function rp(t){setTimeout(t,0)}function np(t){return(e,...i)=>t(()=>e(...i))}var Rt;Qv?Rt=queueMicrotask:Jv?Rt=setImmediate:Xv?Rt=process.nextTick:Rt=rp;je.default=np(Rt)});var pp=f((ji,cp)=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.default=nx;var Zv=ip(),ex=lp(Zv),tx=ap(),ix=lp(tx),rx=Ge();function lp(t){return t&&t.__esModule?t:{default:t}}function nx(t){return(0,rx.isAsync)(t)?function(...e){let i=e.pop(),r=t.apply(this,e);return sp(r,i)}:(0,ex.default)(function(e,i){var r;try{r=t.apply(this,e)}catch(n){return i(n)}if(r&&typeof r.then=="function")return sp(r,i);i(null,r)})}function sp(t,e){return t.then(i=>{op(e,null,i)},i=>{op(e,i&&(i instanceof Error||i.message)?i:new Error(i))})}function op(t,e,i){try{t(e,i)}catch(r){(0,ix.default)(n=>{throw n},r)}}cp.exports=ji.default});var Ge=f(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.isAsyncIterable=_e.isAsyncGenerator=_e.isAsync=void 0;var ax=pp(),sx=ox(ax);function ox(t){return t&&t.__esModule?t:{default:t}}function up(t){return t[Symbol.toStringTag]==="AsyncFunction"}function lx(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function cx(t){return typeof t[Symbol.asyncIterator]=="function"}function px(t){if(typeof t!="function")throw new Error("expected a function");return up(t)?(0,sx.default)(t):t}_e.default=px;_e.isAsync=up;_e.isAsyncGenerator=lx;_e.isAsyncIterable=cx});var ct=f((Ri,dp)=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.default=ux;function ux(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");function i(...r){return typeof r[e-1]=="function"?t.apply(this,r):new Promise((n,a)=>{r[e-1]=(s,...o)=>{if(s)return a(s);n(o.length>1?o:o[0])},t.apply(this,r)})}return i}dp.exports=Ri.default});var fp=f((Li,hp)=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});var dx=Ci(),hx=la(dx),fx=Ge(),mx=la(fx),gx=ct(),vx=la(gx);function la(t){return t&&t.__esModule?t:{default:t}}Li.default=(0,vx.default)((t,e,i)=>{var r=(0,hx.default)(e)?[]:{};t(e,(n,a,s)=>{(0,mx.default)(n)((o,...l)=>{l.length<2&&([l]=l),r[a]=l,s(o)})},n=>i(n,r))},3);hp.exports=Li.default});var ca=f((Ii,mp)=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.default=xx;function xx(t){function e(...i){if(t!==null){var r=t;t=null,r.apply(this,i)}}return Object.assign(e,t),e}mp.exports=Ii.default});var vp=f((Ni,gp)=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()};gp.exports=Ni.default});var bp=f((Pi,yp)=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.default=kx;var yx=Ci(),bx=xp(yx),wx=vp(),_x=xp(wx);function xp(t){return t&&t.__esModule?t:{default:t}}function Ex(t){var e=-1,i=t.length;return function(){return++e<i?{value:t[e],key:e}:null}}function Sx(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}function Tx(t){var e=t?Object.keys(t):[],i=-1,r=e.length;return function n(){var a=e[++i];return a==="__proto__"?n():i<r?{value:t[a],key:a}:null}}function kx(t){if((0,bx.default)(t))return Ex(t);var e=(0,_x.default)(t);return e?Sx(e):Tx(t)}yp.exports=Pi.default});var pa=f((Hi,wp)=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.default=Ax;function Ax(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var i=t;t=null,i.apply(this,e)}}wp.exports=Hi.default});var Di=f((zi,_p)=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});var qx={};zi.default=qx;_p.exports=zi.default});var Sp=f((Fi,Ep)=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.default=jx;var Mx=Di(),Cx=Ox(Mx);function Ox(t){return t&&t.__esModule?t:{default:t}}function jx(t,e,i,r){let n=!1,a=!1,s=!1,o=0,l=0;function c(){o>=e||s||n||(s=!0,t.next().then(({value:u,done:d})=>{if(!(a||n)){if(s=!1,d){n=!0,o<=0&&r(null);return}o++,i(u,l,p),l++,c()}}).catch(h))}function p(u,d){if(o-=1,!a){if(u)return h(u);if(u===!1){n=!0,a=!0;return}if(d===Cx.default||n&&o<=0)return n=!0,r(null);c()}}function h(u){a||(s=!1,n=!0,r(u))}c()}Ep.exports=Fi.default});var qp=f((Bi,Ap)=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});var Rx=ca(),Lx=Lt(Rx),Ix=bp(),Nx=Lt(Ix),Px=pa(),Hx=Lt(Px),Tp=Ge(),zx=Sp(),kp=Lt(zx),Dx=Di(),Fx=Lt(Dx);function Lt(t){return t&&t.__esModule?t:{default:t}}Bi.default=t=>(e,i,r)=>{if(r=(0,Lx.default)(r),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return r(null);if((0,Tp.isAsyncGenerator)(e))return(0,kp.default)(e,t,i,r);if((0,Tp.isAsyncIterable)(e))return(0,kp.default)(e[Symbol.asyncIterator](),t,i,r);var n=(0,Nx.default)(e),a=!1,s=!1,o=0,l=!1;function c(h,u){if(!s)if(o-=1,h)a=!0,r(h);else if(h===!1)a=!0,s=!0;else{if(u===Fx.default||a&&o<=0)return a=!0,r(null);l||p()}}function p(){for(l=!0;o<t&&!a;){var h=n();if(h===null){a=!0,o<=0&&r(null);return}o+=1,i(h.value,h.key,(0,Hx.default)(c))}l=!1}p()};Ap.exports=Bi.default});var da=f((Ui,Mp)=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});var Bx=qp(),Ux=ua(Bx),$x=Ge(),Gx=ua($x),Yx=ct(),Wx=ua(Yx);function ua(t){return t&&t.__esModule?t:{default:t}}function Vx(t,e,i,r){return(0,Ux.default)(e)(t,(0,Gx.default)(i),r)}Ui.default=(0,Wx.default)(Vx,4);Mp.exports=Ui.default});var jp=f(($i,Op)=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var Kx=da(),Qx=Cp(Kx),Jx=ct(),Xx=Cp(Jx);function Cp(t){return t&&t.__esModule?t:{default:t}}function Zx(t,e,i){return(0,Qx.default)(t,1,e,i)}$i.default=(0,Xx.default)(Zx,3);Op.exports=$i.default});var Ip=f((Gi,Lp)=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.default=n0;var e0=fp(),t0=Rp(e0),i0=jp(),r0=Rp(i0);function Rp(t){return t&&t.__esModule?t:{default:t}}function n0(t,e){return(0,t0.default)(r0.default,t,e)}Lp.exports=Gi.default});var ha=f((v_,Pp)=>{"use strict";Pp.exports=Ee;var Yi=Ae().codes,a0=Yi.ERR_METHOD_NOT_IMPLEMENTED,s0=Yi.ERR_MULTIPLE_CALLBACK,o0=Yi.ERR_TRANSFORM_ALREADY_TRANSFORMING,l0=Yi.ERR_TRANSFORM_WITH_LENGTH_0,Wi=$e();it()(Ee,Wi);function c0(t,e){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(r===null)return this.emit("error",new s0);i.writechunk=null,i.writecb=null,e!=null&&this.push(e),r(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Ee(t){if(!(this instanceof Ee))return new Ee(t);Wi.call(this,t),this._transformState={afterTransform:c0.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",p0)}function p0(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,i){Np(t,e,i)}):Np(this,null,null)}Ee.prototype.push=function(t,e){return this._transformState.needTransform=!1,Wi.prototype.push.call(this,t,e)};Ee.prototype._transform=function(t,e,i){i(new a0("_transform()"))};Ee.prototype._write=function(t,e,i){var r=this._transformState;if(r.writecb=i,r.writechunk=t,r.writeencoding=e,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Ee.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ee.prototype._destroy=function(t,e){Wi.prototype._destroy.call(this,t,function(i){e(i)})};function Np(t,e,i){if(e)return t.emit("error",e);if(i!=null&&t.push(i),t._writableState.length)throw new l0;if(t._transformState.transforming)throw new o0;return t.push(null)}});var Dp=f((x_,zp)=>{"use strict";zp.exports=It;var Hp=ha();it()(It,Hp);function It(t){if(!(this instanceof It))return new It(t);Hp.call(this,t)}It.prototype._transform=function(t,e,i){i(null,t)}});var Gp=f((y_,$p)=>{"use strict";var fa;function u0(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Up=Ae().codes,d0=Up.ERR_MISSING_ARGS,h0=Up.ERR_STREAM_DESTROYED;function Fp(t){if(t)throw t}function f0(t){return t.setHeader&&typeof t.abort=="function"}function m0(t,e,i,r){r=u0(r);var n=!1;t.on("close",function(){n=!0}),fa===void 0&&(fa=xi()),fa(t,{readable:e,writable:i},function(s){if(s)return r(s);n=!0,r()});var a=!1;return function(s){if(!n&&!a){if(a=!0,f0(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();r(s||new h0("pipe"))}}}function Bp(t){t()}function g0(t,e){return t.pipe(e)}function v0(t){return!t.length||typeof t[t.length-1]!="function"?Fp:t.pop()}function x0(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=v0(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new d0("streams");var n,a=e.map(function(s,o){var l=o<e.length-1,c=o>0;return m0(s,l,c,function(p){n||(n=p),p&&a.forEach(Bp),!l&&(a.forEach(Bp),r(n))})});return e.reduce(g0)}$p.exports=x0});var Ye=f((ae,Pt)=>{var Nt=require("stream");process.env.READABLE_STREAM==="disable"&&Nt?(Pt.exports=Nt.Readable,Object.assign(Pt.exports,Nt),Pt.exports.Stream=Nt):(ae=Pt.exports=Zn(),ae.Stream=Nt||ae,ae.Readable=ae,ae.Writable=ki(),ae.Duplex=$e(),ae.Transform=ha(),ae.PassThrough=Dp(),ae.finished=xi(),ae.pipeline=Gp())});var wa=f((b_,Wp)=>{var pt=[],Ht=[],ma=function(){};function va(t){return~pt.indexOf(t)?!1:(pt.push(t),!0)}function xa(t){ma=t}function y0(t){for(var e=[],i=0;i<pt.length;i++){if(pt[i].async){e.push(pt[i]);continue}if(pt[i](t))return!0}return e.length?new Promise(function(n){Promise.all(e.map(function(s){return s(t)})).then(function(s){n(s.some(Boolean))})}):!1}function ya(t){return~Ht.indexOf(t)?!1:(Ht.push(t),!0)}function ga(){ma.apply(ma,arguments)}function Yp(t){for(var e=0;e<Ht.length;e++)t=Ht[e].apply(Ht[e],arguments);return t}function ba(t,e){var i=Object.prototype.hasOwnProperty;for(var r in e)i.call(e,r)&&(t[r]=e[r]);return t}function b0(t){return t.enabled=!1,t.modify=ya,t.set=xa,t.use=va,ba(function(){return!1},t)}function w0(t){function e(){var i=Array.prototype.slice.call(arguments,0);return ga.call(ga,t,Yp(i,t)),!0}return t.enabled=!0,t.modify=ya,t.set=xa,t.use=va,ba(e,t)}Wp.exports=function(e){return e.introduce=ba,e.enabled=y0,e.process=Yp,e.modify=ya,e.write=ga,e.nope=b0,e.yep=w0,e.set=xa,e.use=va,e}});var Kp=f((w_,Vp)=>{var _0=wa(),E0=_0(function t(e,i){return i=i||{},i.namespace=e,i.prod=!0,i.dev=!1,i.force||t.force?t.yep(i):t.nope(i)});Vp.exports=E0});var Jp=f((__,Qp)=>{"use strict";Qp.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Zp=f((E_,Xp)=>{Xp.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var iu=f((S_,tu)=>{"use strict";var S0=Zp(),T0=Array.prototype.concat,k0=Array.prototype.slice,eu=tu.exports=function(e){for(var i=[],r=0,n=e.length;r<n;r++){var a=e[r];S0(a)?i=T0.call(i,k0.call(a)):i.push(a)}return i};eu.wrap=function(t){return function(){return t(eu(arguments))}}});var su=f((T_,au)=>{var zt=Jp(),Dt=iu(),ru=Object.hasOwnProperty,nu=Object.create(null);for(Vi in zt)ru.call(zt,Vi)&&(nu[zt[Vi]]=Vi);var Vi,ie=au.exports={to:{},get:{}};ie.get=function(t){var e=t.substring(0,3).toLowerCase(),i,r;switch(e){case"hsl":i=ie.get.hsl(t),r="hsl";break;case"hwb":i=ie.get.hwb(t),r="hwb";break;default:i=ie.get.rgb(t),r="rgb";break}return i?{model:r,value:i}:null};ie.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,i=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,s=[0,0,0,1],o,l,c;if(o=t.match(i)){for(c=o[2],o=o[1],l=0;l<3;l++){var p=l*2;s[l]=parseInt(o.slice(p,p+2),16)}c&&(s[3]=parseInt(c,16)/255)}else if(o=t.match(e)){for(o=o[1],c=o[3],l=0;l<3;l++)s[l]=parseInt(o[l]+o[l],16);c&&(s[3]=parseInt(c+c,16)/255)}else if(o=t.match(r)){for(l=0;l<3;l++)s[l]=parseInt(o[l+1],0);o[4]&&(o[5]?s[3]=parseFloat(o[4])*.01:s[3]=parseFloat(o[4]))}else if(o=t.match(n)){for(l=0;l<3;l++)s[l]=Math.round(parseFloat(o[l+1])*2.55);o[4]&&(o[5]?s[3]=parseFloat(o[4])*.01:s[3]=parseFloat(o[4]))}else return(o=t.match(a))?o[1]==="transparent"?[0,0,0,0]:ru.call(zt,o[1])?(s=zt[o[1]],s[3]=1,s):null:null;for(l=0;l<3;l++)s[l]=Re(s[l],0,255);return s[3]=Re(s[3],0,1),s};ie.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,i=t.match(e);if(i){var r=parseFloat(i[4]),n=(parseFloat(i[1])%360+360)%360,a=Re(parseFloat(i[2]),0,100),s=Re(parseFloat(i[3]),0,100),o=Re(isNaN(r)?1:r,0,1);return[n,a,s,o]}return null};ie.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,i=t.match(e);if(i){var r=parseFloat(i[4]),n=(parseFloat(i[1])%360+360)%360,a=Re(parseFloat(i[2]),0,100),s=Re(parseFloat(i[3]),0,100),o=Re(isNaN(r)?1:r,0,1);return[n,a,s,o]}return null};ie.to.hex=function(){var t=Dt(arguments);return"#"+Ki(t[0])+Ki(t[1])+Ki(t[2])+(t[3]<1?Ki(Math.round(t[3]*255)):"")};ie.to.rgb=function(){var t=Dt(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};ie.to.rgb.percent=function(){var t=Dt(arguments),e=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+i+"%, "+r+"%)":"rgba("+e+"%, "+i+"%, "+r+"%, "+t[3]+")"};ie.to.hsl=function(){var t=Dt(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};ie.to.hwb=function(){var t=Dt(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};ie.to.keyword=function(t){return nu[t.slice(0,3)]};function Re(t,e,i){return Math.min(Math.max(e,t),i)}function Ki(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var lu=f((k_,ou)=>{"use strict";ou.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var _a=f((A_,du)=>{var We=lu(),uu={};for(Qi in We)We.hasOwnProperty(Qi)&&(uu[We[Qi]]=Qi);var Qi,b=du.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(V in b)if(b.hasOwnProperty(V)){if(!("channels"in b[V]))throw new Error("missing channels property: "+V);if(!("labels"in b[V]))throw new Error("missing channel labels property: "+V);if(b[V].labels.length!==b[V].channels)throw new Error("channel and label counts mismatch: "+V);cu=b[V].channels,pu=b[V].labels,delete b[V].channels,delete b[V].labels,Object.defineProperty(b[V],"channels",{value:cu}),Object.defineProperty(b[V],"labels",{value:pu})}var cu,pu,V;b.rgb.hsl=function(t){var e=t[0]/255,i=t[1]/255,r=t[2]/255,n=Math.min(e,i,r),a=Math.max(e,i,r),s=a-n,o,l,c;return a===n?o=0:e===a?o=(i-r)/s:i===a?o=2+(r-e)/s:r===a&&(o=4+(e-i)/s),o=Math.min(o*60,360),o<0&&(o+=360),c=(n+a)/2,a===n?l=0:c<=.5?l=s/(a+n):l=s/(2-a-n),[o,l*100,c*100]};b.rgb.hsv=function(t){var e,i,r,n,a,s=t[0]/255,o=t[1]/255,l=t[2]/255,c=Math.max(s,o,l),p=c-Math.min(s,o,l),h=function(u){return(c-u)/6/p+1/2};return p===0?n=a=0:(a=p/c,e=h(s),i=h(o),r=h(l),s===c?n=r-i:o===c?n=1/3+e-r:l===c&&(n=2/3+i-e),n<0?n+=1:n>1&&(n-=1)),[n*360,a*100,c*100]};b.rgb.hwb=function(t){var e=t[0],i=t[1],r=t[2],n=b.rgb.hsl(t)[0],a=1/255*Math.min(e,Math.min(i,r));return r=1-1/255*Math.max(e,Math.max(i,r)),[n,a*100,r*100]};b.rgb.cmyk=function(t){var e=t[0]/255,i=t[1]/255,r=t[2]/255,n,a,s,o;return o=Math.min(1-e,1-i,1-r),n=(1-e-o)/(1-o)||0,a=(1-i-o)/(1-o)||0,s=(1-r-o)/(1-o)||0,[n*100,a*100,s*100,o*100]};function A0(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}b.rgb.keyword=function(t){var e=uu[t];if(e)return e;var i=1/0,r;for(var n in We)if(We.hasOwnProperty(n)){var a=We[n],s=A0(t,a);s<i&&(i=s,r=n)}return r};b.keyword.rgb=function(t){return We[t]};b.rgb.xyz=function(t){var e=t[0]/255,i=t[1]/255,r=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var n=e*.4124+i*.3576+r*.1805,a=e*.2126+i*.7152+r*.0722,s=e*.0193+i*.1192+r*.9505;return[n*100,a*100,s*100]};b.rgb.lab=function(t){var e=b.rgb.xyz(t),i=e[0],r=e[1],n=e[2],a,s,o;return i/=95.047,r/=100,n/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,a=116*r-16,s=500*(i-r),o=200*(r-n),[a,s,o]};b.hsl.rgb=function(t){var e=t[0]/360,i=t[1]/100,r=t[2]/100,n,a,s,o,l;if(i===0)return l=r*255,[l,l,l];r<.5?a=r*(1+i):a=r+i-r*i,n=2*r-a,o=[0,0,0];for(var c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?l=n+(a-n)*6*s:2*s<1?l=a:3*s<2?l=n+(a-n)*(2/3-s)*6:l=n,o[c]=l*255;return o};b.hsl.hsv=function(t){var e=t[0],i=t[1]/100,r=t[2]/100,n=i,a=Math.max(r,.01),s,o;return r*=2,i*=r<=1?r:2-r,n*=a<=1?a:2-a,o=(r+i)/2,s=r===0?2*n/(a+n):2*i/(r+i),[e,s*100,o*100]};b.hsv.rgb=function(t){var e=t[0]/60,i=t[1]/100,r=t[2]/100,n=Math.floor(e)%6,a=e-Math.floor(e),s=255*r*(1-i),o=255*r*(1-i*a),l=255*r*(1-i*(1-a));switch(r*=255,n){case 0:return[r,l,s];case 1:return[o,r,s];case 2:return[s,r,l];case 3:return[s,o,r];case 4:return[l,s,r];case 5:return[r,s,o]}};b.hsv.hsl=function(t){var e=t[0],i=t[1]/100,r=t[2]/100,n=Math.max(r,.01),a,s,o;return o=(2-i)*r,a=(2-i)*n,s=i*n,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};b.hwb.rgb=function(t){var e=t[0]/360,i=t[1]/100,r=t[2]/100,n=i+r,a,s,o,l;n>1&&(i/=n,r/=n),a=Math.floor(6*e),s=1-r,o=6*e-a,a&1&&(o=1-o),l=i+o*(s-i);var c,p,h;switch(a){default:case 6:case 0:c=s,p=l,h=i;break;case 1:c=l,p=s,h=i;break;case 2:c=i,p=s,h=l;break;case 3:c=i,p=l,h=s;break;case 4:c=l,p=i,h=s;break;case 5:c=s,p=i,h=l;break}return[c*255,p*255,h*255]};b.cmyk.rgb=function(t){var e=t[0]/100,i=t[1]/100,r=t[2]/100,n=t[3]/100,a,s,o;return a=1-Math.min(1,e*(1-n)+n),s=1-Math.min(1,i*(1-n)+n),o=1-Math.min(1,r*(1-n)+n),[a*255,s*255,o*255]};b.xyz.rgb=function(t){var e=t[0]/100,i=t[1]/100,r=t[2]/100,n,a,s;return n=e*3.2406+i*-1.5372+r*-.4986,a=e*-.9689+i*1.8758+r*.0415,s=e*.0557+i*-.204+r*1.057,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,n=Math.min(Math.max(0,n),1),a=Math.min(Math.max(0,a),1),s=Math.min(Math.max(0,s),1),[n*255,a*255,s*255]};b.xyz.lab=function(t){var e=t[0],i=t[1],r=t[2],n,a,s;return e/=95.047,i/=100,r/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=116*i-16,a=500*(e-i),s=200*(i-r),[n,a,s]};b.lab.xyz=function(t){var e=t[0],i=t[1],r=t[2],n,a,s;a=(e+16)/116,n=i/500+a,s=a-r/200;var o=Math.pow(a,3),l=Math.pow(n,3),c=Math.pow(s,3);return a=o>.008856?o:(a-16/116)/7.787,n=l>.008856?l:(n-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,n*=95.047,a*=100,s*=108.883,[n,a,s]};b.lab.lch=function(t){var e=t[0],i=t[1],r=t[2],n,a,s;return n=Math.atan2(r,i),a=n*360/2/Math.PI,a<0&&(a+=360),s=Math.sqrt(i*i+r*r),[e,s,a]};b.lch.lab=function(t){var e=t[0],i=t[1],r=t[2],n,a,s;return s=r/360*2*Math.PI,n=i*Math.cos(s),a=i*Math.sin(s),[e,n,a]};b.rgb.ansi16=function(t){var e=t[0],i=t[1],r=t[2],n=1 in arguments?arguments[1]:b.rgb.hsv(t)[2];if(n=Math.round(n/50),n===0)return 30;var a=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return n===2&&(a+=60),a};b.hsv.ansi16=function(t){return b.rgb.ansi16(b.hsv.rgb(t),t[2])};b.rgb.ansi256=function(t){var e=t[0],i=t[1],r=t[2];if(e===i&&i===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var n=16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(r/255*5);return n};b.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var i=(~~(t>50)+1)*.5,r=(e&1)*i*255,n=(e>>1&1)*i*255,a=(e>>2&1)*i*255;return[r,n,a]};b.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var i,r=Math.floor(t/36)/5*255,n=Math.floor((i=t%36)/6)/5*255,a=i%6/5*255;return[r,n,a]};b.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),i=e.toString(16).toUpperCase();return"000000".substring(i.length)+i};b.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var i=e[0];e[0].length===3&&(i=i.split("").map(function(o){return o+o}).join(""));var r=parseInt(i,16),n=r>>16&255,a=r>>8&255,s=r&255;return[n,a,s]};b.rgb.hcg=function(t){var e=t[0]/255,i=t[1]/255,r=t[2]/255,n=Math.max(Math.max(e,i),r),a=Math.min(Math.min(e,i),r),s=n-a,o,l;return s<1?o=a/(1-s):o=0,s<=0?l=0:n===e?l=(i-r)/s%6:n===i?l=2+(r-e)/s:l=4+(e-i)/s+4,l/=6,l%=1,[l*360,s*100,o*100]};b.hsl.hcg=function(t){var e=t[1]/100,i=t[2]/100,r=1,n=0;return i<.5?r=2*e*i:r=2*e*(1-i),r<1&&(n=(i-.5*r)/(1-r)),[t[0],r*100,n*100]};b.hsv.hcg=function(t){var e=t[1]/100,i=t[2]/100,r=e*i,n=0;return r<1&&(n=(i-r)/(1-r)),[t[0],r*100,n*100]};b.hcg.rgb=function(t){var e=t[0]/360,i=t[1]/100,r=t[2]/100;if(i===0)return[r*255,r*255,r*255];var n=[0,0,0],a=e%1*6,s=a%1,o=1-s,l=0;switch(Math.floor(a)){case 0:n[0]=1,n[1]=s,n[2]=0;break;case 1:n[0]=o,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=s;break;case 3:n[0]=0,n[1]=o,n[2]=1;break;case 4:n[0]=s,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=o}return l=(1-i)*r,[(i*n[0]+l)*255,(i*n[1]+l)*255,(i*n[2]+l)*255]};b.hcg.hsv=function(t){var e=t[1]/100,i=t[2]/100,r=e+i*(1-e),n=0;return r>0&&(n=e/r),[t[0],n*100,r*100]};b.hcg.hsl=function(t){var e=t[1]/100,i=t[2]/100,r=i*(1-e)+.5*e,n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],n*100,r*100]};b.hcg.hwb=function(t){var e=t[1]/100,i=t[2]/100,r=e+i*(1-e);return[t[0],(r-e)*100,(1-r)*100]};b.hwb.hcg=function(t){var e=t[1]/100,i=t[2]/100,r=1-i,n=r-e,a=0;return n<1&&(a=(r-n)/(1-n)),[t[0],n*100,a*100]};b.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};b.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};b.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};b.gray.hsl=b.gray.hsv=function(t){return[0,0,t[0]]};b.gray.hwb=function(t){return[0,100,t[0]]};b.gray.cmyk=function(t){return[0,0,0,t[0]]};b.gray.lab=function(t){return[t[0],0,0]};b.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,i=(e<<16)+(e<<8)+e,r=i.toString(16).toUpperCase();return"000000".substring(r.length)+r};b.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var fu=f((q_,hu)=>{var Ji=_a();function q0(){for(var t={},e=Object.keys(Ji),i=e.length,r=0;r<i;r++)t[e[r]]={distance:-1,parent:null};return t}function M0(t){var e=q0(),i=[t];for(e[t].distance=0;i.length;)for(var r=i.pop(),n=Object.keys(Ji[r]),a=n.length,s=0;s<a;s++){var o=n[s],l=e[o];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,i.unshift(o))}return e}function C0(t,e){return function(i){return e(t(i))}}function O0(t,e){for(var i=[e[t].parent,t],r=Ji[e[t].parent][t],n=e[t].parent;e[n].parent;)i.unshift(e[n].parent),r=C0(Ji[e[n].parent][n],r),n=e[n].parent;return r.conversion=i,r}hu.exports=function(t){for(var e=M0(t),i={},r=Object.keys(e),n=r.length,a=0;a<n;a++){var s=r[a],o=e[s];o.parent!==null&&(i[s]=O0(s,e))}return i}});var gu=f((M_,mu)=>{var Ea=_a(),j0=fu(),ut={},R0=Object.keys(Ea);function L0(t){var e=function(i){return i==null?i:(arguments.length>1&&(i=Array.prototype.slice.call(arguments)),t(i))};return"conversion"in t&&(e.conversion=t.conversion),e}function I0(t){var e=function(i){if(i==null)return i;arguments.length>1&&(i=Array.prototype.slice.call(arguments));var r=t(i);if(typeof r=="object")for(var n=r.length,a=0;a<n;a++)r[a]=Math.round(r[a]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}R0.forEach(function(t){ut[t]={},Object.defineProperty(ut[t],"channels",{value:Ea[t].channels}),Object.defineProperty(ut[t],"labels",{value:Ea[t].labels});var e=j0(t),i=Object.keys(e);i.forEach(function(r){var n=e[r];ut[t][r]=I0(n),ut[t][r].raw=L0(n)})});mu.exports=ut});var yu=f((C_,xu)=>{"use strict";var Ft=su(),re=gu(),ka=[].slice,vu=["keyword","gray","hex"],Sa={};Object.keys(re).forEach(function(t){Sa[ka.call(re[t].labels).sort().join("")]=t});var Xi={};function $(t,e){if(!(this instanceof $))return new $(t,e);if(e&&e in vu&&(e=null),e&&!(e in re))throw new Error("Unknown model: "+e);var i,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof $)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){var n=Ft.get(t);if(n===null)throw new Error("Unable to parse color from string: "+t);this.model=n.model,r=re[this.model].channels,this.color=n.value.slice(0,r),this.valpha=typeof n.value[r]=="number"?n.value[r]:1}else if(t.length){this.model=e||"rgb",r=re[this.model].channels;var a=ka.call(t,0,r);this.color=Ta(a,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;var s=Object.keys(t);"alpha"in t&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);var o=s.sort().join("");if(!(o in Sa))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Sa[o];var l=re[this.model].labels,c=[];for(i=0;i<l.length;i++)c.push(t[l[i]]);this.color=Ta(c)}if(Xi[this.model])for(r=re[this.model].channels,i=0;i<r;i++){var p=Xi[this.model][i];p&&(this.color[i]=p(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}$.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in Ft.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);var i=e.valpha===1?e.color:e.color.concat(this.valpha);return Ft.to[e.model](i)},percentString:function(t){var e=this.rgb().round(typeof t=="number"?t:1),i=e.valpha===1?e.color:e.color.concat(this.valpha);return Ft.to.rgb.percent(i)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=re[this.model].channels,i=re[this.model].labels,r=0;r<e;r++)t[i[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new $(this.color.map(P0(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new $(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:I("rgb",0,z(255)),green:I("rgb",1,z(255)),blue:I("rgb",2,z(255)),hue:I(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:I("hsl",1,z(100)),lightness:I("hsl",2,z(100)),saturationv:I("hsv",1,z(100)),value:I("hsv",2,z(100)),chroma:I("hcg",1,z(100)),gray:I("hcg",2,z(100)),white:I("hwb",1,z(100)),wblack:I("hwb",2,z(100)),cyan:I("cmyk",0,z(100)),magenta:I("cmyk",1,z(100)),yellow:I("cmyk",2,z(100)),black:I("cmyk",3,z(100)),x:I("xyz",0,z(100)),y:I("xyz",1,z(100)),z:I("xyz",2,z(100)),l:I("lab",0,z(100)),a:I("lab",1),b:I("lab",2),keyword:function(t){return arguments.length?new $(t):re[this.model].keyword(this.color)},hex:function(t){return arguments.length?new $(t):Ft.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity:function(){for(var t=this.rgb().color,e=[],i=0;i<t.length;i++){var r=t[i]/255;e[i]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color,e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return $.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),i=e.color[0];return i=(i+t)%360,i=i<0?360+i:i,e.color[0]=i,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var i=t.rgb(),r=this.rgb(),n=e===void 0?.5:e,a=2*n-1,s=i.alpha()-r.alpha(),o=((a*s===-1?a:(a+s)/(1+a*s))+1)/2,l=1-o;return $.rgb(o*i.red()+l*r.red(),o*i.green()+l*r.green(),o*i.blue()+l*r.blue(),i.alpha()*n+r.alpha()*(1-n))}};Object.keys(re).forEach(function(t){if(vu.indexOf(t)===-1){var e=re[t].channels;$.prototype[t]=function(){if(this.model===t)return new $(this);if(arguments.length)return new $(arguments,t);var i=typeof arguments[e]=="number"?e:this.valpha;return new $(H0(re[this.model][t].raw(this.color)).concat(i),t)},$[t]=function(i){return typeof i=="number"&&(i=Ta(ka.call(arguments),e)),new $(i,t)}}});function N0(t,e){return Number(t.toFixed(e))}function P0(t){return function(e){return N0(e,t)}}function I(t,e,i){return t=Array.isArray(t)?t:[t],t.forEach(function(r){(Xi[r]||(Xi[r]=[]))[e]=i}),t=t[0],function(r){var n;return arguments.length?(i&&(r=i(r)),n=this[t](),n.color[e]=r,n):(n=this[t]().color[e],i&&(n=i(n)),n)}}function z(t){return function(e){return Math.max(0,Math.min(t,e))}}function H0(t){return Array.isArray(t)?t:[t]}function Ta(t,e){for(var i=0;i<e;i++)typeof t[i]!="number"&&(t[i]=0);return t}xu.exports=$});var wu=f((O_,bu)=>{"use strict";bu.exports=function(e){for(var i=0,r=0;i<e.length;r=e.charCodeAt(i++)+((r<<5)-r));var n=Math.floor(Math.abs(Math.sin(r)*1e4%1*16777216)).toString(16);return"#"+Array(6-n.length+1).join("0")+n}});var Tu=f((j_,Su)=>{"use strict";var _u=yu(),Eu=wu();Su.exports=function(e,i){var r=e.split(i||":"),n=Eu(r[0]);if(!r.length)return n;for(var a=0,s=r.length-1;a<s;a++)n=_u(n).mix(_u(Eu(r[a+1]))).saturate(1).hex();return n}});var Au=f((R_,ku)=>{"use strict";function pe(t,e){if(e)return new pe(t).style(e);if(!(this instanceof pe))return new pe(t);this.text=t}pe.prototype.prefix="\x1B[";pe.prototype.suffix="m";pe.prototype.hex=function(e){e=e[0]==="#"?e.substring(1):e,e.length===3&&(e=e.split(""),e[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var i=e.substring(0,2),r=e.substring(2,4),n=e.substring(4,6);return[parseInt(i,16),parseInt(r,16),parseInt(n,16)]};pe.prototype.rgb=function(e,i,r){var n=e/255*5,a=i/255*5,s=r/255*5;return this.ansi(n,a,s)};pe.prototype.ansi=function(e,i,r){var n=Math.round(e),a=Math.round(i),s=Math.round(r);return 16+n*36+a*6+s};pe.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};pe.prototype.style=function(e){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()};ku.exports=pe});var Mu=f((L_,qu)=>{var z0=Tu(),D0=Au();qu.exports=function(e,i){var r=i.namespace,n=i.colors!==!1?D0(r+":",z0(r)):r+":";return e[0]=n+" "+e[0],e}});var Ou=f((I_,Cu)=>{"use strict";Cu.exports=function(e,i){if(!i)return!1;for(var r=i.split(/[\s,]+/),n=0;n<r.length;n++){if(i=r[n].replace("*",".*?"),i.charAt(0)==="-"){if(new RegExp("^"+i.substr(1)+"$").test(e))return!1;continue}if(new RegExp("^"+i+"$").test(e))return!0}return!1}});var Ru=f((N_,ju)=>{var F0=Ou();ju.exports=function(e){return function(r){try{return F0(r,e())}catch{}return!1}}});var Iu=f((P_,Lu)=>{var B0=Ru();Lu.exports=B0(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var Pu=f((H_,Nu)=>{Nu.exports=function(t,e){try{Function.prototype.apply.call(console.log,console,e)}catch{}}});var zu=f((z_,Hu)=>{var U0=wa(),$0=require("tty").isatty(1),Zi=U0(function t(e,i){return i=i||{},i.colors="colors"in i?i.colors:$0,i.namespace=e,i.prod=!1,i.dev=!0,!t.enabled(e)&&!(i.force||t.force)?t.nope(i):t.yep(i)});Zi.modify(Mu());Zi.use(Iu());Zi.set(Pu());Hu.exports=Zi});var Bt=f((D_,Aa)=>{process.env.NODE_ENV==="production"?Aa.exports=Kp():Aa.exports=zu()});var Fu=f((F_,Du)=>{"use strict";var qa=require("fs"),{StringDecoder:G0}=require("string_decoder"),{Stream:Y0}=Ye();function W0(){}Du.exports=(t,e)=>{let i=Buffer.alloc(65536),r=new G0("utf8"),n=new Y0,a="",s=0,o=0;return t.start===-1&&delete t.start,n.readable=!0,n.destroy=()=>{n.destroyed=!0,n.emit("end"),n.emit("close")},qa.open(t.file,"a+","0644",(l,c)=>{if(l){e?e(l):n.emit("error",l),n.destroy();return}(function p(){if(n.destroyed){qa.close(c,W0);return}return qa.read(c,i,0,i.length,s,(h,u)=>{if(h){e?e(h):n.emit("error",h),n.destroy();return}if(!u)return a&&((t.start==null||o>t.start)&&(e?e(null,a):n.emit("line",a)),o++,a=""),setTimeout(p,1e3);let d=r.write(i.slice(0,u));e||n.emit("data",d),d=(a+d).split(/\n+/);let m=d.length-1,v=0;for(;v<m;v++)(t.start==null||o>t.start)&&(e?e(null,d[v]):n.emit("line",d[v])),o++;return a=d[m],s+=u,p()})})()}),e?n.destroy:n}});var Gu=f((U_,$u)=>{"use strict";var X=require("fs"),F=require("path"),Bu=Ip(),V0=require("zlib"),{MESSAGE:K0}=P(),{Stream:Q0,PassThrough:Uu}=Ye(),J0=ot(),ue=Bt()("winston:file"),X0=require("os"),Z0=Fu();$u.exports=class extends J0{constructor(e={}){super(e),this.name=e.name||"file";function i(r,...n){n.slice(1).forEach(a=>{if(e[a])throw new Error(`Cannot set ${a} and ${r} together`)})}if(this._stream=new Uu,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)i("filename or dirname","stream"),this._basename=this.filename=e.filename?F.basename(e.filename):"winston.log",this.dirname=e.dirname||F.dirname(e.filename),this.options=e.options||{flags:"a"};else if(e.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),i("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=F.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=typeof e.eol=="string"?e.eol:X0.EOL,this.tailable=e.tailable||!1,this.lazy=e.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,i=()=>{}){if(this.silent)return i(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(e,i)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,i)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(e,i)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(e,i)})});return}}let r=`${e[K0]}${this.eol}`,n=Buffer.byteLength(r);function a(){if(this._size+=n,this._pendingSize-=n,ue("logged %s %s",this._size,r),this.emit("logged",e),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=n,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let s=this._stream.write(r,a.bind(this));return s?i():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,i()})),ue("written",s,this._drain),this.finishIfEnding(),s}query(e,i){typeof e=="function"&&(i=e,e={}),e=h(e);let r=F.join(this.dirname,this.filename),n="",a=[],s=0,o=X.createReadStream(r,{encoding:"utf8"});o.on("error",u=>{if(o.readable&&o.destroy(),!!i)return u.code!=="ENOENT"?i(u):i(null,a)}),o.on("data",u=>{u=(n+u).split(/\n+/);let d=u.length-1,m=0;for(;m<d;m++)(!e.start||s>=e.start)&&l(u[m]),s++;n=u[d]}),o.on("close",()=>{n&&l(n,!0),e.order==="desc"&&(a=a.reverse()),i&&i(null,a)});function l(u,d){try{let m=JSON.parse(u);p(m)&&c(m)}catch(m){d||o.emit("error",m)}}function c(u){if(e.rows&&a.length>=e.rows&&e.order!=="desc"){o.readable&&o.destroy();return}e.fields&&(u=e.fields.reduce((d,m)=>(d[m]=u[m],d),{})),e.order==="desc"&&a.length>=e.rows&&a.shift(),a.push(u)}function p(u){if(!u||typeof u!="object")return;let d=new Date(u.timestamp);if(!(e.from&&d<e.from||e.until&&d>e.until||e.level&&e.level!==u.level))return!0}function h(u){return u=u||{},u.rows=u.rows||u.limit||10,u.start=u.start||0,u.until=u.until||new Date,typeof u.until!="object"&&(u.until=new Date(u.until)),u.from=u.from||u.until-24*60*60*1e3,typeof u.from!="object"&&(u.from=new Date(u.from)),u.order=u.order||"desc",u}}stream(e={}){let i=F.join(this.dirname,this.filename),r=new Q0,n={file:i,start:e.start};return r.destroy=Z0(n,(a,s)=>{if(a)return r.emit("error",a);try{r.emit("data",s),s=JSON.parse(s),r.emit("log",s)}catch(o){r.emit("error",o)}}),r}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,i)=>{if(e)return this.emit("error",e);ue("stat done: %s { size: %s }",this.filename,i),this._size=i,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){let i=this._getFile(),r=F.join(this.dirname,i);X.stat(r,(n,a)=>{if(n&&n.code==="ENOENT")return ue("ENOENT\xA0ok",r),this.filename=i,e(null,0);if(n)return ue(`err ${n.code} ${r}`),e(n);if(!a||this._needsNewFile(a.size))return this._incFile(()=>this.stat(e));this.filename=i,e(null,a.size)})}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e.destroy(),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){let i=F.join(this.dirname,this.filename);ue("create stream start",i,this.options);let r=X.createWriteStream(i,this.options).on("error",n=>ue(n)).on("close",()=>ue("close",r.path,r.bytesWritten)).on("open",()=>{ue("file open ok",i),this.emit("open",i),e.pipe(r),this.rotatedWhileOpening&&(this._stream=new Uu,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(r),e.end())});return ue("create stream ok",i),r}_incFile(e){ue("_incFile",this.filename);let i=F.extname(this._basename),r=F.basename(this._basename,i),n=[];this.zippedArchive&&n.push(function(a){let s=this._created>0&&!this.tailable?this._created:"";this._compressFile(F.join(this.dirname,`${r}${s}${i}`),F.join(this.dirname,`${r}${s}${i}.gz`),a)}.bind(this)),n.push(function(a){this.tailable?this._checkMaxFilesTailable(i,r,a):(this._created+=1,this._checkMaxFilesIncrementing(i,r,a))}.bind(this)),Bu(n,e)}_getFile(){let e=F.extname(this._basename),i=F.basename(this._basename,e),r=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${i}${r}${e}`:`${i}${e}`}_checkMaxFilesIncrementing(e,i,r){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(r);let n=this._created-this.maxFiles,a=n!==0?n:"",s=this.zippedArchive?".gz":"",o=`${i}${a}${e}${s}`,l=F.join(this.dirname,o);X.unlink(l,r)}_checkMaxFilesTailable(e,i,r){let n=[];if(!this.maxFiles)return;let a=this.zippedArchive?".gz":"";for(let s=this.maxFiles-1;s>1;s--)n.push(function(o,l){let c=`${i}${o-1}${e}${a}`,p=F.join(this.dirname,c);X.exists(p,h=>{if(!h)return l(null);c=`${i}${o}${e}${a}`,X.rename(p,F.join(this.dirname,c),l)})}.bind(this,s));Bu(n,()=>{X.rename(F.join(this.dirname,`${i}${e}${a}`),F.join(this.dirname,`${i}1${e}${a}`),r)})}_compressFile(e,i,r){X.access(e,X.F_OK,n=>{if(n)return r();var a=V0.createGzip(),s=X.createReadStream(e),o=X.createWriteStream(i);o.on("finish",()=>{X.unlink(e,r)}),s.pipe(a).pipe(o)})}_createLogDirIfNotExist(e){X.existsSync(e)||X.mkdirSync(e,{recursive:!0})}}});var Wu=f((G_,Yu)=>{"use strict";var ey=require("http"),ty=require("https"),{Stream:iy}=Ye(),ry=ot(),{configure:ny}=Et();Yu.exports=class extends ry{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.maximumDepth=e.maximumDepth,this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.batch=e.batch||!1,this.batchInterval=e.batchInterval||5e3,this.batchCount=e.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(e,i){this._request(e,null,null,(r,n)=>{n&&n.statusCode!==200&&(r=new Error(`Invalid HTTP Status Code: ${n.statusCode}`)),r?this.emit("warn",r):this.emit("logged",e)}),i&&setImmediate(i)}query(e,i){typeof e=="function"&&(i=e,e={}),e={method:"query",params:this.normalizeQuery(e)};let r=e.params.auth||null;delete e.params.auth;let n=e.params.path||null;delete e.params.path,this._request(e,r,n,(a,s,o)=>{if(s&&s.statusCode!==200&&(a=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),a)return i(a);if(typeof o=="string")try{o=JSON.parse(o)}catch(l){return i(l)}i(null,o)})}stream(e={}){let i=new iy;e={method:"stream",params:e};let r=e.params.path||null;delete e.params.path;let n=e.params.auth||null;delete e.params.auth;let a="",s=this._request(e,n,r);return i.destroy=()=>s.destroy(),s.on("data",o=>{o=(a+o).split(/\n+/);let l=o.length-1,c=0;for(;c<l;c++)try{i.emit("log",JSON.parse(o[c]))}catch(p){i.emit("error",p)}a=o[l]}),s.on("error",o=>i.emit("error",o)),i}_request(e,i,r,n){e=e||{},i=i||this.auth,r=r||this.path||"",this.batch?this._doBatch(e,n,i,r):this._doRequest(e,n,i,r)}_doBatch(e,i,r,n){if(this.batchOptions.push(e),this.batchOptions.length===1){let a=this;this.batchCallback=i,this.batchTimeoutID=setTimeout(function(){a.batchTimeoutID=-1,a._doBatchRequest(a.batchCallback,r,n)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,r,n)}_doBatchRequest(e,i,r){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let n=this.batchOptions.slice();this.batchOptions=[],this._doRequest(n,e,i,r)}_doRequest(e,i,r,n){let a=Object.assign({},this.headers);r&&r.bearer&&(a.Authorization=`Bearer ${r.bearer}`);let s=(this.ssl?ty:ey).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${n.replace(/^\//,"")}`,headers:a,auth:r&&r.username&&r.password?`${r.username}:${r.password}`:"",agent:this.agent});s.on("error",i),s.on("response",l=>l.on("end",()=>i(null,l)).resume());let o=ny({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});s.end(Buffer.from(o(e,this.options.replacer),"utf8"))}}});var Ma=f((Y_,Vu)=>{"use strict";var xe=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";xe.writable=t=>xe(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";xe.readable=t=>xe(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";xe.duplex=t=>xe.writable(t)&&xe.readable(t);xe.transform=t=>xe.duplex(t)&&typeof t._transform=="function";Vu.exports=xe});var Qu=f((V_,Ku)=>{"use strict";var ay=Ma(),{MESSAGE:sy}=P(),oy=require("os"),ly=ot();Ku.exports=class extends ly{constructor(e={}){if(super(e),!e.stream||!ay(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=typeof e.eol=="string"?e.eol:oy.EOL}log(e,i){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode){this._stream.write(e),i&&i();return}this._stream.write(`${e[sy]}${this.eol}`),i&&i()}}});var Ju=f(Ut=>{"use strict";Object.defineProperty(Ut,"Console",{configurable:!0,enumerable:!0,get(){return Zc()}});Object.defineProperty(Ut,"File",{configurable:!0,enumerable:!0,get(){return Gu()}});Object.defineProperty(Ut,"Http",{configurable:!0,enumerable:!0,get(){return Wu()}});Object.defineProperty(Ut,"Stream",{configurable:!0,enumerable:!0,get(){return Qu()}})});var tr=f($t=>{"use strict";var er=Mn(),{configs:Ca}=P();$t.cli=er.levels(Ca.cli);$t.npm=er.levels(Ca.npm);$t.syslog=er.levels(Ca.syslog);$t.addColors=er.levels});var Zu=f((ir,Xu)=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});var cy=Ci(),py=Ve(cy),uy=Di(),dy=Ve(uy),hy=da(),fy=Ve(hy),my=ca(),gy=Ve(my),vy=pa(),xy=Ve(vy),yy=Ge(),by=Ve(yy),wy=ct(),_y=Ve(wy);function Ve(t){return t&&t.__esModule?t:{default:t}}function Ey(t,e,i){i=(0,gy.default)(i);var r=0,n=0,{length:a}=t,s=!1;a===0&&i(null);function o(l,c){l===!1&&(s=!0),s!==!0&&(l?i(l):(++n===a||c===dy.default)&&i(null))}for(;r<a;r++)e(t[r],r,(0,xy.default)(o))}function Sy(t,e,i){return(0,fy.default)(t,1/0,e,i)}function Ty(t,e,i){var r=(0,py.default)(t)?Ey:Sy;return r(t,(0,by.default)(e),i)}ir.default=(0,_y.default)(Ty,3);Xu.exports=ir.default});var td=f((rr,ed)=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.default=ky;function ky(t){return(e,i,r)=>t(e,r)}ed.exports=rr.default});var sr=f((ar,id)=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});var Ay=Zu(),qy=nr(Ay),My=td(),Cy=nr(My),Oy=Ge(),jy=nr(Oy),Ry=ct(),Ly=nr(Ry);function nr(t){return t&&t.__esModule?t:{default:t}}function Iy(t,e,i){return(0,qy.default)(t,(0,Cy.default)((0,jy.default)(e)),i)}ar.default=(0,Ly.default)(Iy,3);id.exports=ar.default});var nd=f((J_,rd)=>{"use strict";var Ny=Object.prototype.toString;rd.exports=function(e){if(typeof e.displayName=="string"&&e.constructor.name)return e.displayName;if(typeof e.name=="string"&&e.name)return e.name;if(typeof e=="object"&&e.constructor&&typeof e.constructor.name=="string")return e.constructor.name;var i=e.toString(),r=Ny.call(e).slice(8,-1);return r==="Function"?i=i.substring(i.indexOf("(")+1,i.indexOf(")")):i=r,i||"anonymous"}});var Oa=f((X_,ad)=>{"use strict";var Py=nd();ad.exports=function(e){var i=0,r;function n(){return i||(i=1,r=e.apply(this,arguments),e=null),r}return n.displayName=Py(e),n}});var ja=f(Yt=>{Yt.get=function(t){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var i={},r=Error.prepareStackTrace;Error.prepareStackTrace=function(a,s){return s},Error.captureStackTrace(i,t||Yt.get);var n=i.stack;return Error.prepareStackTrace=r,Error.stackTraceLimit=e,n};Yt.parse=function(t){if(!t.stack)return[];var e=this,i=t.stack.split(`
`).slice(1);return i.map(function(r){if(r.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:r,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var n=r.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(n){var a=null,s=null,o=null,l=null,c=null,p=n[5]==="native";if(n[1]){o=n[1];var h=o.lastIndexOf(".");if(o[h-1]=="."&&h--,h>0){a=o.substr(0,h),s=o.substr(h+1);var u=a.indexOf(".Module");u>0&&(o=o.substr(u+1),a=a.substr(0,u))}l=null}s&&(l=a,c=s),s==="<anonymous>"&&(c=null,o=null);var d={fileName:n[2]||null,lineNumber:parseInt(n[3],10)||null,functionName:o,typeName:l,methodName:c,columnNumber:parseInt(n[4],10)||null,native:p};return e._createParsedCallSite(d)}}).filter(function(r){return!!r})};function Gt(t){for(var e in t)this[e]=t[e]}var Hy=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],zy=["topLevel","eval","native","constructor"];Hy.forEach(function(t){Gt.prototype[t]=null,Gt.prototype["get"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});zy.forEach(function(t){Gt.prototype[t]=!1,Gt.prototype["is"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});Yt._createParsedCallSite=function(t){return new Gt(t)}});var od=f((t1,sd)=>{"use strict";var{Writable:Dy}=Ye();sd.exports=class extends Dy{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,i,r){return e.exception?this.transport.log(e,r):(r(),!0)}}});var La=f((r1,pd)=>{"use strict";var ld=require("os"),Fy=sr(),Ra=Bt()("winston:exception"),By=Oa(),cd=ja(),Uy=od();pd.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(i=>{if(Array.isArray(i))return i.forEach(r=>this._addHandler(r));this._addHandler(i)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let i=null;return e&&(i=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`uncaughtException: ${i||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:ld.loadavg(),uptime:ld.uptime()}}getTrace(e){return(e?cd.parse(e):cd.get()).map(r=>({column:r.getColumnNumber(),file:r.getFileName(),function:r.getFunctionName(),line:r.getLineNumber(),method:r.getMethodName(),native:r.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;let i=new Uy(e);this.handlers.set(e,i),this.logger.pipe(i)}}_uncaughtException(e){let i=this.getAllInfo(e),r=this._getExceptionHandlers(),n=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,a;!r.length&&n&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),n=!1);function s(){Ra("doExit",n),Ra("process._exiting",process._exiting),n&&!process._exiting&&(a&&clearTimeout(a),process.exit(1))}if(!r||r.length===0)return process.nextTick(s);Fy(r,(o,l)=>{let c=By(l),p=o.transport||o;function h(u){return()=>{Ra(u),c()}}p._ending=!0,p.once("finish",h("finished")),p.once("error",h("error"))},()=>n&&s()),this.logger.log(i),n&&(a=setTimeout(s,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}});var dd=f((a1,ud)=>{"use strict";var{Writable:$y}=Ye();ud.exports=class extends $y{constructor(e){if(super({objectMode:!0}),!e)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=e}_write(e,i,r){return e.rejection?this.transport.log(e,r):(r(),!0)}}});var Na=f((o1,md)=>{"use strict";var hd=require("os"),Gy=sr(),Ia=Bt()("winston:rejection"),Yy=Oa(),fd=ja(),Wy=dd();md.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(i=>{if(Array.isArray(i))return i.forEach(r=>this._addHandler(r));this._addHandler(i)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let i=null;return e&&(i=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`unhandledRejection: ${i||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:hd.loadavg(),uptime:hd.uptime()}}getTrace(e){return(e?fd.parse(e):fd.get()).map(r=>({column:r.getColumnNumber(),file:r.getFileName(),function:r.getFunctionName(),line:r.getLineNumber(),method:r.getMethodName(),native:r.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;let i=new Wy(e);this.handlers.set(e,i),this.logger.pipe(i)}}_unhandledRejection(e){let i=this.getAllInfo(e),r=this._getRejectionHandlers(),n=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,a;!r.length&&n&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),n=!1);function s(){Ia("doExit",n),Ia("process._exiting",process._exiting),n&&!process._exiting&&(a&&clearTimeout(a),process.exit(1))}if(!r||r.length===0)return process.nextTick(s);Gy(r,(o,l)=>{let c=Yy(l),p=o.transport||o;function h(u){return()=>{Ia(u),c()}}p._ending=!0,p.once("finish",h("finished")),p.once("error",h("error"))},()=>n&&s()),this.logger.log(i),n&&(a=setTimeout(s,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}});var vd=f((l1,gd)=>{"use strict";var Pa=class{constructor(e){let i=or();if(typeof e!="object"||Array.isArray(e)||!(e instanceof i))throw new Error("Logger is required for profiling");this.logger=e,this.start=Date.now()}done(...e){typeof e[e.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());let i=typeof e[e.length-1]=="object"?e.pop():{};return i.level=i.level||"info",i.durationMs=Date.now()-this.start,this.logger.write(i)}};gd.exports=Pa});var or=f((c1,wd)=>{"use strict";var{Stream:Vy,Transform:Ky}=Ye(),xd=sr(),{LEVEL:ye,SPLAT:yd}=P(),bd=Ma(),Qy=La(),Jy=Na(),Xy=sa(),Zy=vd(),{warn:eb}=Cn(),tb=tr(),ib=/%[scdjifoO%]/g,lr=class extends Ky{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){let i=this;return Object.create(i,{write:{value:function(r){let n=Object.assign({},e,r);r instanceof Error&&(n.stack=r.stack,n.message=r.message),i.write(n)}}})}configure({silent:e,format:i,defaultMeta:r,levels:n,level:a="info",exitOnError:s=!0,transports:o,colors:l,emitErrs:c,formatters:p,padLevels:h,rewriters:u,stripColors:d,exceptionHandlers:m,rejectionHandlers:v}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=i||this.format||Sn()(),this.defaultMeta=r||null,this.levels=n||this.levels||tb.npm.levels,this.level=a,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new Qy(this),this.rejections=new Jy(this),this.profilers={},this.exitOnError=s,o&&(o=Array.isArray(o)?o:[o],o.forEach(x=>this.add(x))),l||c||p||h||u||d)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));m&&this.exceptions.handle(m),v&&this.rejections.handle(v)}isLevelEnabled(e){let i=Ha(this.levels,e);if(i===null)return!1;let r=Ha(this.levels,this.level);return r===null?!1:!this.transports||this.transports.length===0?r>=i:this.transports.findIndex(a=>{let s=Ha(this.levels,a.level);return s===null&&(s=r),s>=i})!==-1}log(e,i,...r){if(arguments.length===1)return e[ye]=e.level,this._addDefaultMeta(e),this.write(e),this;if(arguments.length===2)return i&&typeof i=="object"?(i[ye]=i.level=e,this._addDefaultMeta(i),this.write(i),this):(i={[ye]:e,level:e,message:i},this._addDefaultMeta(i),this.write(i),this);let[n]=r;if(typeof n=="object"&&n!==null&&!(i&&i.match&&i.match(ib))){let s=Object.assign({},this.defaultMeta,n,{[ye]:e,[yd]:r,level:e,message:i});return n.message&&(s.message=`${s.message} ${n.message}`),n.stack&&(s.stack=n.stack),this.write(s),this}return this.write(Object.assign({},this.defaultMeta,{[ye]:e,[yd]:r,level:e,message:i})),this}_transform(e,i,r){if(this.silent)return r();e[ye]||(e[ye]=e.level),!this.levels[e[ye]]&&this.levels[e[ye]]!==0&&console.error("[winston] Unknown logger level: %s",e[ye]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,r()}}_final(e){let i=this.transports.slice();xd(i,(r,n)=>{if(!r||r.finished)return setImmediate(n);r.once("finish",n),r.end()},e)}add(e){let i=!bd(e)||e.log.length>2?new Xy({transport:e}):e;if(!i._writableState||!i._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",i),this._onEvent("warn",i),this.pipe(i),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let i=e;return(!bd(e)||e.log.length>2)&&(i=this.transports.filter(r=>r.transport===e)[0]),i&&this.unpipe(i),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){eb.deprecated("setLevels")}query(e,i){typeof e=="function"&&(i=e,e={}),e=e||{};let r={},n=Object.assign({},e.query||{});function a(o,l){e.query&&typeof o.formatQuery=="function"&&(e.query=o.formatQuery(n)),o.query(e,(c,p)=>{if(c)return l(c);typeof o.formatResults=="function"&&(p=o.formatResults(p,e.format)),l(null,p)})}function s(o,l){a(o,(c,p)=>{l&&(p=c||p,p&&(r[o.name]=p),l()),l=null})}xd(this.transports.filter(o=>!!o.query),s,()=>i(null,r))}stream(e={}){let i=new Vy,r=[];return i._streams=r,i.destroy=()=>{let n=r.length;for(;n--;)r[n].destroy()},this.transports.filter(n=>!!n.stream).forEach(n=>{let a=n.stream(e);a&&(r.push(a),a.on("log",s=>{s.transport=s.transport||[],s.transport.push(n.name),i.emit("log",s)}),a.on("error",s=>{s.transport=s.transport||[],s.transport.push(n.name),i.emit("error",s)}))}),i}startTimer(){return new Zy(this)}profile(e,...i){let r=Date.now();if(this.profilers[e]){let n=this.profilers[e];delete this.profilers[e],typeof i[i.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),i.pop());let a=typeof i[i.length-1]=="object"?i.pop():{};return a.level=a.level||"info",a.durationMs=r-n,a.message=a.message||e,this.write(a)}return this.profilers[e]=r,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(e,i){function r(n){e==="error"&&!this.transports.includes(i)&&this.add(i),this.emit(e,n,i)}i["__winston"+e]||(i["__winston"+e]=r.bind(this),i.on(e,i["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}};function Ha(t,e){let i=t[e];return!i&&i!==0?null:i}Object.defineProperty(lr.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:t}=this._readableState;return Array.isArray(t)?t:[t].filter(Boolean)}});wd.exports=lr});var za=f((p1,_d)=>{"use strict";var{LEVEL:rb}=P(),nb=tr(),ab=or(),sb=Bt()("winston:create-logger");function ob(t){return"is"+t.charAt(0).toUpperCase()+t.slice(1)+"Enabled"}_d.exports=function(t={}){t.levels=t.levels||nb.npm.levels;class e extends ab{constructor(n){super(n)}}let i=new e(t);return Object.keys(t.levels).forEach(function(r){if(sb('Define prototype method for "%s"',r),r==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}e.prototype[r]=function(...n){let a=this||i;if(n.length===1){let[s]=n,o=s&&s.message&&s||{message:s};return o.level=o[rb]=r,a._addDefaultMeta(o),a.write(o),this||i}return n.length===0?(a.log(r,""),a):a.log(r,...n)},e.prototype[ob(r)]=function(){return(this||i).isLevelEnabled(r)}}),i}});var Sd=f((d1,Ed)=>{"use strict";var lb=za();Ed.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,i){if(!this.loggers.has(e)){i=Object.assign({},i||this.options);let r=i.transports||this.options.transports;r?i.transports=Array.isArray(r)?r.slice():[r]:i.transports=[];let n=lb(i);n.on("close",()=>this._delete(e)),this.loggers.set(e,n)}return this.loggers.get(e)}get(e,i){return this.add(e,i)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((i,r)=>this._removeLogger(r))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}});var kd=f(C=>{"use strict";var Td=Mn(),{warn:Wt}=Cn();C.version=Jl().version;C.transports=Ju();C.config=tr();C.addColors=Td.levels;C.format=Td.format;C.createLogger=za();C.Logger=or();C.ExceptionHandler=La();C.RejectionHandler=Na();C.Container=Sd();C.Transport=ot();C.loggers=new C.Container;var be=C.createLogger();Object.keys(C.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(t=>C[t]=(...e)=>be[t](...e));Object.defineProperty(C,"level",{get(){return be.level},set(t){be.level=t}});Object.defineProperty(C,"exceptions",{get(){return be.exceptions}});Object.defineProperty(C,"rejections",{get(){return be.rejections}});["exitOnError"].forEach(t=>{Object.defineProperty(C,t,{get(){return be[t]},set(e){be[t]=e}})});Object.defineProperty(C,"default",{get(){return{exceptionHandlers:be.exceptionHandlers,rejectionHandlers:be.rejectionHandlers,transports:be.transports}}});Wt.deprecated(C,"setLevels");Wt.forFunctions(C,"useFormat",["cli"]);Wt.forProperties(C,"useFormat",["padLevels","stripColors"]);Wt.forFunctions(C,"deprecated",["addRewriter","addFilter","clone","extend"]);Wt.forProperties(C,"deprecated",["emitErrs","levelLength"])});var qd=f((f1,Ad)=>{var Se=kd(),cb=Se.createLogger({level:"info",format:Se.format.combine(Se.format.timestamp(),Se.format.printf(({timestamp:t,level:e,message:i})=>`${t} => [${e}]: ${i}`)),transports:[new Se.transports.Console({format:Se.format.combine(Se.format.colorize(),Se.format.simple())}),new Se.transports.File({filename:"./logs/app.log"})]});Ad.exports=cb});var pb=qo(),B=qd(),ub=pb.createTransport({host:process.env.SMTP_HOST,port:process.env.SMTP_PORT,secure:process.env.SMTP_SECURE==="true",auth:{user:process.env.SMTP_USER,pass:process.env.SMTP_PASS}}),K=async(t,e,i,r,n)=>{try{let a=process.env.SMTP_USER,s={from:`"${t}" <${a}>`,to:e,subject:i,text:r,html:n};B.info("Sending email",{fromName:t,fromEmail:a,to:e,subject:i,text:r,html:n}),await ub.sendMail(s),B.info("Email sent successfully",{fromName:t,fromEmail:a,to:e,subject:i})}catch(a){throw B.error("Error sending email",{fromName:t,fromEmail,to:e,subject:i,error:a.message}),a}},db=async(t,e,i)=>{let r="Verification | Hauknetz",n=`https://${process.env.CLIENT_BASE_URL}:${process.env.CLIENT_PORT}/verify-email/${i}`,a="Verify Your Email Address",s=`Hello ${e},

Please verify your email address by clicking on the following link: ${n}

Thank you!`,o=`
    <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #ffffff;">
        <header style="border-bottom: 1px solid #dddddd; padding-bottom: 20px; margin-bottom: 20px; text-align: center;">
            <div style="margin-bottom: 20px;">
                <a href="https://nodcord.hauknetz.de/" style="display: inline-block;">
                    <img src="http://hauknetz.de:3000/assets/img/logo.png" alt="Logo" style="height: 40px;">
                </a>
            </div>

            <nav style="text-align: center; margin-bottom: 20px;">
                <a href="https://nodcord.hauknetz.de/" style="color: #007bff; text-decoration: none; display: inline-block; margin: 0 10px;">Home</a>
                <a href="https://nodcord.hauknetz.de/news" style="color: #007bff; text-decoration: none; display: inline-block; margin: 0 10px;">Blog</a>
                <a href="https://nodcord.hauknetz.de/tutorials" style="color: #007bff; text-decoration: none; display: inline-block; margin: 0 10px;">Tutorials</a>
                <a href="https://nodcord.hauknetz.de/support" style="color: #007bff; text-decoration: none; display: inline-block; margin: 0 10px;">Support</a>
            </nav>
        </header>

        <main style="text-align: center;">
            <h2 style="color: #333333; margin-bottom: 20px;">Hi ${e},</h2>

            <p style="color: #666666; line-height: 1.6; margin-bottom: 20px;">
                We\u2019re glad to have you onboard! You\u2019re already on your way to
                creating beautiful visual products. Whether you\u2019re here for your brand,
                for a cause, or just for fun \u2014 welcome! If there\u2019s anything you need,
                we\u2019ll be here every step of the way.
            </p>

            <p style="color: #666666; margin-bottom: 20px;">
                Please verify your email address by clicking on the button below:
            </p>

            <a href="${n}" style="display: inline-block; background-color: #007bff; color: #ffffff; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin: 0 auto; text-align: center;">Verify Email</a>

            <p style="color: #666666; margin-bottom: 20px;">
                Thanks, <br>
                The Hauknetz team
            </p>
        </main>

        <footer style="border-top: 1px solid #dddddd; padding-top: 20px; margin-top: 20px;">
            <p style="text-align: center; color: #999999; margin-bottom: 10px;">
              This email was sent to <a href="mailto:${t}" style="color: #007bff; text-decoration: underline;">${t}</a>.
            </p>

            <p style="text-align: center; color: #999999;">${new Date().getFullYear()} \xA9 Hauknetz. All rights reserved.</p>
        </footer>
    </div>
  `;B.info("Preparing registration verification email",{fromName:r,to:t,username:e}),await K(r,t,a,s,o)},hb=async(t,e)=>{let i="Verification | Hauknetz",r="Email Verification Successful",n=`Hello ${e},

Your email address has been successfully verified. You can now log in to your account.

Thank you!`,a=`
    <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #ffffff;">
        <header style="border-bottom: 1px solid #dddddd; padding-bottom: 20px; margin-bottom: 20px; text-align: center;">
            <div style="margin-bottom: 20px;">
                <a href="https://nodcord.hauknetz.de/" style="display: inline-block;">
                    <img src="http://hauknetz.de:3000/assets/img/logo.png" alt="Logo" style="height: 40px;">
                </a>
            </div>

            <nav style="text-align: center; margin-bottom: 20px;">
                <a href="https://nodcord.hauknetz.de/" style="color: #007bff; text-decoration: none; display: inline-block; margin: 0 10px;">Home</a>
                <a href="https://nodcord.hauknetz.de/news" style="color: #007bff; text-decoration: none; display: inline-block; margin: 0 10px;">Blog</a>
                <a href="https://nodcord.hauknetz.de/tutorials" style="color: #007bff; text-decoration: none; display: inline-block; margin: 0 10px;">Tutorials</a>
                <a href="https://nodcord.hauknetz.de/support" style="color: #007bff; text-decoration: none; display: inline-block; margin: 0 10px;">Support</a>
            </nav>
        </header>

        <main style="text-align: center;">
            <h2 style="color: #333333; margin-bottom: 20px;">Hello ${e},</h2>

            <p style="color: #666666; line-height: 1.6; margin-bottom: 20px;">
                Your email address has been successfully verified. You can now log in to your account.
            </p>

            <p style="color: #666666; margin-bottom: 20px;">
                Thank you for verifying your email!
            </p>
        </main>

        <footer style="border-top: 1px solid #dddddd; padding-top: 20px; margin-top: 20px;">
            <p style="text-align: center; color: #999999; margin-bottom: 10px;">
              This email was sent to <a href="mailto:${t}" style="color: #007bff; text-decoration: underline;">${t}</a>.
            </p>

            <p style="text-align: center; color: #999999;">${new Date().getFullYear()} \xA9 Hauknetz. All rights reserved.</p>
        </footer>
    </div>
  `;B.info("Preparing verification success email",{fromName:i,to:t,username:e}),await K(i,t,r,n,a)},fb=async(t,e,i)=>{let r="Verification | Hauknetz",n="OAuth2 Code Verification",a=`Hello ${e},

Your verification code is: ${i}

Please use this code to complete the OAuth2 verification process.

Thank you!`,s=`
    <section style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #ffffff;">
        <header style="margin-bottom: 20px;">
            <a href="https://nodcord.hauknetz.de/">
                <img src="http://hauknetz.de:3000/assets/img/logo.png" alt="Logo" style="height: 40px; width: auto;">
            </a>
        </header>

        <main>
            <p style="font-size: 20px; color: #333333;">Hello ${e},</p>

            <p style="margin-top: 16px; color: #666666; line-height: 1.6;">
                We have received a request to verify your account. Here is your verification code:
            </p>

            <div style="background-color: #f1f1f1; padding: 16px; border-radius: 4px; margin-top: 16px;">
                <p style="font-size: 18px; color: #333333; text-align: center;">${i}</p>
            </div>

            <p style="margin-top: 16px; color: #666666;">
                Please use this code to complete the OAuth2 verification process. If you did not request this, please ignore this email.
            </p>

            <button style="display: inline-block; padding: 10px 20px; margin-top: 16px; font-size: 14px; color: #ffffff; background-color: #007bff; text-decoration: none; border-radius: 5px; transition: background-color 0.3s;">
                <a href="#" style="color: #ffffff; text-decoration: none;">Complete Verification</a>
            </button>
        </main>

        <footer style="margin-top: 20px; text-align: center;">
            <p style="color: #999999; margin-bottom: 10px;">
                This email was sent to <a href="mailto:${t}" style="color: #007bff; text-decoration: underline;">${t}</a>.
                If you'd rather not receive this kind of email, you can <a href="#" style="color: #007bff; text-decoration: underline;">unsubscribe</a> or <a href="#" style="color: #007bff; text-decoration: underline;">manage your email preferences</a>.
            </p>

            <p style="color: #999999;">${new Date().getFullYear()} \xA9 Hauknetz. All Rights Reserved.</p>
        </footer>
    </section>
  `;B.info("Preparing OAuth2 code verification email",{fromName:r,to:t,username:e}),await K(r,t,n,a,s)},mb=async(t,e)=>{let i="Subscription | Hauknetz",r="Subscription Confirmation",n=`Dear ${e},

Thank you for subscribing to our newsletter! We're excited to keep you updated with the latest news and offers.

Best regards,
Your Company`,a=`<p>Dear ${e},</p><p>Thank you for subscribing to our newsletter! We're excited to keep you updated with the latest news and offers.</p><p>Best regards,<br>Your Company</p>`;B.info("Preparing subscription confirmation email",{fromName:i,to:t,name:e}),await K(i,t,r,n,a)},gb=async(t,e)=>{let i="Order | Hauknetz",r="Order Confirmation",n=`Thank you for your order! Here are your order details:

${e}

Thank you for shopping with us!`,a=`<p>Thank you for your order! Here are your order details:</p><pre>${e}</pre><p>Thank you for shopping with us!</p>`;B.info("Preparing order confirmation email",{fromName:i,to:t,orderDetails:e}),await K(i,t,r,n,a)},vb=async(t,e)=>{let i="Order Shipping | Hauknetz",r="Your Order Has Shipped",n=`Your order has been shipped! You can track your shipment using the following tracking number: ${e}.`,a=`<p>Your order has been shipped!</p><p>You can track your shipment using the following tracking number: <strong>${e}</strong>.</p>`;B.info("Preparing shipping notification email",{fromName:i,to:t,trackingNumber:e}),await K(i,t,r,n,a)},xb=async(t,e)=>{let i="Order Return | Hauknetz",r="Return Order Confirmation",n=`Your return order has been processed. Here are the details:

${e}

Thank you!`,a=`<p>Your return order has been processed. Here are the details:</p><pre>${e}</pre><p>Thank you!</p>`;B.info("Preparing return order confirmation email",{fromName:i,to:t,returnDetails:e}),await K(i,t,r,n,a)},yb=async(t,e)=>{let i="Invitation | Hauknetz",r="You Are Invited!",n=`You are invited to the following event:

${e}

We hope to see you there!`,a=`<p>You are invited to the following event:</p><pre>${e}</pre><p>We hope to see you there!</p>`;B.info("Preparing invitation email",{fromName:i,to:t,eventDetails:e}),await K(i,t,r,n,a)},bb=async(t,e)=>{let i="Ticket | Hauknetz",r="New Ticket Created",n=`A new ticket has been created. Here are the details:

${e}

Thank you!`,a=`<p>A new ticket has been created. Here are the details:</p><pre>${e}</pre><p>Thank you!</p>`;B.info("Preparing ticket created email",{fromName:i,to:t,ticketDetails:e}),await K(i,t,r,n,a)},wb=async(t,e)=>{let i="Ticket | Hauknetz",r="Ticket Closed",n=`Your ticket has been closed. Here are the details:

${e}

Thank you!`,a=`<p>Your ticket has been closed. Here are the details:</p><pre>${e}</pre><p>Thank you!</p>`;B.info("Preparing ticket closed email",{fromName:i,to:t,ticketDetails:e}),await K(i,t,r,n,a)},_b=async(t,e)=>{let i="Ticket | Hauknetz",r="Ticket Reply",n=`You have received a reply to your ticket. Here are the details:

${e}

Thank you!`,a=`<p>You have received a reply to your ticket. Here are the details:</p><pre>${e}</pre><p>Thank you!</p>`;B.info("Preparing ticket reply email",{fromName:i,to:t,replyDetails:e}),await K(i,t,r,n,a)},Eb=async(t,e)=>{let i="Project | Hauknetz",r="Project Status Update",n=`There is an update on your project. Here are the details:

${e}

Thank you!`,a=`<p>There is an update on your project. Here are the details:</p><pre>${e}</pre><p>Thank you!</p>`;B.info("Preparing project status update email",{fromName:i,to:t,projectUpdateDetails:e}),await K(i,t,r,n,a)},Sb=async(t,e)=>{let i="Developer Program | Hauknetz",r="Developer Program Confirmation",n=`Hello ${e},

You have successfully joined the developer program. You can now generate and use API keys for your projects.

Thank you!`,a=`<p>Hello ${e},</p><p>You have successfully joined the developer program. You can now generate and use API keys for your projects.</p><p>Thank you!</p>`;B.info("Preparing developer program join email",{fromName:i,to:t,username:e}),await K(i,t,r,n,a)},Tb=async(t,e)=>{let i="Developer Program | Hauknetz",r="Developer Program Exit Confirmation",n=`Hello ${e},

You have successfully left the developer program. Your API keys will no longer be valid.

Thank you!`,a=`<p>Hello ${e},</p><p>You have successfully left the developer program. Your API keys will no longer be valid.</p><p>Thank you!</p>`;B.info("Preparing developer program leave email",{fromName:i,to:t,username:e}),await K(i,t,r,n,a)},kb=async(t,e,i,r)=>{let n="Updates | Hauknetz",a="Exciting Update Available!",s=`Hello,

We are excited to announce a new update for our software. ${e}

${i}

You can learn more about this update and download it here: ${r}

Thank you!`,o=`
    <section style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #ffffff;">
        <header style="display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #dddddd; padding-bottom: 20px; margin-bottom: 20px;">
            <a href="https://nodcord.hauknetz.de/">
                <img src="http://hauknetz.de:3000/assets/img/logo.png" alt="Logo" style="height: 40px; width: auto;">
            </a>

            <div style="display: flex; gap: 16px;">
                <a href="https://nodcord.hauknetz.de/login" style="text-decoration: none; color: #007bff; font-size: 14px; transition: color 0.3s;">Login</a>
                <a href="https://nodcord.hauknetz.de/register" style="text-decoration: none; color: #007bff; font-size: 14px; transition: color 0.3s;">Register</a>
            </div>
        </header>

        <main>
            <img src="https://images.unsplash.com/photo-1545235617-9465d2a55698?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80" alt="Update Image" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 20px;">

            <h2 style="color: #333333; margin-bottom: 16px; font-size: 24px;">${e}</h2>

            <p style="color: #666666; line-height: 1.6; margin-bottom: 20px;">
                ${i}
            </p>

            <a href="${r}" style="display: inline-flex; align-items: center; padding: 10px 20px; font-size: 14px; color: #ffffff; background-color: #007bff; text-decoration: none; border-radius: 5px; transition: background-color 0.3s;">
                Learn More
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 16px; height: 16px; margin-left: 8px;">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                </svg>
            </a>
        </main>

        <footer style="border-top: 1px solid #dddddd; padding-top: 20px; margin-top: 20px; text-align: center;">
            <p style="color: #999999; margin-bottom: 10px;">
                This email was sent to <a href="mailto:${t}" style="color: #007bff; text-decoration: underline;">${t}</a>.
            </p>

            <p style="color: #999999;">${new Date().getFullYear()} \xA9 Hauknetz. All Rights Reserved.</p>
        </footer>
    </section>
  `;B.info("Preparing update notification email",{fromName:n,to:t,updateTitle:e}),await K(n,t,a,s,o)};module.exports={sendRegistrationVerificationEmail:db,sendVerificationSuccessEmail:hb,sendOAuth2CodeVerificationEmail:fb,sendOrderConfirmationEmail:gb,sendShippingNotificationEmail:vb,sendInvitationEmail:yb,sendReturnOrderEmail:xb,sendTicketCreatedEmail:bb,sendTicketClosedEmail:wb,sendTicketReplyEmail:_b,sendProjectStatusUpdateEmail:Eb,sendSubscriptionConfirmation:mb,sendDeveloperProgramJoinEmail:Sb,sendDeveloperProgramLeaveEmail:Tb,sendUpdateNotificationEmail:kb};
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=nodemailerService.js.map
